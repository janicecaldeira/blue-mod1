(()=>{var Wu={9809:(v,W,k)=>{"use strict";const E=W;E.bignum=k(3550),E.define=k(2500).define,E.base=k(1979),E.constants=k(6826),E.decoders=k(8307),E.encoders=k(6579)},2500:(v,W,k)=>{"use strict";const E=k(6579),O=k(8307),R=k(5717),y=W;y.define=function(a,f){return new n(a,f)};function n(u,a){this.name=u,this.body=a,this.decoders={},this.encoders={}}n.prototype._createNamed=function(a){const f=this.name;function b(c){this._initNamed(c,f)}return R(b,a),b.prototype._initNamed=function(l,T){a.call(this,l,T)},new b(this)},n.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(O[a])),this.decoders[a]},n.prototype.decode=function(a,f,b){return this._getDecoder(f).decode(a,b)},n.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(E[a])),this.encoders[a]},n.prototype.encode=function(a,f,b){return this._getEncoder(f).encode(a,b)}},6625:(v,W,k)=>{"use strict";const E=k(5717),O=k(8465).b,R=k(2399).Buffer;function y(u,a){if(O.call(this,a),!R.isBuffer(u)){this.error("Input not Buffer");return}this.base=u,this.offset=0,this.length=u.length}E(y,O),W.C=y,y.isDecoderBuffer=function(a){return a instanceof y?!0:typeof a=="object"&&R.isBuffer(a.base)&&a.constructor.name==="DecoderBuffer"&&typeof a.offset=="number"&&typeof a.length=="number"&&typeof a.save=="function"&&typeof a.restore=="function"&&typeof a.isEmpty=="function"&&typeof a.readUInt8=="function"&&typeof a.skip=="function"&&typeof a.raw=="function"},y.prototype.save=function(){return{offset:this.offset,reporter:O.prototype.save.call(this)}},y.prototype.restore=function(a){const f=new y(this.base);return f.offset=a.offset,f.length=this.offset,this.offset=a.offset,O.prototype.restore.call(this,a.reporter),f},y.prototype.isEmpty=function(){return this.offset===this.length},y.prototype.readUInt8=function(a){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(a||"DecoderBuffer overrun")},y.prototype.skip=function(a,f){if(!(this.offset+a<=this.length))return this.error(f||"DecoderBuffer overrun");const b=new y(this.base);return b._reporterState=this._reporterState,b.offset=this.offset,b.length=this.offset+a,this.offset+=a,b},y.prototype.raw=function(a){return this.base.slice(a?a.offset:this.offset,this.length)};function n(u,a){if(Array.isArray(u))this.length=0,this.value=u.map(function(f){return n.isEncoderBuffer(f)||(f=new n(f,a)),this.length+=f.length,f},this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return a.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=R.byteLength(u);else if(R.isBuffer(u))this.value=u,this.length=u.length;else return a.error("Unsupported type: "+typeof u)}W.R=n,n.isEncoderBuffer=function(a){return a instanceof n?!0:typeof a=="object"&&a.constructor.name==="EncoderBuffer"&&typeof a.length=="number"&&typeof a.join=="function"},n.prototype.join=function(a,f){return a||(a=R.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(b){b.join(a,f),f+=b.length}):(typeof this.value=="number"?a[f]=this.value:typeof this.value=="string"?a.write(this.value,f):R.isBuffer(this.value)&&this.value.copy(a,f),f+=this.length)),a}},1979:(v,W,k)=>{"use strict";const E=W;E.Reporter=k(8465).b,E.DecoderBuffer=k(6625).C,E.EncoderBuffer=k(6625).R,E.Node=k(1949)},1949:(v,W,k)=>{"use strict";const E=k(8465).b,O=k(6625).R,R=k(6625).C,y=k(9746),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n),a=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function f(c,l,T){const d={};this._baseState=d,d.name=T,d.enc=c,d.parent=l||null,d.children=null,d.tag=null,d.args=null,d.reverseArgs=null,d.choice=null,d.optional=!1,d.any=!1,d.obj=!1,d.use=null,d.useDecoder=null,d.key=null,d.default=null,d.explicit=null,d.implicit=null,d.contains=null,d.parent||(d.children=[],this._wrap())}v.exports=f;const b=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const l=this._baseState,T={};b.forEach(function(m){T[m]=l[m]});const d=new this.constructor(T.parent);return d._baseState=T,d},f.prototype._wrap=function(){const l=this._baseState;u.forEach(function(T){this[T]=function(){const m=new this.constructor(this);return l.children.push(m),m[T].apply(m,arguments)}},this)},f.prototype._init=function(l){const T=this._baseState;y(T.parent===null),l.call(this),T.children=T.children.filter(function(d){return d._baseState.parent===this},this),y.equal(T.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(l){const T=this._baseState,d=l.filter(function(m){return m instanceof this.constructor},this);l=l.filter(function(m){return!(m instanceof this.constructor)},this),d.length!==0&&(y(T.children===null),T.children=d,d.forEach(function(m){m._baseState.parent=this},this)),l.length!==0&&(y(T.args===null),T.args=l,T.reverseArgs=l.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const g={};return Object.keys(m).forEach(function(S){S==(S|0)&&(S|=0);const D=m[S];g[D]=S}),g}))},a.forEach(function(c){f.prototype[c]=function(){const T=this._baseState;throw new Error(c+" not implemented for encoding: "+T.enc)}}),n.forEach(function(c){f.prototype[c]=function(){const T=this._baseState,d=Array.prototype.slice.call(arguments);return y(T.tag===null),T.tag=c,this._useArgs(d),this}}),f.prototype.use=function(l){y(l);const T=this._baseState;return y(T.use===null),T.use=l,this},f.prototype.optional=function(){const l=this._baseState;return l.optional=!0,this},f.prototype.def=function(l){const T=this._baseState;return y(T.default===null),T.default=l,T.optional=!0,this},f.prototype.explicit=function(l){const T=this._baseState;return y(T.explicit===null&&T.implicit===null),T.explicit=l,this},f.prototype.implicit=function(l){const T=this._baseState;return y(T.explicit===null&&T.implicit===null),T.implicit=l,this},f.prototype.obj=function(){const l=this._baseState,T=Array.prototype.slice.call(arguments);return l.obj=!0,T.length!==0&&this._useArgs(T),this},f.prototype.key=function(l){const T=this._baseState;return y(T.key===null),T.key=l,this},f.prototype.any=function(){const l=this._baseState;return l.any=!0,this},f.prototype.choice=function(l){const T=this._baseState;return y(T.choice===null),T.choice=l,this._useArgs(Object.keys(l).map(function(d){return l[d]})),this},f.prototype.contains=function(l){const T=this._baseState;return y(T.use===null),T.contains=l,this},f.prototype._decode=function(l,T){const d=this._baseState;if(d.parent===null)return l.wrapResult(d.children[0]._decode(l,T));let m=d.default,g=!0,S=null;if(d.key!==null&&(S=l.enterKey(d.key)),d.optional){let w=null;if(d.explicit!==null?w=d.explicit:d.implicit!==null?w=d.implicit:d.tag!==null&&(w=d.tag),w===null&&!d.any){const F=l.save();try{d.choice===null?this._decodeGeneric(d.tag,l,T):this._decodeChoice(l,T),g=!0}catch(H){g=!1}l.restore(F)}else if(g=this._peekTag(l,w,d.any),l.isError(g))return g}let D;if(d.obj&&g&&(D=l.enterObject()),g){if(d.explicit!==null){const F=this._decodeTag(l,d.explicit);if(l.isError(F))return F;l=F}const w=l.offset;if(d.use===null&&d.choice===null){let F;d.any&&(F=l.save());const H=this._decodeTag(l,d.implicit!==null?d.implicit:d.tag,d.any);if(l.isError(H))return H;d.any?m=l.raw(F):l=H}if(T&&T.track&&d.tag!==null&&T.track(l.path(),w,l.length,"tagged"),T&&T.track&&d.tag!==null&&T.track(l.path(),l.offset,l.length,"content"),d.any||(d.choice===null?m=this._decodeGeneric(d.tag,l,T):m=this._decodeChoice(l,T)),l.isError(m))return m;if(!d.any&&d.choice===null&&d.children!==null&&d.children.forEach(function(H){H._decode(l,T)}),d.contains&&(d.tag==="octstr"||d.tag==="bitstr")){const F=new R(m);m=this._getUse(d.contains,l._reporterState.obj)._decode(F,T)}}return d.obj&&g&&(m=l.leaveObject(D)),d.key!==null&&(m!==null||g===!0)?l.leaveKey(S,d.key,m):S!==null&&l.exitKey(S),m},f.prototype._decodeGeneric=function(l,T,d){const m=this._baseState;return l==="seq"||l==="set"?null:l==="seqof"||l==="setof"?this._decodeList(T,l,m.args[0],d):/str$/.test(l)?this._decodeStr(T,l,d):l==="objid"&&m.args?this._decodeObjid(T,m.args[0],m.args[1],d):l==="objid"?this._decodeObjid(T,null,null,d):l==="gentime"||l==="utctime"?this._decodeTime(T,l,d):l==="null_"?this._decodeNull(T,d):l==="bool"?this._decodeBool(T,d):l==="objDesc"?this._decodeStr(T,l,d):l==="int"||l==="enum"?this._decodeInt(T,m.args&&m.args[0],d):m.use!==null?this._getUse(m.use,T._reporterState.obj)._decode(T,d):T.error("unknown tag: "+l)},f.prototype._getUse=function(l,T){const d=this._baseState;return d.useDecoder=this._use(l,T),y(d.useDecoder._baseState.parent===null),d.useDecoder=d.useDecoder._baseState.children[0],d.implicit!==d.useDecoder._baseState.implicit&&(d.useDecoder=d.useDecoder.clone(),d.useDecoder._baseState.implicit=d.implicit),d.useDecoder},f.prototype._decodeChoice=function(l,T){const d=this._baseState;let m=null,g=!1;return Object.keys(d.choice).some(function(S){const D=l.save(),w=d.choice[S];try{const F=w._decode(l,T);if(l.isError(F))return!1;m={type:S,value:F},g=!0}catch(F){return l.restore(D),!1}return!0},this),g?m:l.error("Choice not matched")},f.prototype._createEncoderBuffer=function(l){return new O(l,this.reporter)},f.prototype._encode=function(l,T,d){const m=this._baseState;if(m.default!==null&&m.default===l)return;const g=this._encodeValue(l,T,d);if(g!==void 0&&!this._skipDefault(g,T,d))return g},f.prototype._encodeValue=function(l,T,d){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(l,T||new E);let g=null;if(this.reporter=T,m.optional&&l===void 0)if(m.default!==null)l=m.default;else return;let S=null,D=!1;if(m.any)g=this._createEncoderBuffer(l);else if(m.choice)g=this._encodeChoice(l,T);else if(m.contains)S=this._getUse(m.contains,d)._encode(l,T),D=!0;else if(m.children)S=m.children.map(function(w){if(w._baseState.tag==="null_")return w._encode(null,T,l);if(w._baseState.key===null)return T.error("Child should have a key");const F=T.enterKey(w._baseState.key);if(typeof l!="object")return T.error("Child expected, but input is not object");const H=w._encode(l[w._baseState.key],T,l);return T.leaveKey(F),H},this).filter(function(w){return w}),S=this._createEncoderBuffer(S);else if(m.tag==="seqof"||m.tag==="setof"){if(!(m.args&&m.args.length===1))return T.error("Too many args for : "+m.tag);if(!Array.isArray(l))return T.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,S=this._createEncoderBuffer(l.map(function(F){const H=this._baseState;return this._getUse(H.args[0],l)._encode(F,T)},w))}else m.use!==null?g=this._getUse(m.use,d)._encode(l,T):(S=this._encodePrimitive(m.tag,l),D=!0);if(!m.any&&m.choice===null){const w=m.implicit!==null?m.implicit:m.tag,F=m.implicit===null?"universal":"context";w===null?m.use===null&&T.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(w,D,F,S))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},f.prototype._encodeChoice=function(l,T){const d=this._baseState,m=d.choice[l.type];return m||y(!1,l.type+" not found in "+JSON.stringify(Object.keys(d.choice))),m._encode(l.value,T)},f.prototype._encodePrimitive=function(l,T){const d=this._baseState;if(/str$/.test(l))return this._encodeStr(T,l);if(l==="objid"&&d.args)return this._encodeObjid(T,d.reverseArgs[0],d.args[1]);if(l==="objid")return this._encodeObjid(T,null,null);if(l==="gentime"||l==="utctime")return this._encodeTime(T,l);if(l==="null_")return this._encodeNull();if(l==="int"||l==="enum")return this._encodeInt(T,d.args&&d.reverseArgs[0]);if(l==="bool")return this._encodeBool(T);if(l==="objDesc")return this._encodeStr(T,l);throw new Error("Unsupported tag: "+l)},f.prototype._isNumstr=function(l){return/^[0-9 ]*$/.test(l)},f.prototype._isPrintstr=function(l){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(l)}},8465:(v,W,k)=>{"use strict";const E=k(5717);function O(y){this._reporterState={obj:null,path:[],options:y||{},errors:[]}}W.b=O,O.prototype.isError=function(n){return n instanceof R},O.prototype.save=function(){const n=this._reporterState;return{obj:n.obj,pathLen:n.path.length}},O.prototype.restore=function(n){const u=this._reporterState;u.obj=n.obj,u.path=u.path.slice(0,n.pathLen)},O.prototype.enterKey=function(n){return this._reporterState.path.push(n)},O.prototype.exitKey=function(n){const u=this._reporterState;u.path=u.path.slice(0,n-1)},O.prototype.leaveKey=function(n,u,a){const f=this._reporterState;this.exitKey(n),f.obj!==null&&(f.obj[u]=a)},O.prototype.path=function(){return this._reporterState.path.join("/")},O.prototype.enterObject=function(){const n=this._reporterState,u=n.obj;return n.obj={},u},O.prototype.leaveObject=function(n){const u=this._reporterState,a=u.obj;return u.obj=n,a},O.prototype.error=function(n){let u;const a=this._reporterState,f=n instanceof R;if(f?u=n:u=new R(a.path.map(function(b){return"["+JSON.stringify(b)+"]"}).join(""),n.message||n,n.stack),!a.options.partial)throw u;return f||a.errors.push(u),u},O.prototype.wrapResult=function(n){const u=this._reporterState;return u.options.partial?{result:this.isError(n)?null:n,errors:u.errors}:n};function R(y,n){this.path=y,this.rethrow(n)}E(R,Error),R.prototype.rethrow=function(n){if(this.message=n+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,R),!this.stack)try{throw new Error(this.message)}catch(u){this.stack=u.stack}return this}},160:(v,W)=>{"use strict";function k(E){const O={};return Object.keys(E).forEach(function(R){(R|0)==R&&(R=R|0);const y=E[R];O[y]=R}),O}W.tagClass={0:"universal",1:"application",2:"context",3:"private"},W.tagClassByName=k(W.tagClass),W.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},W.tagByName=k(W.tag)},6826:(v,W,k)=>{"use strict";const E=W;E._reverse=function(R){const y={};return Object.keys(R).forEach(function(n){(n|0)==n&&(n=n|0);const u=R[n];y[u]=n}),y},E.der=k(160)},1671:(v,W,k)=>{"use strict";const E=k(5717),O=k(3550),R=k(6625).C,y=k(1949),n=k(160);function u(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new a,this.tree._init(c.body)}v.exports=u,u.prototype.decode=function(l,T){return R.isDecoderBuffer(l)||(l=new R(l,T)),this.tree._decode(l,T)};function a(c){y.call(this,"der",c)}E(a,y),a.prototype._peekTag=function(l,T,d){if(l.isEmpty())return!1;const m=l.save(),g=f(l,'Failed to peek tag: "'+T+'"');return l.isError(g)?g:(l.restore(m),g.tag===T||g.tagStr===T||g.tagStr+"of"===T||d)},a.prototype._decodeTag=function(l,T,d){const m=f(l,'Failed to decode tag of "'+T+'"');if(l.isError(m))return m;let g=b(l,m.primitive,'Failed to get length of "'+T+'"');if(l.isError(g))return g;if(!d&&m.tag!==T&&m.tagStr!==T&&m.tagStr+"of"!==T)return l.error('Failed to match tag: "'+T+'"');if(m.primitive||g!==null)return l.skip(g,'Failed to match body of: "'+T+'"');const S=l.save(),D=this._skipUntilEnd(l,'Failed to skip indefinite length body: "'+this.tag+'"');return l.isError(D)?D:(g=l.offset-S.offset,l.restore(S),l.skip(g,'Failed to match body of: "'+T+'"'))},a.prototype._skipUntilEnd=function(l,T){for(;;){const d=f(l,T);if(l.isError(d))return d;const m=b(l,d.primitive,T);if(l.isError(m))return m;let g;if(d.primitive||m!==null?g=l.skip(m):g=this._skipUntilEnd(l,T),l.isError(g))return g;if(d.tagStr==="end")break}},a.prototype._decodeList=function(l,T,d,m){const g=[];for(;!l.isEmpty();){const S=this._peekTag(l,"end");if(l.isError(S))return S;const D=d.decode(l,"der",m);if(l.isError(D)&&S)break;g.push(D)}return g},a.prototype._decodeStr=function(l,T){if(T==="bitstr"){const d=l.readUInt8();return l.isError(d)?d:{unused:d,data:l.raw()}}else if(T==="bmpstr"){const d=l.raw();if(d.length%2==1)return l.error("Decoding of string type: bmpstr length mismatch");let m="";for(let g=0;g<d.length/2;g++)m+=String.fromCharCode(d.readUInt16BE(g*2));return m}else if(T==="numstr"){const d=l.raw().toString("ascii");return this._isNumstr(d)?d:l.error("Decoding of string type: numstr unsupported characters")}else{if(T==="octstr")return l.raw();if(T==="objDesc")return l.raw();if(T==="printstr"){const d=l.raw().toString("ascii");return this._isPrintstr(d)?d:l.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(T)?l.raw().toString():l.error("Decoding of string type: "+T+" unsupported")}},a.prototype._decodeObjid=function(l,T,d){let m;const g=[];let S=0,D=0;for(;!l.isEmpty();)D=l.readUInt8(),S<<=7,S|=D&127,(D&128)==0&&(g.push(S),S=0);D&128&&g.push(S);const w=g[0]/40|0,F=g[0]%40;if(d?m=g:m=[w,F].concat(g.slice(1)),T){let H=T[m.join(" ")];H===void 0&&(H=T[m.join(".")]),H!==void 0&&(m=H)}return m},a.prototype._decodeTime=function(l,T){const d=l.raw().toString();let m,g,S,D,w,F;if(T==="gentime")m=d.slice(0,4)|0,g=d.slice(4,6)|0,S=d.slice(6,8)|0,D=d.slice(8,10)|0,w=d.slice(10,12)|0,F=d.slice(12,14)|0;else if(T==="utctime")m=d.slice(0,2)|0,g=d.slice(2,4)|0,S=d.slice(4,6)|0,D=d.slice(6,8)|0,w=d.slice(8,10)|0,F=d.slice(10,12)|0,m<70?m=2e3+m:m=1900+m;else return l.error("Decoding "+T+" time is not supported yet");return Date.UTC(m,g-1,S,D,w,F,0)},a.prototype._decodeNull=function(){return null},a.prototype._decodeBool=function(l){const T=l.readUInt8();return l.isError(T)?T:T!==0},a.prototype._decodeInt=function(l,T){const d=l.raw();let m=new O(d);return T&&(m=T[m.toString(10)]||m),m},a.prototype._use=function(l,T){return typeof l=="function"&&(l=l(T)),l._getDecoder("der").tree};function f(c,l){let T=c.readUInt8(l);if(c.isError(T))return T;const d=n.tagClass[T>>6],m=(T&32)==0;if((T&31)==31){let S=T;for(T=0;(S&128)==128;){if(S=c.readUInt8(l),c.isError(S))return S;T<<=7,T|=S&127}}else T&=31;const g=n.tag[T];return{cls:d,primitive:m,tag:T,tagStr:g}}function b(c,l,T){let d=c.readUInt8(T);if(c.isError(d))return d;if(!l&&d===128)return null;if((d&128)==0)return d;const m=d&127;if(m>4)return c.error("length octect is too long");d=0;for(let g=0;g<m;g++){d<<=8;const S=c.readUInt8(T);if(c.isError(S))return S;d|=S}return d}},8307:(v,W,k)=>{"use strict";const E=W;E.der=k(1671),E.pem=k(9631)},9631:(v,W,k)=>{"use strict";const E=k(5717),O=k(2399).Buffer,R=k(1671);function y(n){R.call(this,n),this.enc="pem"}E(y,R),v.exports=y,y.prototype.decode=function(u,a){const f=u.toString().split(/[\r\n]+/g),b=a.label.toUpperCase(),c=/^-----(BEGIN|END) ([^-]+)-----$/;let l=-1,T=-1;for(let g=0;g<f.length;g++){const S=f[g].match(c);if(S!==null&&S[2]===b)if(l===-1){if(S[1]!=="BEGIN")break;l=g}else{if(S[1]!=="END")break;T=g;break}}if(l===-1||T===-1)throw new Error("PEM section not found for: "+b);const d=f.slice(l+1,T).join("");d.replace(/[^a-z0-9+/=]+/gi,"");const m=O.from(d,"base64");return R.prototype.decode.call(this,m,a)}},6984:(v,W,k)=>{"use strict";const E=k(5717),O=k(2399).Buffer,R=k(1949),y=k(160);function n(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new u,this.tree._init(b.body)}v.exports=n,n.prototype.encode=function(c,l){return this.tree._encode(c,l).join()};function u(b){R.call(this,"der",b)}E(u,R),u.prototype._encodeComposite=function(c,l,T,d){const m=f(c,l,T,this.reporter);if(d.length<128){const D=O.alloc(2);return D[0]=m,D[1]=d.length,this._createEncoderBuffer([D,d])}let g=1;for(let D=d.length;D>=256;D>>=8)g++;const S=O.alloc(1+1+g);S[0]=m,S[1]=128|g;for(let D=1+g,w=d.length;w>0;D--,w>>=8)S[D]=w&255;return this._createEncoderBuffer([S,d])},u.prototype._encodeStr=function(c,l){if(l==="bitstr")return this._createEncoderBuffer([c.unused|0,c.data]);if(l==="bmpstr"){const T=O.alloc(c.length*2);for(let d=0;d<c.length;d++)T.writeUInt16BE(c.charCodeAt(d),d*2);return this._createEncoderBuffer(T)}else return l==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):l==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(l)?this._createEncoderBuffer(c):l==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+l+" unsupported")},u.prototype._encodeObjid=function(c,l,T){if(typeof c=="string"){if(!l)return this.reporter.error("string objid given, but no values map found");if(!l.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=l[c].split(/[\s.]+/g);for(let S=0;S<c.length;S++)c[S]|=0}else if(Array.isArray(c)){c=c.slice();for(let S=0;S<c.length;S++)c[S]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!T){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,c[0]*40+c[1])}let d=0;for(let S=0;S<c.length;S++){let D=c[S];for(d++;D>=128;D>>=7)d++}const m=O.alloc(d);let g=m.length-1;for(let S=c.length-1;S>=0;S--){let D=c[S];for(m[g--]=D&127;(D>>=7)>0;)m[g--]=128|D&127}return this._createEncoderBuffer(m)};function a(b){return b<10?"0"+b:b}u.prototype._encodeTime=function(c,l){let T;const d=new Date(c);return l==="gentime"?T=[a(d.getUTCFullYear()),a(d.getUTCMonth()+1),a(d.getUTCDate()),a(d.getUTCHours()),a(d.getUTCMinutes()),a(d.getUTCSeconds()),"Z"].join(""):l==="utctime"?T=[a(d.getUTCFullYear()%100),a(d.getUTCMonth()+1),a(d.getUTCDate()),a(d.getUTCHours()),a(d.getUTCMinutes()),a(d.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+l+" time is not supported yet"),this._encodeStr(T,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(c,l){if(typeof c=="string"){if(!l)return this.reporter.error("String int or enum given, but no values map");if(!l.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=l[c]}if(typeof c!="number"&&!O.isBuffer(c)){const m=c.toArray();!c.sign&&m[0]&128&&m.unshift(0),c=O.from(m)}if(O.isBuffer(c)){let m=c.length;c.length===0&&m++;const g=O.alloc(m);return c.copy(g),c.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);let T=1;for(let m=c;m>=256;m>>=8)T++;const d=new Array(T);for(let m=d.length-1;m>=0;m--)d[m]=c&255,c>>=8;return d[0]&128&&d.unshift(0),this._createEncoderBuffer(O.from(d))},u.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},u.prototype._use=function(c,l){return typeof c=="function"&&(c=c(l)),c._getEncoder("der").tree},u.prototype._skipDefault=function(c,l,T){const d=this._baseState;let m;if(d.default===null)return!1;const g=c.join();if(d.defaultBuffer===void 0&&(d.defaultBuffer=this._encodeValue(d.default,l,T).join()),g.length!==d.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==d.defaultBuffer[m])return!1;return!0};function f(b,c,l,T){let d;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),y.tagByName.hasOwnProperty(b))d=y.tagByName[b];else if(typeof b=="number"&&(b|0)===b)d=b;else return T.error("Unknown tag: "+b);return d>=31?T.error("Multi-octet tag encoding unsupported"):(c||(d|=32),d|=y.tagClassByName[l||"universal"]<<6,d)}},6579:(v,W,k)=>{"use strict";const E=W;E.der=k(6984),E.pem=k(2883)},2883:(v,W,k)=>{"use strict";const E=k(5717),O=k(6984);function R(y){O.call(this,y),this.enc="pem"}E(R,O),v.exports=R,R.prototype.encode=function(n,u){const f=O.prototype.encode.call(this,n).toString("base64"),b=["-----BEGIN "+u.label+"-----"];for(let c=0;c<f.length;c+=64)b.push(f.slice(c,c+64));return b.push("-----END "+u.label+"-----"),b.join(`
`)}},9669:(v,W,k)=>{v.exports=k(1609)},5448:(v,W,k)=>{"use strict";var E=k(4867),O=k(6026),R=k(4372),y=k(1246),n=k(4097),u=k(4109),a=k(7985),f=k(5061);v.exports=function(c){return new Promise(function(T,d){var m=c.data,g=c.headers;E.isFormData(m)&&delete g["Content-Type"];var S=new XMLHttpRequest;if(c.auth){var D=c.auth.username||"",w=c.auth.password?unescape(encodeURIComponent(c.auth.password)):"";g.Authorization="Basic "+btoa(D+":"+w)}var F=n(c.baseURL,c.url);if(S.open(c.method.toUpperCase(),y(F,c.params,c.paramsSerializer),!0),S.timeout=c.timeout,S.onreadystatechange=function(){if(!(!S||S.readyState!==4)&&!(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))){var ee="getAllResponseHeaders"in S?u(S.getAllResponseHeaders()):null,te=!c.responseType||c.responseType==="text"?S.responseText:S.response,ie={data:te,status:S.status,statusText:S.statusText,headers:ee,config:c,request:S};O(T,d,ie),S=null}},S.onabort=function(){!S||(d(f("Request aborted",c,"ECONNABORTED",S)),S=null)},S.onerror=function(){d(f("Network Error",c,null,S)),S=null},S.ontimeout=function(){var ee="timeout of "+c.timeout+"ms exceeded";c.timeoutErrorMessage&&(ee=c.timeoutErrorMessage),d(f(ee,c,"ECONNABORTED",S)),S=null},E.isStandardBrowserEnv()){var H=(c.withCredentials||a(F))&&c.xsrfCookieName?R.read(c.xsrfCookieName):void 0;H&&(g[c.xsrfHeaderName]=H)}if("setRequestHeader"in S&&E.forEach(g,function(ee,te){typeof m=="undefined"&&te.toLowerCase()==="content-type"?delete g[te]:S.setRequestHeader(te,ee)}),E.isUndefined(c.withCredentials)||(S.withCredentials=!!c.withCredentials),c.responseType)try{S.responseType=c.responseType}catch(Q){if(c.responseType!=="json")throw Q}typeof c.onDownloadProgress=="function"&&S.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(ee){!S||(S.abort(),d(ee),S=null)}),m||(m=null),S.send(m)})}},1609:(v,W,k)=>{"use strict";var E=k(4867),O=k(1849),R=k(321),y=k(7185),n=k(5655);function u(f){var b=new R(f),c=O(R.prototype.request,b);return E.extend(c,R.prototype,b),E.extend(c,b),c}var a=u(n);a.Axios=R,a.create=function(b){return u(y(a.defaults,b))},a.Cancel=k(5263),a.CancelToken=k(4972),a.isCancel=k(6502),a.all=function(b){return Promise.all(b)},a.spread=k(8713),a.isAxiosError=k(6268),v.exports=a,v.exports.default=a},5263:v=>{"use strict";function W(k){this.message=k}W.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},W.prototype.__CANCEL__=!0,v.exports=W},4972:(v,W,k)=>{"use strict";var E=k(5263);function O(R){if(typeof R!="function")throw new TypeError("executor must be a function.");var y;this.promise=new Promise(function(a){y=a});var n=this;R(function(a){n.reason||(n.reason=new E(a),y(n.reason))})}O.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},O.source=function(){var y,n=new O(function(a){y=a});return{token:n,cancel:y}},v.exports=O},6502:v=>{"use strict";v.exports=function(k){return!!(k&&k.__CANCEL__)}},321:(v,W,k)=>{"use strict";var E=k(4867),O=k(1246),R=k(782),y=k(3572),n=k(7185);function u(a){this.defaults=a,this.interceptors={request:new R,response:new R}}u.prototype.request=function(f){typeof f=="string"?(f=arguments[1]||{},f.url=arguments[0]):f=f||{},f=n(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var b=[y,void 0],c=Promise.resolve(f);for(this.interceptors.request.forEach(function(T){b.unshift(T.fulfilled,T.rejected)}),this.interceptors.response.forEach(function(T){b.push(T.fulfilled,T.rejected)});b.length;)c=c.then(b.shift(),b.shift());return c},u.prototype.getUri=function(f){return f=n(this.defaults,f),O(f.url,f.params,f.paramsSerializer).replace(/^\?/,"")},E.forEach(["delete","get","head","options"],function(f){u.prototype[f]=function(b,c){return this.request(n(c||{},{method:f,url:b,data:(c||{}).data}))}}),E.forEach(["post","put","patch"],function(f){u.prototype[f]=function(b,c,l){return this.request(n(l||{},{method:f,url:b,data:c}))}}),v.exports=u},782:(v,W,k)=>{"use strict";var E=k(4867);function O(){this.handlers=[]}O.prototype.use=function(y,n){return this.handlers.push({fulfilled:y,rejected:n}),this.handlers.length-1},O.prototype.eject=function(y){this.handlers[y]&&(this.handlers[y]=null)},O.prototype.forEach=function(y){E.forEach(this.handlers,function(u){u!==null&&y(u)})},v.exports=O},4097:(v,W,k)=>{"use strict";var E=k(1793),O=k(7303);v.exports=function(y,n){return y&&!E(n)?O(y,n):n}},5061:(v,W,k)=>{"use strict";var E=k(481);v.exports=function(R,y,n,u,a){var f=new Error(R);return E(f,y,n,u,a)}},3572:(v,W,k)=>{"use strict";var E=k(4867),O=k(8527),R=k(6502),y=k(5655);function n(u){u.cancelToken&&u.cancelToken.throwIfRequested()}v.exports=function(a){n(a),a.headers=a.headers||{},a.data=O(a.data,a.headers,a.transformRequest),a.headers=E.merge(a.headers.common||{},a.headers[a.method]||{},a.headers),E.forEach(["delete","get","head","post","put","patch","common"],function(c){delete a.headers[c]});var f=a.adapter||y.adapter;return f(a).then(function(c){return n(a),c.data=O(c.data,c.headers,a.transformResponse),c},function(c){return R(c)||(n(a),c&&c.response&&(c.response.data=O(c.response.data,c.response.headers,a.transformResponse))),Promise.reject(c)})}},481:v=>{"use strict";v.exports=function(k,E,O,R,y){return k.config=E,O&&(k.code=O),k.request=R,k.response=y,k.isAxiosError=!0,k.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},k}},7185:(v,W,k)=>{"use strict";var E=k(4867);v.exports=function(R,y){y=y||{};var n={},u=["url","method","data"],a=["headers","auth","proxy","params"],f=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],b=["validateStatus"];function c(m,g){return E.isPlainObject(m)&&E.isPlainObject(g)?E.merge(m,g):E.isPlainObject(g)?E.merge({},g):E.isArray(g)?g.slice():g}function l(m){E.isUndefined(y[m])?E.isUndefined(R[m])||(n[m]=c(void 0,R[m])):n[m]=c(R[m],y[m])}E.forEach(u,function(g){E.isUndefined(y[g])||(n[g]=c(void 0,y[g]))}),E.forEach(a,l),E.forEach(f,function(g){E.isUndefined(y[g])?E.isUndefined(R[g])||(n[g]=c(void 0,R[g])):n[g]=c(void 0,y[g])}),E.forEach(b,function(g){g in y?n[g]=c(R[g],y[g]):g in R&&(n[g]=c(void 0,R[g]))});var T=u.concat(a).concat(f).concat(b),d=Object.keys(R).concat(Object.keys(y)).filter(function(g){return T.indexOf(g)===-1});return E.forEach(d,l),n}},6026:(v,W,k)=>{"use strict";var E=k(5061);v.exports=function(R,y,n){var u=n.config.validateStatus;!n.status||!u||u(n.status)?R(n):y(E("Request failed with status code "+n.status,n.config,null,n.request,n))}},8527:(v,W,k)=>{"use strict";var E=k(4867);v.exports=function(R,y,n){return E.forEach(n,function(a){R=a(R,y)}),R}},5655:(v,W,k)=>{"use strict";var E=k(4867),O=k(6016),R={"Content-Type":"application/x-www-form-urlencoded"};function y(a,f){!E.isUndefined(a)&&E.isUndefined(a["Content-Type"])&&(a["Content-Type"]=f)}function n(){var a;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(a=k(5448)),a}var u={adapter:n(),transformRequest:[function(f,b){return O(b,"Accept"),O(b,"Content-Type"),E.isFormData(f)||E.isArrayBuffer(f)||E.isBuffer(f)||E.isStream(f)||E.isFile(f)||E.isBlob(f)?f:E.isArrayBufferView(f)?f.buffer:E.isURLSearchParams(f)?(y(b,"application/x-www-form-urlencoded;charset=utf-8"),f.toString()):E.isObject(f)?(y(b,"application/json;charset=utf-8"),JSON.stringify(f)):f}],transformResponse:[function(f){if(typeof f=="string")try{f=JSON.parse(f)}catch(b){}return f}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(f){return f>=200&&f<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},E.forEach(["delete","get","head"],function(f){u.headers[f]={}}),E.forEach(["post","put","patch"],function(f){u.headers[f]=E.merge(R)}),v.exports=u},1849:v=>{"use strict";v.exports=function(k,E){return function(){for(var R=new Array(arguments.length),y=0;y<R.length;y++)R[y]=arguments[y];return k.apply(E,R)}}},1246:(v,W,k)=>{"use strict";var E=k(4867);function O(R){return encodeURIComponent(R).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}v.exports=function(y,n,u){if(!n)return y;var a;if(u)a=u(n);else if(E.isURLSearchParams(n))a=n.toString();else{var f=[];E.forEach(n,function(l,T){l===null||typeof l=="undefined"||(E.isArray(l)?T=T+"[]":l=[l],E.forEach(l,function(m){E.isDate(m)?m=m.toISOString():E.isObject(m)&&(m=JSON.stringify(m)),f.push(O(T)+"="+O(m))}))}),a=f.join("&")}if(a){var b=y.indexOf("#");b!==-1&&(y=y.slice(0,b)),y+=(y.indexOf("?")===-1?"?":"&")+a}return y}},7303:v=>{"use strict";v.exports=function(k,E){return E?k.replace(/\/+$/,"")+"/"+E.replace(/^\/+/,""):k}},4372:(v,W,k)=>{"use strict";var E=k(4867);v.exports=E.isStandardBrowserEnv()?function(){return{write:function(y,n,u,a,f,b){var c=[];c.push(y+"="+encodeURIComponent(n)),E.isNumber(u)&&c.push("expires="+new Date(u).toGMTString()),E.isString(a)&&c.push("path="+a),E.isString(f)&&c.push("domain="+f),b===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(y){var n=document.cookie.match(new RegExp("(^|;\\s*)("+y+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(y){this.write(y,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},1793:v=>{"use strict";v.exports=function(k){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(k)}},6268:v=>{"use strict";v.exports=function(k){return typeof k=="object"&&k.isAxiosError===!0}},7985:(v,W,k)=>{"use strict";var E=k(4867);v.exports=E.isStandardBrowserEnv()?function(){var R=/(msie|trident)/i.test(navigator.userAgent),y=document.createElement("a"),n;function u(a){var f=a;return R&&(y.setAttribute("href",f),f=y.href),y.setAttribute("href",f),{href:y.href,protocol:y.protocol?y.protocol.replace(/:$/,""):"",host:y.host,search:y.search?y.search.replace(/^\?/,""):"",hash:y.hash?y.hash.replace(/^#/,""):"",hostname:y.hostname,port:y.port,pathname:y.pathname.charAt(0)==="/"?y.pathname:"/"+y.pathname}}return n=u(window.location.href),function(f){var b=E.isString(f)?u(f):f;return b.protocol===n.protocol&&b.host===n.host}}():function(){return function(){return!0}}()},6016:(v,W,k)=>{"use strict";var E=k(4867);v.exports=function(R,y){E.forEach(R,function(u,a){a!==y&&a.toUpperCase()===y.toUpperCase()&&(R[y]=u,delete R[a])})}},4109:(v,W,k)=>{"use strict";var E=k(4867),O=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];v.exports=function(y){var n={},u,a,f;return y&&E.forEach(y.split(`
`),function(c){if(f=c.indexOf(":"),u=E.trim(c.substr(0,f)).toLowerCase(),a=E.trim(c.substr(f+1)),u){if(n[u]&&O.indexOf(u)>=0)return;u==="set-cookie"?n[u]=(n[u]?n[u]:[]).concat([a]):n[u]=n[u]?n[u]+", "+a:a}}),n}},8713:v=>{"use strict";v.exports=function(k){return function(O){return k.apply(null,O)}}},4867:(v,W,k)=>{"use strict";var E=k(1849),O=Object.prototype.toString;function R(se){return O.call(se)==="[object Array]"}function y(se){return typeof se=="undefined"}function n(se){return se!==null&&!y(se)&&se.constructor!==null&&!y(se.constructor)&&typeof se.constructor.isBuffer=="function"&&se.constructor.isBuffer(se)}function u(se){return O.call(se)==="[object ArrayBuffer]"}function a(se){return typeof FormData!="undefined"&&se instanceof FormData}function f(se){var le;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?le=ArrayBuffer.isView(se):le=se&&se.buffer&&se.buffer instanceof ArrayBuffer,le}function b(se){return typeof se=="string"}function c(se){return typeof se=="number"}function l(se){return se!==null&&typeof se=="object"}function T(se){if(O.call(se)!=="[object Object]")return!1;var le=Object.getPrototypeOf(se);return le===null||le===Object.prototype}function d(se){return O.call(se)==="[object Date]"}function m(se){return O.call(se)==="[object File]"}function g(se){return O.call(se)==="[object Blob]"}function S(se){return O.call(se)==="[object Function]"}function D(se){return l(se)&&S(se.pipe)}function w(se){return typeof URLSearchParams!="undefined"&&se instanceof URLSearchParams}function F(se){return se.replace(/^\s*/,"").replace(/\s*$/,"")}function H(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Q(se,le){if(!(se===null||typeof se=="undefined"))if(typeof se!="object"&&(se=[se]),R(se))for(var z=0,A=se.length;z<A;z++)le.call(null,se[z],z,se);else for(var U in se)Object.prototype.hasOwnProperty.call(se,U)&&le.call(null,se[U],U,se)}function ee(){var se={};function le(U,M){T(se[M])&&T(U)?se[M]=ee(se[M],U):T(U)?se[M]=ee({},U):R(U)?se[M]=U.slice():se[M]=U}for(var z=0,A=arguments.length;z<A;z++)Q(arguments[z],le);return se}function te(se,le,z){return Q(le,function(U,M){z&&typeof U=="function"?se[M]=E(U,z):se[M]=U}),se}function ie(se){return se.charCodeAt(0)===65279&&(se=se.slice(1)),se}v.exports={isArray:R,isArrayBuffer:u,isBuffer:n,isFormData:a,isArrayBufferView:f,isString:b,isNumber:c,isObject:l,isPlainObject:T,isUndefined:y,isDate:d,isFile:m,isBlob:g,isFunction:S,isStream:D,isURLSearchParams:w,isStandardBrowserEnv:H,forEach:Q,merge:ee,extend:te,trim:F,stripBOM:ie}},9742:(v,W)=>{"use strict";W.byteLength=a,W.toByteArray=b,W.fromByteArray=T;for(var k=[],E=[],O=typeof Uint8Array!="undefined"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=0,n=R.length;y<n;++y)k[y]=R[y],E[R.charCodeAt(y)]=y;E["-".charCodeAt(0)]=62,E["_".charCodeAt(0)]=63;function u(d){var m=d.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=d.indexOf("=");g===-1&&(g=m);var S=g===m?0:4-g%4;return[g,S]}function a(d){var m=u(d),g=m[0],S=m[1];return(g+S)*3/4-S}function f(d,m,g){return(m+g)*3/4-g}function b(d){var m,g=u(d),S=g[0],D=g[1],w=new O(f(d,S,D)),F=0,H=D>0?S-4:S,Q;for(Q=0;Q<H;Q+=4)m=E[d.charCodeAt(Q)]<<18|E[d.charCodeAt(Q+1)]<<12|E[d.charCodeAt(Q+2)]<<6|E[d.charCodeAt(Q+3)],w[F++]=m>>16&255,w[F++]=m>>8&255,w[F++]=m&255;return D===2&&(m=E[d.charCodeAt(Q)]<<2|E[d.charCodeAt(Q+1)]>>4,w[F++]=m&255),D===1&&(m=E[d.charCodeAt(Q)]<<10|E[d.charCodeAt(Q+1)]<<4|E[d.charCodeAt(Q+2)]>>2,w[F++]=m>>8&255,w[F++]=m&255),w}function c(d){return k[d>>18&63]+k[d>>12&63]+k[d>>6&63]+k[d&63]}function l(d,m,g){for(var S,D=[],w=m;w<g;w+=3)S=(d[w]<<16&16711680)+(d[w+1]<<8&65280)+(d[w+2]&255),D.push(c(S));return D.join("")}function T(d){for(var m,g=d.length,S=g%3,D=[],w=16383,F=0,H=g-S;F<H;F+=w)D.push(l(d,F,F+w>H?H:F+w));return S===1?(m=d[g-1],D.push(k[m>>2]+k[m<<4&63]+"==")):S===2&&(m=(d[g-2]<<8)+d[g-1],D.push(k[m>>10]+k[m>>4&63]+k[m<<2&63]+"=")),D.join("")}},5186:(v,W,k)=>{var E=k(3698),O=k(2505),R=k(6417),y=Function.bind,n=y.bind(y);function u(l,T,d){var m=n(R,null).apply(null,d?[T,d]:[T]);l.api={remove:m},l.remove=m,["before","error","after","wrap"].forEach(function(g){var S=d?[T,g,d]:[T,g];l[g]=l.api[g]=n(O,null).apply(null,S)})}function a(){var l="h",T={registry:{}},d=E.bind(null,T,l);return u(d,T,l),d}function f(){var l={registry:{}},T=E.bind(null,l);return u(T,l),T}var b=!1;function c(){return b||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),b=!0),f()}c.Singular=a.bind(),c.Collection=f.bind(),v.exports=c,v.exports.Hook=c,v.exports.Singular=c.Singular,v.exports.Collection=c.Collection},2505:v=>{v.exports=W;function W(k,E,O,R){var y=R;k.registry[O]||(k.registry[O]=[]),E==="before"&&(R=function(n,u){return Promise.resolve().then(y.bind(null,u)).then(n.bind(null,u))}),E==="after"&&(R=function(n,u){var a;return Promise.resolve().then(n.bind(null,u)).then(function(f){return a=f,y(a,u)}).then(function(){return a})}),E==="error"&&(R=function(n,u){return Promise.resolve().then(n.bind(null,u)).catch(function(a){return y(a,u)})}),k.registry[O].push({hook:R,orig:y})}},3698:v=>{v.exports=W;function W(k,E,O,R){if(typeof O!="function")throw new Error("method for before hook must be a function");return R||(R={}),Array.isArray(E)?E.reverse().reduce(function(y,n){return W.bind(null,k,n,y,R)},O)():Promise.resolve().then(function(){return k.registry[E]?k.registry[E].reduce(function(y,n){return n.hook.bind(null,y,R)},O)():O(R)})}},6417:v=>{v.exports=W;function W(k,E,O){if(!!k.registry[E]){var R=k.registry[E].map(function(y){return y.orig}).indexOf(O);R!==-1&&k.registry[E].splice(R,1)}}},3550:function(v,W,k){v=k.nmd(v),function(E,O){"use strict";function R(z,A){if(!z)throw new Error(A||"Assertion failed")}function y(z,A){z.super_=A;var U=function(){};U.prototype=A.prototype,z.prototype=new U,z.prototype.constructor=z}function n(z,A,U){if(n.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((A==="le"||A==="be")&&(U=A,A=10),this._init(z||0,A||10,U||"be"))}typeof E=="object"?E.exports=n:O.BN=n,n.BN=n,n.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=k(6601).Buffer}catch(z){}n.isBN=function(A){return A instanceof n?!0:A!==null&&typeof A=="object"&&A.constructor.wordSize===n.wordSize&&Array.isArray(A.words)},n.max=function(A,U){return A.cmp(U)>0?A:U},n.min=function(A,U){return A.cmp(U)<0?A:U},n.prototype._init=function(A,U,M){if(typeof A=="number")return this._initNumber(A,U,M);if(typeof A=="object")return this._initArray(A,U,M);U==="hex"&&(U=16),R(U===(U|0)&&U>=2&&U<=36),A=A.toString().replace(/\s+/g,"");var s=0;A[0]==="-"&&(s++,this.negative=1),s<A.length&&(U===16?this._parseHex(A,s,M):(this._parseBase(A,U,s),M==="le"&&this._initArray(this.toArray(),U,M)))},n.prototype._initNumber=function(A,U,M){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[A&67108863],this.length=1):A<4503599627370496?(this.words=[A&67108863,A/67108864&67108863],this.length=2):(R(A<9007199254740992),this.words=[A&67108863,A/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),U,M)},n.prototype._initArray=function(A,U,M){if(R(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var h,x,P=0;if(M==="be")for(s=A.length-1,h=0;s>=0;s-=3)x=A[s]|A[s-1]<<8|A[s-2]<<16,this.words[h]|=x<<P&67108863,this.words[h+1]=x>>>26-P&67108863,P+=24,P>=26&&(P-=26,h++);else if(M==="le")for(s=0,h=0;s<A.length;s+=3)x=A[s]|A[s+1]<<8|A[s+2]<<16,this.words[h]|=x<<P&67108863,this.words[h+1]=x>>>26-P&67108863,P+=24,P>=26&&(P-=26,h++);return this.strip()};function a(z,A){var U=z.charCodeAt(A);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function f(z,A,U){var M=a(z,U);return U-1>=A&&(M|=a(z,U-1)<<4),M}n.prototype._parseHex=function(A,U,M){this.length=Math.ceil((A.length-U)/6),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var h=0,x=0,P;if(M==="be")for(s=A.length-1;s>=U;s-=2)P=f(A,U,s)<<h,this.words[x]|=P&67108863,h>=18?(h-=18,x+=1,this.words[x]|=P>>>26):h+=8;else{var I=A.length-U;for(s=I%2==0?U+1:U;s<A.length;s+=2)P=f(A,U,s)<<h,this.words[x]|=P&67108863,h>=18?(h-=18,x+=1,this.words[x]|=P>>>26):h+=8}this.strip()};function b(z,A,U,M){for(var s=0,h=Math.min(z.length,U),x=A;x<h;x++){var P=z.charCodeAt(x)-48;s*=M,P>=49?s+=P-49+10:P>=17?s+=P-17+10:s+=P}return s}n.prototype._parseBase=function(A,U,M){this.words=[0],this.length=1;for(var s=0,h=1;h<=67108863;h*=U)s++;s--,h=h/U|0;for(var x=A.length-M,P=x%s,I=Math.min(x,x-P)+M,C=0,G=M;G<I;G+=s)C=b(A,G,G+s,U),this.imuln(h),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C);if(P!==0){var V=1;for(C=b(A,G,A.length,U),G=0;G<P;G++)V*=U;this.imuln(V),this.words[0]+C<67108864?this.words[0]+=C:this._iaddn(C)}this.strip()},n.prototype.copy=function(A){A.words=new Array(this.length);for(var U=0;U<this.length;U++)A.words[U]=this.words[U];A.length=this.length,A.negative=this.negative,A.red=this.red},n.prototype.clone=function(){var A=new n(null);return this.copy(A),A},n.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(A,U){A=A||10,U=U|0||1;var M;if(A===16||A==="hex"){M="";for(var s=0,h=0,x=0;x<this.length;x++){var P=this.words[x],I=((P<<s|h)&16777215).toString(16);h=P>>>24-s&16777215,h!==0||x!==this.length-1?M=c[6-I.length]+I+M:M=I+M,s+=2,s>=26&&(s-=26,x--)}for(h!==0&&(M=h.toString(16)+M);M.length%U!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(A===(A|0)&&A>=2&&A<=36){var C=l[A],G=T[A];M="";var V=this.clone();for(V.negative=0;!V.isZero();){var _=V.modn(G).toString(A);V=V.idivn(G),V.isZero()?M=_+M:M=c[C-_.length]+_+M}for(this.isZero()&&(M="0"+M);M.length%U!=0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}R(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=this.words[1]*67108864:this.length===3&&this.words[2]===1?A+=4503599627370496+this.words[1]*67108864:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(A,U){return R(typeof u!="undefined"),this.toArrayLike(u,A,U)},n.prototype.toArray=function(A,U){return this.toArrayLike(Array,A,U)},n.prototype.toArrayLike=function(A,U,M){var s=this.byteLength(),h=M||Math.max(1,s);R(s<=h,"byte array longer than desired length"),R(h>0,"Requested array length <= 0"),this.strip();var x=U==="le",P=new A(h),I,C,G=this.clone();if(x){for(C=0;!G.isZero();C++)I=G.andln(255),G.iushrn(8),P[C]=I;for(;C<h;C++)P[C]=0}else{for(C=0;C<h-s;C++)P[C]=0;for(C=0;!G.isZero();C++)I=G.andln(255),G.iushrn(8),P[h-C-1]=I}return P},Math.clz32?n.prototype._countBits=function(A){return 32-Math.clz32(A)}:n.prototype._countBits=function(A){var U=A,M=0;return U>=4096&&(M+=13,U>>>=13),U>=64&&(M+=7,U>>>=7),U>=8&&(M+=4,U>>>=4),U>=2&&(M+=2,U>>>=2),M+U},n.prototype._zeroBits=function(A){if(A===0)return 26;var U=A,M=0;return(U&8191)==0&&(M+=13,U>>>=13),(U&127)==0&&(M+=7,U>>>=7),(U&15)==0&&(M+=4,U>>>=4),(U&3)==0&&(M+=2,U>>>=2),(U&1)==0&&M++,M},n.prototype.bitLength=function(){var A=this.words[this.length-1],U=this._countBits(A);return(this.length-1)*26+U};function d(z){for(var A=new Array(z.bitLength()),U=0;U<A.length;U++){var M=U/26|0,s=U%26;A[U]=(z.words[M]&1<<s)>>>s}return A}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,U=0;U<this.length;U++){var M=this._zeroBits(this.words[U]);if(A+=M,M!==26)break}return A},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},n.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var U=0;U<A.length;U++)this.words[U]=this.words[U]|A.words[U];return this.strip()},n.prototype.ior=function(A){return R((this.negative|A.negative)==0),this.iuor(A)},n.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},n.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},n.prototype.iuand=function(A){var U;this.length>A.length?U=A:U=this;for(var M=0;M<U.length;M++)this.words[M]=this.words[M]&A.words[M];return this.length=U.length,this.strip()},n.prototype.iand=function(A){return R((this.negative|A.negative)==0),this.iuand(A)},n.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},n.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},n.prototype.iuxor=function(A){var U,M;this.length>A.length?(U=this,M=A):(U=A,M=this);for(var s=0;s<M.length;s++)this.words[s]=U.words[s]^M.words[s];if(this!==U)for(;s<U.length;s++)this.words[s]=U.words[s];return this.length=U.length,this.strip()},n.prototype.ixor=function(A){return R((this.negative|A.negative)==0),this.iuxor(A)},n.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},n.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},n.prototype.inotn=function(A){R(typeof A=="number"&&A>=0);var U=Math.ceil(A/26)|0,M=A%26;this._expand(U),M>0&&U--;for(var s=0;s<U;s++)this.words[s]=~this.words[s]&67108863;return M>0&&(this.words[s]=~this.words[s]&67108863>>26-M),this.strip()},n.prototype.notn=function(A){return this.clone().inotn(A)},n.prototype.setn=function(A,U){R(typeof A=="number"&&A>=0);var M=A/26|0,s=A%26;return this._expand(M+1),U?this.words[M]=this.words[M]|1<<s:this.words[M]=this.words[M]&~(1<<s),this.strip()},n.prototype.iadd=function(A){var U;if(this.negative!==0&&A.negative===0)return this.negative=0,U=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,U=this.isub(A),A.negative=1,U._normSign();var M,s;this.length>A.length?(M=this,s=A):(M=A,s=this);for(var h=0,x=0;x<s.length;x++)U=(M.words[x]|0)+(s.words[x]|0)+h,this.words[x]=U&67108863,h=U>>>26;for(;h!==0&&x<M.length;x++)U=(M.words[x]|0)+h,this.words[x]=U&67108863,h=U>>>26;if(this.length=M.length,h!==0)this.words[this.length]=h,this.length++;else if(M!==this)for(;x<M.length;x++)this.words[x]=M.words[x];return this},n.prototype.add=function(A){var U;return A.negative!==0&&this.negative===0?(A.negative=0,U=this.sub(A),A.negative^=1,U):A.negative===0&&this.negative!==0?(this.negative=0,U=A.sub(this),this.negative=1,U):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},n.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var U=this.iadd(A);return A.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var M=this.cmp(A);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,h;M>0?(s=this,h=A):(s=A,h=this);for(var x=0,P=0;P<h.length;P++)U=(s.words[P]|0)-(h.words[P]|0)+x,x=U>>26,this.words[P]=U&67108863;for(;x!==0&&P<s.length;P++)U=(s.words[P]|0)+x,x=U>>26,this.words[P]=U&67108863;if(x===0&&P<s.length&&s!==this)for(;P<s.length;P++)this.words[P]=s.words[P];return this.length=Math.max(this.length,P),s!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(A){return this.clone().isub(A)};function m(z,A,U){U.negative=A.negative^z.negative;var M=z.length+A.length|0;U.length=M,M=M-1|0;var s=z.words[0]|0,h=A.words[0]|0,x=s*h,P=x&67108863,I=x/67108864|0;U.words[0]=P;for(var C=1;C<M;C++){for(var G=I>>>26,V=I&67108863,_=Math.min(C,A.length-1),Y=Math.max(0,C-z.length+1);Y<=_;Y++){var pe=C-Y|0;s=z.words[pe]|0,h=A.words[Y]|0,x=s*h+V,G+=x/67108864|0,V=x&67108863}U.words[C]=V|0,I=G|0}return I!==0?U.words[C]=I|0:U.length--,U.strip()}var g=function(A,U,M){var s=A.words,h=U.words,x=M.words,P=0,I,C,G,V=s[0]|0,_=V&8191,Y=V>>>13,pe=s[1]|0,ye=pe&8191,_e=pe>>>13,X=s[2]|0,J=X&8191,oe=X>>>13,be=s[3]|0,me=be&8191,B=be>>>13,q=s[4]|0,ae=q&8191,fe=q>>>13,Ae=s[5]|0,ve=Ae&8191,Se=Ae>>>13,nt=s[6]|0,Ne=nt&8191,xe=nt>>>13,ft=s[7]|0,Be=ft&8191,Ie=ft>>>13,pt=s[8]|0,ne=pt&8191,j=pt>>>13,Z=s[9]|0,ue=Z&8191,he=Z>>>13,Ee=h[0]|0,ge=Ee&8191,Te=Ee>>>13,lt=h[1]|0,Fe=lt&8191,Oe=lt>>>13,at=h[2]|0,Qe=at&8191,Ke=at>>>13,mt=h[3]|0,qe=mt&8191,Me=mt>>>13,lr=h[4]|0,je=lr&8191,Ye=lr>>>13,br=h[5]|0,$e=br&8191,ze=br>>>13,yr=h[6]|0,Ze=yr&8191,We=yr>>>13,wr=h[7]|0,Je=wr&8191,Ge=wr>>>13,ir=h[8]|0,Xe=ir&8191,Ve=ir>>>13,nr=h[9]|0,et=nr&8191,tt=nr>>>13;M.negative=A.negative^U.negative,M.length=19,I=Math.imul(_,ge),C=Math.imul(_,Te),C=C+Math.imul(Y,ge)|0,G=Math.imul(Y,Te);var $t=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+($t>>>26)|0,$t&=67108863,I=Math.imul(ye,ge),C=Math.imul(ye,Te),C=C+Math.imul(_e,ge)|0,G=Math.imul(_e,Te),I=I+Math.imul(_,Fe)|0,C=C+Math.imul(_,Oe)|0,C=C+Math.imul(Y,Fe)|0,G=G+Math.imul(Y,Oe)|0;var it=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(it>>>26)|0,it&=67108863,I=Math.imul(J,ge),C=Math.imul(J,Te),C=C+Math.imul(oe,ge)|0,G=Math.imul(oe,Te),I=I+Math.imul(ye,Fe)|0,C=C+Math.imul(ye,Oe)|0,C=C+Math.imul(_e,Fe)|0,G=G+Math.imul(_e,Oe)|0,I=I+Math.imul(_,Qe)|0,C=C+Math.imul(_,Ke)|0,C=C+Math.imul(Y,Qe)|0,G=G+Math.imul(Y,Ke)|0;var rt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(rt>>>26)|0,rt&=67108863,I=Math.imul(me,ge),C=Math.imul(me,Te),C=C+Math.imul(B,ge)|0,G=Math.imul(B,Te),I=I+Math.imul(J,Fe)|0,C=C+Math.imul(J,Oe)|0,C=C+Math.imul(oe,Fe)|0,G=G+Math.imul(oe,Oe)|0,I=I+Math.imul(ye,Qe)|0,C=C+Math.imul(ye,Ke)|0,C=C+Math.imul(_e,Qe)|0,G=G+Math.imul(_e,Ke)|0,I=I+Math.imul(_,qe)|0,C=C+Math.imul(_,Me)|0,C=C+Math.imul(Y,qe)|0,G=G+Math.imul(Y,Me)|0;var Wt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,I=Math.imul(ae,ge),C=Math.imul(ae,Te),C=C+Math.imul(fe,ge)|0,G=Math.imul(fe,Te),I=I+Math.imul(me,Fe)|0,C=C+Math.imul(me,Oe)|0,C=C+Math.imul(B,Fe)|0,G=G+Math.imul(B,Oe)|0,I=I+Math.imul(J,Qe)|0,C=C+Math.imul(J,Ke)|0,C=C+Math.imul(oe,Qe)|0,G=G+Math.imul(oe,Ke)|0,I=I+Math.imul(ye,qe)|0,C=C+Math.imul(ye,Me)|0,C=C+Math.imul(_e,qe)|0,G=G+Math.imul(_e,Me)|0,I=I+Math.imul(_,je)|0,C=C+Math.imul(_,Ye)|0,C=C+Math.imul(Y,je)|0,G=G+Math.imul(Y,Ye)|0;var Qt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,I=Math.imul(ve,ge),C=Math.imul(ve,Te),C=C+Math.imul(Se,ge)|0,G=Math.imul(Se,Te),I=I+Math.imul(ae,Fe)|0,C=C+Math.imul(ae,Oe)|0,C=C+Math.imul(fe,Fe)|0,G=G+Math.imul(fe,Oe)|0,I=I+Math.imul(me,Qe)|0,C=C+Math.imul(me,Ke)|0,C=C+Math.imul(B,Qe)|0,G=G+Math.imul(B,Ke)|0,I=I+Math.imul(J,qe)|0,C=C+Math.imul(J,Me)|0,C=C+Math.imul(oe,qe)|0,G=G+Math.imul(oe,Me)|0,I=I+Math.imul(ye,je)|0,C=C+Math.imul(ye,Ye)|0,C=C+Math.imul(_e,je)|0,G=G+Math.imul(_e,Ye)|0,I=I+Math.imul(_,$e)|0,C=C+Math.imul(_,ze)|0,C=C+Math.imul(Y,$e)|0,G=G+Math.imul(Y,ze)|0;var jt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(jt>>>26)|0,jt&=67108863,I=Math.imul(Ne,ge),C=Math.imul(Ne,Te),C=C+Math.imul(xe,ge)|0,G=Math.imul(xe,Te),I=I+Math.imul(ve,Fe)|0,C=C+Math.imul(ve,Oe)|0,C=C+Math.imul(Se,Fe)|0,G=G+Math.imul(Se,Oe)|0,I=I+Math.imul(ae,Qe)|0,C=C+Math.imul(ae,Ke)|0,C=C+Math.imul(fe,Qe)|0,G=G+Math.imul(fe,Ke)|0,I=I+Math.imul(me,qe)|0,C=C+Math.imul(me,Me)|0,C=C+Math.imul(B,qe)|0,G=G+Math.imul(B,Me)|0,I=I+Math.imul(J,je)|0,C=C+Math.imul(J,Ye)|0,C=C+Math.imul(oe,je)|0,G=G+Math.imul(oe,Ye)|0,I=I+Math.imul(ye,$e)|0,C=C+Math.imul(ye,ze)|0,C=C+Math.imul(_e,$e)|0,G=G+Math.imul(_e,ze)|0,I=I+Math.imul(_,Ze)|0,C=C+Math.imul(_,We)|0,C=C+Math.imul(Y,Ze)|0,G=G+Math.imul(Y,We)|0;var vt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(vt>>>26)|0,vt&=67108863,I=Math.imul(Be,ge),C=Math.imul(Be,Te),C=C+Math.imul(Ie,ge)|0,G=Math.imul(Ie,Te),I=I+Math.imul(Ne,Fe)|0,C=C+Math.imul(Ne,Oe)|0,C=C+Math.imul(xe,Fe)|0,G=G+Math.imul(xe,Oe)|0,I=I+Math.imul(ve,Qe)|0,C=C+Math.imul(ve,Ke)|0,C=C+Math.imul(Se,Qe)|0,G=G+Math.imul(Se,Ke)|0,I=I+Math.imul(ae,qe)|0,C=C+Math.imul(ae,Me)|0,C=C+Math.imul(fe,qe)|0,G=G+Math.imul(fe,Me)|0,I=I+Math.imul(me,je)|0,C=C+Math.imul(me,Ye)|0,C=C+Math.imul(B,je)|0,G=G+Math.imul(B,Ye)|0,I=I+Math.imul(J,$e)|0,C=C+Math.imul(J,ze)|0,C=C+Math.imul(oe,$e)|0,G=G+Math.imul(oe,ze)|0,I=I+Math.imul(ye,Ze)|0,C=C+Math.imul(ye,We)|0,C=C+Math.imul(_e,Ze)|0,G=G+Math.imul(_e,We)|0,I=I+Math.imul(_,Je)|0,C=C+Math.imul(_,Ge)|0,C=C+Math.imul(Y,Je)|0,G=G+Math.imul(Y,Ge)|0;var Ht=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,I=Math.imul(ne,ge),C=Math.imul(ne,Te),C=C+Math.imul(j,ge)|0,G=Math.imul(j,Te),I=I+Math.imul(Be,Fe)|0,C=C+Math.imul(Be,Oe)|0,C=C+Math.imul(Ie,Fe)|0,G=G+Math.imul(Ie,Oe)|0,I=I+Math.imul(Ne,Qe)|0,C=C+Math.imul(Ne,Ke)|0,C=C+Math.imul(xe,Qe)|0,G=G+Math.imul(xe,Ke)|0,I=I+Math.imul(ve,qe)|0,C=C+Math.imul(ve,Me)|0,C=C+Math.imul(Se,qe)|0,G=G+Math.imul(Se,Me)|0,I=I+Math.imul(ae,je)|0,C=C+Math.imul(ae,Ye)|0,C=C+Math.imul(fe,je)|0,G=G+Math.imul(fe,Ye)|0,I=I+Math.imul(me,$e)|0,C=C+Math.imul(me,ze)|0,C=C+Math.imul(B,$e)|0,G=G+Math.imul(B,ze)|0,I=I+Math.imul(J,Ze)|0,C=C+Math.imul(J,We)|0,C=C+Math.imul(oe,Ze)|0,G=G+Math.imul(oe,We)|0,I=I+Math.imul(ye,Je)|0,C=C+Math.imul(ye,Ge)|0,C=C+Math.imul(_e,Je)|0,G=G+Math.imul(_e,Ge)|0,I=I+Math.imul(_,Xe)|0,C=C+Math.imul(_,Ve)|0,C=C+Math.imul(Y,Xe)|0,G=G+Math.imul(Y,Ve)|0;var Kt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,I=Math.imul(ue,ge),C=Math.imul(ue,Te),C=C+Math.imul(he,ge)|0,G=Math.imul(he,Te),I=I+Math.imul(ne,Fe)|0,C=C+Math.imul(ne,Oe)|0,C=C+Math.imul(j,Fe)|0,G=G+Math.imul(j,Oe)|0,I=I+Math.imul(Be,Qe)|0,C=C+Math.imul(Be,Ke)|0,C=C+Math.imul(Ie,Qe)|0,G=G+Math.imul(Ie,Ke)|0,I=I+Math.imul(Ne,qe)|0,C=C+Math.imul(Ne,Me)|0,C=C+Math.imul(xe,qe)|0,G=G+Math.imul(xe,Me)|0,I=I+Math.imul(ve,je)|0,C=C+Math.imul(ve,Ye)|0,C=C+Math.imul(Se,je)|0,G=G+Math.imul(Se,Ye)|0,I=I+Math.imul(ae,$e)|0,C=C+Math.imul(ae,ze)|0,C=C+Math.imul(fe,$e)|0,G=G+Math.imul(fe,ze)|0,I=I+Math.imul(me,Ze)|0,C=C+Math.imul(me,We)|0,C=C+Math.imul(B,Ze)|0,G=G+Math.imul(B,We)|0,I=I+Math.imul(J,Je)|0,C=C+Math.imul(J,Ge)|0,C=C+Math.imul(oe,Je)|0,G=G+Math.imul(oe,Ge)|0,I=I+Math.imul(ye,Xe)|0,C=C+Math.imul(ye,Ve)|0,C=C+Math.imul(_e,Xe)|0,G=G+Math.imul(_e,Ve)|0,I=I+Math.imul(_,et)|0,C=C+Math.imul(_,tt)|0,C=C+Math.imul(Y,et)|0,G=G+Math.imul(Y,tt)|0;var Yt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,I=Math.imul(ue,Fe),C=Math.imul(ue,Oe),C=C+Math.imul(he,Fe)|0,G=Math.imul(he,Oe),I=I+Math.imul(ne,Qe)|0,C=C+Math.imul(ne,Ke)|0,C=C+Math.imul(j,Qe)|0,G=G+Math.imul(j,Ke)|0,I=I+Math.imul(Be,qe)|0,C=C+Math.imul(Be,Me)|0,C=C+Math.imul(Ie,qe)|0,G=G+Math.imul(Ie,Me)|0,I=I+Math.imul(Ne,je)|0,C=C+Math.imul(Ne,Ye)|0,C=C+Math.imul(xe,je)|0,G=G+Math.imul(xe,Ye)|0,I=I+Math.imul(ve,$e)|0,C=C+Math.imul(ve,ze)|0,C=C+Math.imul(Se,$e)|0,G=G+Math.imul(Se,ze)|0,I=I+Math.imul(ae,Ze)|0,C=C+Math.imul(ae,We)|0,C=C+Math.imul(fe,Ze)|0,G=G+Math.imul(fe,We)|0,I=I+Math.imul(me,Je)|0,C=C+Math.imul(me,Ge)|0,C=C+Math.imul(B,Je)|0,G=G+Math.imul(B,Ge)|0,I=I+Math.imul(J,Xe)|0,C=C+Math.imul(J,Ve)|0,C=C+Math.imul(oe,Xe)|0,G=G+Math.imul(oe,Ve)|0,I=I+Math.imul(ye,et)|0,C=C+Math.imul(ye,tt)|0,C=C+Math.imul(_e,et)|0,G=G+Math.imul(_e,tt)|0;var sr=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(sr>>>26)|0,sr&=67108863,I=Math.imul(ue,Qe),C=Math.imul(ue,Ke),C=C+Math.imul(he,Qe)|0,G=Math.imul(he,Ke),I=I+Math.imul(ne,qe)|0,C=C+Math.imul(ne,Me)|0,C=C+Math.imul(j,qe)|0,G=G+Math.imul(j,Me)|0,I=I+Math.imul(Be,je)|0,C=C+Math.imul(Be,Ye)|0,C=C+Math.imul(Ie,je)|0,G=G+Math.imul(Ie,Ye)|0,I=I+Math.imul(Ne,$e)|0,C=C+Math.imul(Ne,ze)|0,C=C+Math.imul(xe,$e)|0,G=G+Math.imul(xe,ze)|0,I=I+Math.imul(ve,Ze)|0,C=C+Math.imul(ve,We)|0,C=C+Math.imul(Se,Ze)|0,G=G+Math.imul(Se,We)|0,I=I+Math.imul(ae,Je)|0,C=C+Math.imul(ae,Ge)|0,C=C+Math.imul(fe,Je)|0,G=G+Math.imul(fe,Ge)|0,I=I+Math.imul(me,Xe)|0,C=C+Math.imul(me,Ve)|0,C=C+Math.imul(B,Xe)|0,G=G+Math.imul(B,Ve)|0,I=I+Math.imul(J,et)|0,C=C+Math.imul(J,tt)|0,C=C+Math.imul(oe,et)|0,G=G+Math.imul(oe,tt)|0;var ar=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(ar>>>26)|0,ar&=67108863,I=Math.imul(ue,qe),C=Math.imul(ue,Me),C=C+Math.imul(he,qe)|0,G=Math.imul(he,Me),I=I+Math.imul(ne,je)|0,C=C+Math.imul(ne,Ye)|0,C=C+Math.imul(j,je)|0,G=G+Math.imul(j,Ye)|0,I=I+Math.imul(Be,$e)|0,C=C+Math.imul(Be,ze)|0,C=C+Math.imul(Ie,$e)|0,G=G+Math.imul(Ie,ze)|0,I=I+Math.imul(Ne,Ze)|0,C=C+Math.imul(Ne,We)|0,C=C+Math.imul(xe,Ze)|0,G=G+Math.imul(xe,We)|0,I=I+Math.imul(ve,Je)|0,C=C+Math.imul(ve,Ge)|0,C=C+Math.imul(Se,Je)|0,G=G+Math.imul(Se,Ge)|0,I=I+Math.imul(ae,Xe)|0,C=C+Math.imul(ae,Ve)|0,C=C+Math.imul(fe,Xe)|0,G=G+Math.imul(fe,Ve)|0,I=I+Math.imul(me,et)|0,C=C+Math.imul(me,tt)|0,C=C+Math.imul(B,et)|0,G=G+Math.imul(B,tt)|0;var or=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(or>>>26)|0,or&=67108863,I=Math.imul(ue,je),C=Math.imul(ue,Ye),C=C+Math.imul(he,je)|0,G=Math.imul(he,Ye),I=I+Math.imul(ne,$e)|0,C=C+Math.imul(ne,ze)|0,C=C+Math.imul(j,$e)|0,G=G+Math.imul(j,ze)|0,I=I+Math.imul(Be,Ze)|0,C=C+Math.imul(Be,We)|0,C=C+Math.imul(Ie,Ze)|0,G=G+Math.imul(Ie,We)|0,I=I+Math.imul(Ne,Je)|0,C=C+Math.imul(Ne,Ge)|0,C=C+Math.imul(xe,Je)|0,G=G+Math.imul(xe,Ge)|0,I=I+Math.imul(ve,Xe)|0,C=C+Math.imul(ve,Ve)|0,C=C+Math.imul(Se,Xe)|0,G=G+Math.imul(Se,Ve)|0,I=I+Math.imul(ae,et)|0,C=C+Math.imul(ae,tt)|0,C=C+Math.imul(fe,et)|0,G=G+Math.imul(fe,tt)|0;var Zt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,I=Math.imul(ue,$e),C=Math.imul(ue,ze),C=C+Math.imul(he,$e)|0,G=Math.imul(he,ze),I=I+Math.imul(ne,Ze)|0,C=C+Math.imul(ne,We)|0,C=C+Math.imul(j,Ze)|0,G=G+Math.imul(j,We)|0,I=I+Math.imul(Be,Je)|0,C=C+Math.imul(Be,Ge)|0,C=C+Math.imul(Ie,Je)|0,G=G+Math.imul(Ie,Ge)|0,I=I+Math.imul(Ne,Xe)|0,C=C+Math.imul(Ne,Ve)|0,C=C+Math.imul(xe,Xe)|0,G=G+Math.imul(xe,Ve)|0,I=I+Math.imul(ve,et)|0,C=C+Math.imul(ve,tt)|0,C=C+Math.imul(Se,et)|0,G=G+Math.imul(Se,tt)|0;var gt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(gt>>>26)|0,gt&=67108863,I=Math.imul(ue,Ze),C=Math.imul(ue,We),C=C+Math.imul(he,Ze)|0,G=Math.imul(he,We),I=I+Math.imul(ne,Je)|0,C=C+Math.imul(ne,Ge)|0,C=C+Math.imul(j,Je)|0,G=G+Math.imul(j,Ge)|0,I=I+Math.imul(Be,Xe)|0,C=C+Math.imul(Be,Ve)|0,C=C+Math.imul(Ie,Xe)|0,G=G+Math.imul(Ie,Ve)|0,I=I+Math.imul(Ne,et)|0,C=C+Math.imul(Ne,tt)|0,C=C+Math.imul(xe,et)|0,G=G+Math.imul(xe,tt)|0;var Et=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Et>>>26)|0,Et&=67108863,I=Math.imul(ue,Je),C=Math.imul(ue,Ge),C=C+Math.imul(he,Je)|0,G=Math.imul(he,Ge),I=I+Math.imul(ne,Xe)|0,C=C+Math.imul(ne,Ve)|0,C=C+Math.imul(j,Xe)|0,G=G+Math.imul(j,Ve)|0,I=I+Math.imul(Be,et)|0,C=C+Math.imul(Be,tt)|0,C=C+Math.imul(Ie,et)|0,G=G+Math.imul(Ie,tt)|0;var ct=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(ct>>>26)|0,ct&=67108863,I=Math.imul(ue,Xe),C=Math.imul(ue,Ve),C=C+Math.imul(he,Xe)|0,G=Math.imul(he,Ve),I=I+Math.imul(ne,et)|0,C=C+Math.imul(ne,tt)|0,C=C+Math.imul(j,et)|0,G=G+Math.imul(j,tt)|0;var Tt=(P+I|0)+((C&8191)<<13)|0;P=(G+(C>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,I=Math.imul(ue,et),C=Math.imul(ue,tt),C=C+Math.imul(he,et)|0,G=Math.imul(he,tt);var Jt=(P+I|0)+((C&8191)<<13)|0;return P=(G+(C>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,x[0]=$t,x[1]=it,x[2]=rt,x[3]=Wt,x[4]=Qt,x[5]=jt,x[6]=vt,x[7]=Ht,x[8]=Kt,x[9]=Yt,x[10]=sr,x[11]=ar,x[12]=or,x[13]=Zt,x[14]=gt,x[15]=Et,x[16]=ct,x[17]=Tt,x[18]=Jt,P!==0&&(x[19]=P,M.length++),M};Math.imul||(g=m);function S(z,A,U){U.negative=A.negative^z.negative,U.length=z.length+A.length;for(var M=0,s=0,h=0;h<U.length-1;h++){var x=s;s=0;for(var P=M&67108863,I=Math.min(h,A.length-1),C=Math.max(0,h-z.length+1);C<=I;C++){var G=h-C,V=z.words[G]|0,_=A.words[C]|0,Y=V*_,pe=Y&67108863;x=x+(Y/67108864|0)|0,pe=pe+P|0,P=pe&67108863,x=x+(pe>>>26)|0,s+=x>>>26,x&=67108863}U.words[h]=P,M=x,x=s}return M!==0?U.words[h]=M:U.length--,U.strip()}function D(z,A,U){var M=new w;return M.mulp(z,A,U)}n.prototype.mulTo=function(A,U){var M,s=this.length+A.length;return this.length===10&&A.length===10?M=g(this,A,U):s<63?M=m(this,A,U):s<1024?M=S(this,A,U):M=D(this,A,U),M};function w(z,A){this.x=z,this.y=A}w.prototype.makeRBT=function(A){for(var U=new Array(A),M=n.prototype._countBits(A)-1,s=0;s<A;s++)U[s]=this.revBin(s,M,A);return U},w.prototype.revBin=function(A,U,M){if(A===0||A===M-1)return A;for(var s=0,h=0;h<U;h++)s|=(A&1)<<U-h-1,A>>=1;return s},w.prototype.permute=function(A,U,M,s,h,x){for(var P=0;P<x;P++)s[P]=U[A[P]],h[P]=M[A[P]]},w.prototype.transform=function(A,U,M,s,h,x){this.permute(x,A,U,M,s,h);for(var P=1;P<h;P<<=1)for(var I=P<<1,C=Math.cos(2*Math.PI/I),G=Math.sin(2*Math.PI/I),V=0;V<h;V+=I)for(var _=C,Y=G,pe=0;pe<P;pe++){var ye=M[V+pe],_e=s[V+pe],X=M[V+pe+P],J=s[V+pe+P],oe=_*X-Y*J;J=_*J+Y*X,X=oe,M[V+pe]=ye+X,s[V+pe]=_e+J,M[V+pe+P]=ye-X,s[V+pe+P]=_e-J,pe!==I&&(oe=C*_-G*Y,Y=C*Y+G*_,_=oe)}},w.prototype.guessLen13b=function(A,U){var M=Math.max(U,A)|1,s=M&1,h=0;for(M=M/2|0;M;M=M>>>1)h++;return 1<<h+1+s},w.prototype.conjugate=function(A,U,M){if(!(M<=1))for(var s=0;s<M/2;s++){var h=A[s];A[s]=A[M-s-1],A[M-s-1]=h,h=U[s],U[s]=-U[M-s-1],U[M-s-1]=-h}},w.prototype.normalize13b=function(A,U){for(var M=0,s=0;s<U/2;s++){var h=Math.round(A[2*s+1]/U)*8192+Math.round(A[2*s]/U)+M;A[s]=h&67108863,h<67108864?M=0:M=h/67108864|0}return A},w.prototype.convert13b=function(A,U,M,s){for(var h=0,x=0;x<U;x++)h=h+(A[x]|0),M[2*x]=h&8191,h=h>>>13,M[2*x+1]=h&8191,h=h>>>13;for(x=2*U;x<s;++x)M[x]=0;R(h===0),R((h&~8191)==0)},w.prototype.stub=function(A){for(var U=new Array(A),M=0;M<A;M++)U[M]=0;return U},w.prototype.mulp=function(A,U,M){var s=2*this.guessLen13b(A.length,U.length),h=this.makeRBT(s),x=this.stub(s),P=new Array(s),I=new Array(s),C=new Array(s),G=new Array(s),V=new Array(s),_=new Array(s),Y=M.words;Y.length=s,this.convert13b(A.words,A.length,P,s),this.convert13b(U.words,U.length,G,s),this.transform(P,x,I,C,s,h),this.transform(G,x,V,_,s,h);for(var pe=0;pe<s;pe++){var ye=I[pe]*V[pe]-C[pe]*_[pe];C[pe]=I[pe]*_[pe]+C[pe]*V[pe],I[pe]=ye}return this.conjugate(I,C,s),this.transform(I,C,Y,x,s,h),this.conjugate(Y,x,s),this.normalize13b(Y,s),M.negative=A.negative^U.negative,M.length=A.length+U.length,M.strip()},n.prototype.mul=function(A){var U=new n(null);return U.words=new Array(this.length+A.length),this.mulTo(A,U)},n.prototype.mulf=function(A){var U=new n(null);return U.words=new Array(this.length+A.length),D(this,A,U)},n.prototype.imul=function(A){return this.clone().mulTo(A,this)},n.prototype.imuln=function(A){R(typeof A=="number"),R(A<67108864);for(var U=0,M=0;M<this.length;M++){var s=(this.words[M]|0)*A,h=(s&67108863)+(U&67108863);U>>=26,U+=s/67108864|0,U+=h>>>26,this.words[M]=h&67108863}return U!==0&&(this.words[M]=U,this.length++),this},n.prototype.muln=function(A){return this.clone().imuln(A)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(A){var U=d(A);if(U.length===0)return new n(1);for(var M=this,s=0;s<U.length&&U[s]===0;s++,M=M.sqr());if(++s<U.length)for(var h=M.sqr();s<U.length;s++,h=h.sqr())U[s]!==0&&(M=M.mul(h));return M},n.prototype.iushln=function(A){R(typeof A=="number"&&A>=0);var U=A%26,M=(A-U)/26,s=67108863>>>26-U<<26-U,h;if(U!==0){var x=0;for(h=0;h<this.length;h++){var P=this.words[h]&s,I=(this.words[h]|0)-P<<U;this.words[h]=I|x,x=P>>>26-U}x&&(this.words[h]=x,this.length++)}if(M!==0){for(h=this.length-1;h>=0;h--)this.words[h+M]=this.words[h];for(h=0;h<M;h++)this.words[h]=0;this.length+=M}return this.strip()},n.prototype.ishln=function(A){return R(this.negative===0),this.iushln(A)},n.prototype.iushrn=function(A,U,M){R(typeof A=="number"&&A>=0);var s;U?s=(U-U%26)/26:s=0;var h=A%26,x=Math.min((A-h)/26,this.length),P=67108863^67108863>>>h<<h,I=M;if(s-=x,s=Math.max(0,s),I){for(var C=0;C<x;C++)I.words[C]=this.words[C];I.length=x}if(x!==0)if(this.length>x)for(this.length-=x,C=0;C<this.length;C++)this.words[C]=this.words[C+x];else this.words[0]=0,this.length=1;var G=0;for(C=this.length-1;C>=0&&(G!==0||C>=s);C--){var V=this.words[C]|0;this.words[C]=G<<26-h|V>>>h,G=V&P}return I&&G!==0&&(I.words[I.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(A,U,M){return R(this.negative===0),this.iushrn(A,U,M)},n.prototype.shln=function(A){return this.clone().ishln(A)},n.prototype.ushln=function(A){return this.clone().iushln(A)},n.prototype.shrn=function(A){return this.clone().ishrn(A)},n.prototype.ushrn=function(A){return this.clone().iushrn(A)},n.prototype.testn=function(A){R(typeof A=="number"&&A>=0);var U=A%26,M=(A-U)/26,s=1<<U;if(this.length<=M)return!1;var h=this.words[M];return!!(h&s)},n.prototype.imaskn=function(A){R(typeof A=="number"&&A>=0);var U=A%26,M=(A-U)/26;if(R(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(U!==0&&M++,this.length=Math.min(M,this.length),U!==0){var s=67108863^67108863>>>U<<U;this.words[this.length-1]&=s}return this.strip()},n.prototype.maskn=function(A){return this.clone().imaskn(A)},n.prototype.iaddn=function(A){return R(typeof A=="number"),R(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(this.words[0]|0)<A?(this.words[0]=A-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},n.prototype._iaddn=function(A){this.words[0]+=A;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},n.prototype.isubn=function(A){if(R(typeof A=="number"),R(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},n.prototype.addn=function(A){return this.clone().iaddn(A)},n.prototype.subn=function(A){return this.clone().isubn(A)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(A,U,M){var s=A.length+M,h;this._expand(s);var x,P=0;for(h=0;h<A.length;h++){x=(this.words[h+M]|0)+P;var I=(A.words[h]|0)*U;x-=I&67108863,P=(x>>26)-(I/67108864|0),this.words[h+M]=x&67108863}for(;h<this.length-M;h++)x=(this.words[h+M]|0)+P,P=x>>26,this.words[h+M]=x&67108863;if(P===0)return this.strip();for(R(P===-1),P=0,h=0;h<this.length;h++)x=-(this.words[h]|0)+P,P=x>>26,this.words[h]=x&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(A,U){var M=this.length-A.length,s=this.clone(),h=A,x=h.words[h.length-1]|0,P=this._countBits(x);M=26-P,M!==0&&(h=h.ushln(M),s.iushln(M),x=h.words[h.length-1]|0);var I=s.length-h.length,C;if(U!=="mod"){C=new n(null),C.length=I+1,C.words=new Array(C.length);for(var G=0;G<C.length;G++)C.words[G]=0}var V=s.clone()._ishlnsubmul(h,1,I);V.negative===0&&(s=V,C&&(C.words[I]=1));for(var _=I-1;_>=0;_--){var Y=(s.words[h.length+_]|0)*67108864+(s.words[h.length+_-1]|0);for(Y=Math.min(Y/x|0,67108863),s._ishlnsubmul(h,Y,_);s.negative!==0;)Y--,s.negative=0,s._ishlnsubmul(h,1,_),s.isZero()||(s.negative^=1);C&&(C.words[_]=Y)}return C&&C.strip(),s.strip(),U!=="div"&&M!==0&&s.iushrn(M),{div:C||null,mod:s}},n.prototype.divmod=function(A,U,M){if(R(!A.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var s,h,x;return this.negative!==0&&A.negative===0?(x=this.neg().divmod(A,U),U!=="mod"&&(s=x.div.neg()),U!=="div"&&(h=x.mod.neg(),M&&h.negative!==0&&h.iadd(A)),{div:s,mod:h}):this.negative===0&&A.negative!==0?(x=this.divmod(A.neg(),U),U!=="mod"&&(s=x.div.neg()),{div:s,mod:x.mod}):(this.negative&A.negative)!=0?(x=this.neg().divmod(A.neg(),U),U!=="div"&&(h=x.mod.neg(),M&&h.negative!==0&&h.isub(A)),{div:x.div,mod:h}):A.length>this.length||this.cmp(A)<0?{div:new n(0),mod:this}:A.length===1?U==="div"?{div:this.divn(A.words[0]),mod:null}:U==="mod"?{div:null,mod:new n(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new n(this.modn(A.words[0]))}:this._wordDiv(A,U)},n.prototype.div=function(A){return this.divmod(A,"div",!1).div},n.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},n.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},n.prototype.divRound=function(A){var U=this.divmod(A);if(U.mod.isZero())return U.div;var M=U.div.negative!==0?U.mod.isub(A):U.mod,s=A.ushrn(1),h=A.andln(1),x=M.cmp(s);return x<0||h===1&&x===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},n.prototype.modn=function(A){R(A<=67108863);for(var U=(1<<26)%A,M=0,s=this.length-1;s>=0;s--)M=(U*M+(this.words[s]|0))%A;return M},n.prototype.idivn=function(A){R(A<=67108863);for(var U=0,M=this.length-1;M>=0;M--){var s=(this.words[M]|0)+U*67108864;this.words[M]=s/A|0,U=s%A}return this.strip()},n.prototype.divn=function(A){return this.clone().idivn(A)},n.prototype.egcd=function(A){R(A.negative===0),R(!A.isZero());var U=this,M=A.clone();U.negative!==0?U=U.umod(A):U=U.clone();for(var s=new n(1),h=new n(0),x=new n(0),P=new n(1),I=0;U.isEven()&&M.isEven();)U.iushrn(1),M.iushrn(1),++I;for(var C=M.clone(),G=U.clone();!U.isZero();){for(var V=0,_=1;(U.words[0]&_)==0&&V<26;++V,_<<=1);if(V>0)for(U.iushrn(V);V-- >0;)(s.isOdd()||h.isOdd())&&(s.iadd(C),h.isub(G)),s.iushrn(1),h.iushrn(1);for(var Y=0,pe=1;(M.words[0]&pe)==0&&Y<26;++Y,pe<<=1);if(Y>0)for(M.iushrn(Y);Y-- >0;)(x.isOdd()||P.isOdd())&&(x.iadd(C),P.isub(G)),x.iushrn(1),P.iushrn(1);U.cmp(M)>=0?(U.isub(M),s.isub(x),h.isub(P)):(M.isub(U),x.isub(s),P.isub(h))}return{a:x,b:P,gcd:M.iushln(I)}},n.prototype._invmp=function(A){R(A.negative===0),R(!A.isZero());var U=this,M=A.clone();U.negative!==0?U=U.umod(A):U=U.clone();for(var s=new n(1),h=new n(0),x=M.clone();U.cmpn(1)>0&&M.cmpn(1)>0;){for(var P=0,I=1;(U.words[0]&I)==0&&P<26;++P,I<<=1);if(P>0)for(U.iushrn(P);P-- >0;)s.isOdd()&&s.iadd(x),s.iushrn(1);for(var C=0,G=1;(M.words[0]&G)==0&&C<26;++C,G<<=1);if(C>0)for(M.iushrn(C);C-- >0;)h.isOdd()&&h.iadd(x),h.iushrn(1);U.cmp(M)>=0?(U.isub(M),s.isub(h)):(M.isub(U),h.isub(s))}var V;return U.cmpn(1)===0?V=s:V=h,V.cmpn(0)<0&&V.iadd(A),V},n.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var U=this.clone(),M=A.clone();U.negative=0,M.negative=0;for(var s=0;U.isEven()&&M.isEven();s++)U.iushrn(1),M.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;M.isEven();)M.iushrn(1);var h=U.cmp(M);if(h<0){var x=U;U=M,M=x}else if(h===0||M.cmpn(1)===0)break;U.isub(M)}while(!0);return M.iushln(s)},n.prototype.invm=function(A){return this.egcd(A).a.umod(A)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(A){return this.words[0]&A},n.prototype.bincn=function(A){R(typeof A=="number");var U=A%26,M=(A-U)/26,s=1<<U;if(this.length<=M)return this._expand(M+1),this.words[M]|=s,this;for(var h=s,x=M;h!==0&&x<this.length;x++){var P=this.words[x]|0;P+=h,h=P>>>26,P&=67108863,this.words[x]=P}return h!==0&&(this.words[x]=h,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(A){var U=A<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var M;if(this.length>1)M=1;else{U&&(A=-A),R(A<=67108863,"Number is too big");var s=this.words[0]|0;M=s===A?0:s<A?-1:1}return this.negative!==0?-M|0:M},n.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var U=this.ucmp(A);return this.negative!==0?-U|0:U},n.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var U=0,M=this.length-1;M>=0;M--){var s=this.words[M]|0,h=A.words[M]|0;if(s!==h){s<h?U=-1:s>h&&(U=1);break}}return U},n.prototype.gtn=function(A){return this.cmpn(A)===1},n.prototype.gt=function(A){return this.cmp(A)===1},n.prototype.gten=function(A){return this.cmpn(A)>=0},n.prototype.gte=function(A){return this.cmp(A)>=0},n.prototype.ltn=function(A){return this.cmpn(A)===-1},n.prototype.lt=function(A){return this.cmp(A)===-1},n.prototype.lten=function(A){return this.cmpn(A)<=0},n.prototype.lte=function(A){return this.cmp(A)<=0},n.prototype.eqn=function(A){return this.cmpn(A)===0},n.prototype.eq=function(A){return this.cmp(A)===0},n.red=function(A){return new se(A)},n.prototype.toRed=function(A){return R(!this.red,"Already a number in reduction context"),R(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},n.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(A){return this.red=A,this},n.prototype.forceRed=function(A){return R(!this.red,"Already a number in reduction context"),this._forceRed(A)},n.prototype.redAdd=function(A){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},n.prototype.redIAdd=function(A){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},n.prototype.redSub=function(A){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},n.prototype.redISub=function(A){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},n.prototype.redShl=function(A){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},n.prototype.redMul=function(A){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},n.prototype.redIMul=function(A){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},n.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(A){return R(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var F={k256:null,p224:null,p192:null,p25519:null};function H(z,A){this.name=z,this.p=new n(A,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}H.prototype._tmp=function(){var A=new n(null);return A.words=new Array(Math.ceil(this.n/13)),A},H.prototype.ireduce=function(A){var U=A,M;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),M=U.bitLength();while(M>this.n);var s=M<this.n?-1:U.ucmp(this.p);return s===0?(U.words[0]=0,U.length=1):s>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},H.prototype.split=function(A,U){A.iushrn(this.n,0,U)},H.prototype.imulK=function(A){return A.imul(this.k)};function Q(){H.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(Q,H),Q.prototype.split=function(A,U){for(var M=4194303,s=Math.min(A.length,9),h=0;h<s;h++)U.words[h]=A.words[h];if(U.length=s,A.length<=9){A.words[0]=0,A.length=1;return}var x=A.words[9];for(U.words[U.length++]=x&M,h=10;h<A.length;h++){var P=A.words[h]|0;A.words[h-10]=(P&M)<<4|x>>>22,x=P}x>>>=22,A.words[h-10]=x,x===0&&A.length>10?A.length-=10:A.length-=9},Q.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var U=0,M=0;M<A.length;M++){var s=A.words[M]|0;U+=s*977,A.words[M]=U&67108863,U=s*64+(U/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A};function ee(){H.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(ee,H);function te(){H.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(te,H);function ie(){H.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(ie,H),ie.prototype.imulK=function(A){for(var U=0,M=0;M<A.length;M++){var s=(A.words[M]|0)*19+U,h=s&67108863;s>>>=26,A.words[M]=h,U=s}return U!==0&&(A.words[A.length++]=U),A},n._prime=function(A){if(F[A])return F[A];var U;if(A==="k256")U=new Q;else if(A==="p224")U=new ee;else if(A==="p192")U=new te;else if(A==="p25519")U=new ie;else throw new Error("Unknown prime "+A);return F[A]=U,U};function se(z){if(typeof z=="string"){var A=n._prime(z);this.m=A.p,this.prime=A}else R(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}se.prototype._verify1=function(A){R(A.negative===0,"red works only with positives"),R(A.red,"red works only with red numbers")},se.prototype._verify2=function(A,U){R((A.negative|U.negative)==0,"red works only with positives"),R(A.red&&A.red===U.red,"red works only with red numbers")},se.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},se.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},se.prototype.add=function(A,U){this._verify2(A,U);var M=A.add(U);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(A,U){this._verify2(A,U);var M=A.iadd(U);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(A,U){this._verify2(A,U);var M=A.sub(U);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(A,U){this._verify2(A,U);var M=A.isub(U);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(A,U){return this._verify1(A),this.imod(A.ushln(U))},se.prototype.imul=function(A,U){return this._verify2(A,U),this.imod(A.imul(U))},se.prototype.mul=function(A,U){return this._verify2(A,U),this.imod(A.mul(U))},se.prototype.isqr=function(A){return this.imul(A,A.clone())},se.prototype.sqr=function(A){return this.mul(A,A)},se.prototype.sqrt=function(A){if(A.isZero())return A.clone();var U=this.m.andln(3);if(R(U%2==1),U===3){var M=this.m.add(new n(1)).iushrn(2);return this.pow(A,M)}for(var s=this.m.subn(1),h=0;!s.isZero()&&s.andln(1)===0;)h++,s.iushrn(1);R(!s.isZero());var x=new n(1).toRed(this),P=x.redNeg(),I=this.m.subn(1).iushrn(1),C=this.m.bitLength();for(C=new n(2*C*C).toRed(this);this.pow(C,I).cmp(P)!==0;)C.redIAdd(P);for(var G=this.pow(C,s),V=this.pow(A,s.addn(1).iushrn(1)),_=this.pow(A,s),Y=h;_.cmp(x)!==0;){for(var pe=_,ye=0;pe.cmp(x)!==0;ye++)pe=pe.redSqr();R(ye<Y);var _e=this.pow(G,new n(1).iushln(Y-ye-1));V=V.redMul(_e),G=_e.redSqr(),_=_.redMul(G),Y=ye}return V},se.prototype.invm=function(A){var U=A._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},se.prototype.pow=function(A,U){if(U.isZero())return new n(1).toRed(this);if(U.cmpn(1)===0)return A.clone();var M=4,s=new Array(1<<M);s[0]=new n(1).toRed(this),s[1]=A;for(var h=2;h<s.length;h++)s[h]=this.mul(s[h-1],A);var x=s[0],P=0,I=0,C=U.bitLength()%26;for(C===0&&(C=26),h=U.length-1;h>=0;h--){for(var G=U.words[h],V=C-1;V>=0;V--){var _=G>>V&1;if(x!==s[0]&&(x=this.sqr(x)),_===0&&P===0){I=0;continue}P<<=1,P|=_,I++,!(I!==M&&(h!==0||V!==0))&&(x=this.mul(x,s[P]),I=0,P=0)}C=26}return x},se.prototype.convertTo=function(A){var U=A.umod(this.m);return U===A?U.clone():U},se.prototype.convertFrom=function(A){var U=A.clone();return U.red=null,U},n.mont=function(A){return new le(A)};function le(z){se.call(this,z),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(le,se),le.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},le.prototype.convertFrom=function(A){var U=this.imod(A.mul(this.rinv));return U.red=null,U},le.prototype.imul=function(A,U){if(A.isZero()||U.isZero())return A.words[0]=0,A.length=1,A;var M=A.imul(U),s=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=M.isub(s).iushrn(this.shift),x=h;return h.cmp(this.m)>=0?x=h.isub(this.m):h.cmpn(0)<0&&(x=h.iadd(this.m)),x._forceRed(this)},le.prototype.mul=function(A,U){if(A.isZero()||U.isZero())return new n(0)._forceRed(this);var M=A.mul(U),s=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=M.isub(s).iushrn(this.shift),x=h;return h.cmp(this.m)>=0?x=h.isub(this.m):h.cmpn(0)<0&&(x=h.iadd(this.m)),x._forceRed(this)},le.prototype.invm=function(A){var U=this.imod(A._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(v,this)},9931:(v,W,k)=>{var E;v.exports=function(n){return E||(E=new O(null)),E.generate(n)};function O(y){this.rand=y}if(v.exports.Rand=O,O.prototype.generate=function(n){return this._rand(n)},O.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var u=new Uint8Array(n),a=0;a<u.length;a++)u[a]=this.rand.getByte();return u},typeof self=="object")self.crypto&&self.crypto.getRandomValues?O.prototype._rand=function(n){var u=new Uint8Array(n);return self.crypto.getRandomValues(u),u}:self.msCrypto&&self.msCrypto.getRandomValues?O.prototype._rand=function(n){var u=new Uint8Array(n);return self.msCrypto.getRandomValues(u),u}:typeof window=="object"&&(O.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var R=k(9214);if(typeof R.randomBytes!="function")throw new Error("Not supported");O.prototype._rand=function(n){return R.randomBytes(n)}}catch(y){}},4497:(v,W,k)=>{var E=k(9509).Buffer;function O(f){E.isBuffer(f)||(f=E.from(f));for(var b=f.length/4|0,c=new Array(b),l=0;l<b;l++)c[l]=f.readUInt32BE(l*4);return c}function R(f){for(var b=0;b<f.length;f++)f[b]=0}function y(f,b,c,l,T){for(var d=c[0],m=c[1],g=c[2],S=c[3],D=f[0]^b[0],w=f[1]^b[1],F=f[2]^b[2],H=f[3]^b[3],Q,ee,te,ie,se=4,le=1;le<T;le++)Q=d[D>>>24]^m[w>>>16&255]^g[F>>>8&255]^S[H&255]^b[se++],ee=d[w>>>24]^m[F>>>16&255]^g[H>>>8&255]^S[D&255]^b[se++],te=d[F>>>24]^m[H>>>16&255]^g[D>>>8&255]^S[w&255]^b[se++],ie=d[H>>>24]^m[D>>>16&255]^g[w>>>8&255]^S[F&255]^b[se++],D=Q,w=ee,F=te,H=ie;return Q=(l[D>>>24]<<24|l[w>>>16&255]<<16|l[F>>>8&255]<<8|l[H&255])^b[se++],ee=(l[w>>>24]<<24|l[F>>>16&255]<<16|l[H>>>8&255]<<8|l[D&255])^b[se++],te=(l[F>>>24]<<24|l[H>>>16&255]<<16|l[D>>>8&255]<<8|l[w&255])^b[se++],ie=(l[H>>>24]<<24|l[D>>>16&255]<<16|l[w>>>8&255]<<8|l[F&255])^b[se++],Q=Q>>>0,ee=ee>>>0,te=te>>>0,ie=ie>>>0,[Q,ee,te,ie]}var n=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var f=new Array(256),b=0;b<256;b++)b<128?f[b]=b<<1:f[b]=b<<1^283;for(var c=[],l=[],T=[[],[],[],[]],d=[[],[],[],[]],m=0,g=0,S=0;S<256;++S){var D=g^g<<1^g<<2^g<<3^g<<4;D=D>>>8^D&255^99,c[m]=D,l[D]=m;var w=f[m],F=f[w],H=f[F],Q=f[D]*257^D*16843008;T[0][m]=Q<<24|Q>>>8,T[1][m]=Q<<16|Q>>>16,T[2][m]=Q<<8|Q>>>24,T[3][m]=Q,Q=H*16843009^F*65537^w*257^m*16843008,d[0][D]=Q<<24|Q>>>8,d[1][D]=Q<<16|Q>>>16,d[2][D]=Q<<8|Q>>>24,d[3][D]=Q,m===0?m=g=1:(m=w^f[f[f[H^w]]],g^=f[f[g]])}return{SBOX:c,INV_SBOX:l,SUB_MIX:T,INV_SUB_MIX:d}}();function a(f){this._key=O(f),this._reset()}a.blockSize=4*4,a.keySize=256/8,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var f=this._key,b=f.length,c=b+6,l=(c+1)*4,T=[],d=0;d<b;d++)T[d]=f[d];for(d=b;d<l;d++){var m=T[d-1];d%b==0?(m=m<<8|m>>>24,m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[m&255],m^=n[d/b|0]<<24):b>6&&d%b==4&&(m=u.SBOX[m>>>24]<<24|u.SBOX[m>>>16&255]<<16|u.SBOX[m>>>8&255]<<8|u.SBOX[m&255]),T[d]=T[d-b]^m}for(var g=[],S=0;S<l;S++){var D=l-S,w=T[D-(S%4?0:4)];S<4||D<=4?g[S]=w:g[S]=u.INV_SUB_MIX[0][u.SBOX[w>>>24]]^u.INV_SUB_MIX[1][u.SBOX[w>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[w>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[w&255]]}this._nRounds=c,this._keySchedule=T,this._invKeySchedule=g},a.prototype.encryptBlockRaw=function(f){return f=O(f),y(f,this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},a.prototype.encryptBlock=function(f){var b=this.encryptBlockRaw(f),c=E.allocUnsafe(16);return c.writeUInt32BE(b[0],0),c.writeUInt32BE(b[1],4),c.writeUInt32BE(b[2],8),c.writeUInt32BE(b[3],12),c},a.prototype.decryptBlock=function(f){f=O(f);var b=f[1];f[1]=f[3],f[3]=b;var c=y(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),l=E.allocUnsafe(16);return l.writeUInt32BE(c[0],0),l.writeUInt32BE(c[3],4),l.writeUInt32BE(c[2],8),l.writeUInt32BE(c[1],12),l},a.prototype.scrub=function(){R(this._keySchedule),R(this._invKeySchedule),R(this._key)},v.exports.AES=a},2422:(v,W,k)=>{var E=k(4497),O=k(9509).Buffer,R=k(1027),y=k(5717),n=k(3288),u=k(7295),a=k(685);function f(l,T){var d=0;l.length!==T.length&&d++;for(var m=Math.min(l.length,T.length),g=0;g<m;++g)d+=l[g]^T[g];return d}function b(l,T,d){if(T.length===12)return l._finID=O.concat([T,O.from([0,0,0,1])]),O.concat([T,O.from([0,0,0,2])]);var m=new n(d),g=T.length,S=g%16;m.update(T),S&&(S=16-S,m.update(O.alloc(S,0))),m.update(O.alloc(8,0));var D=g*8,w=O.alloc(8);w.writeUIntBE(D,0,8),m.update(w),l._finID=m.state;var F=O.from(l._finID);return a(F),F}function c(l,T,d,m){R.call(this);var g=O.alloc(4,0);this._cipher=new E.AES(T);var S=this._cipher.encryptBlock(g);this._ghash=new n(S),d=b(this,d,S),this._prev=O.from(d),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=l,this._authTag=null,this._called=!1}y(c,R),c.prototype._update=function(l){if(!this._called&&this._alen){var T=16-this._alen%16;T<16&&(T=O.alloc(T,0),this._ghash.update(T))}this._called=!0;var d=this._mode.encrypt(this,l);return this._decrypt?this._ghash.update(l):this._ghash.update(d),this._len+=l.length,d},c.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var l=u(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&f(l,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=l,this._cipher.scrub()},c.prototype.getAuthTag=function(){if(this._decrypt||!O.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},c.prototype.setAuthTag=function(T){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=T},c.prototype.setAAD=function(T){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(T),this._alen+=T.length},v.exports=c},4696:(v,W,k)=>{var E=k(1494),O=k(6193),R=k(5415);function y(){return Object.keys(R)}W.createCipher=W.Cipher=E.createCipher,W.createCipheriv=W.Cipheriv=E.createCipheriv,W.createDecipher=W.Decipher=O.createDecipher,W.createDecipheriv=W.Decipheriv=O.createDecipheriv,W.listCiphers=W.getCiphers=y},6193:(v,W,k)=>{var E=k(2422),O=k(9509).Buffer,R=k(45),y=k(5969),n=k(1027),u=k(4497),a=k(3048),f=k(5717);function b(m,g,S){n.call(this),this._cache=new c,this._last=void 0,this._cipher=new u.AES(g),this._prev=O.from(S),this._mode=m,this._autopadding=!0}f(b,n),b.prototype._update=function(m){this._cache.add(m);for(var g,S,D=[];g=this._cache.get(this._autopadding);)S=this._mode.decrypt(this,g),D.push(S);return O.concat(D)},b.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return l(this._mode.decrypt(this,m));if(m)throw new Error("data not multiple of block length")},b.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this};function c(){this.cache=O.allocUnsafe(0)}c.prototype.add=function(m){this.cache=O.concat([this.cache,m])},c.prototype.get=function(m){var g;if(m){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},c.prototype.flush=function(){if(this.cache.length)return this.cache};function l(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var S=-1;++S<g;)if(m[S+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}function T(m,g,S){var D=R[m.toLowerCase()];if(!D)throw new TypeError("invalid suite type");if(typeof S=="string"&&(S=O.from(S)),D.mode!=="GCM"&&S.length!==D.iv)throw new TypeError("invalid iv length "+S.length);if(typeof g=="string"&&(g=O.from(g)),g.length!==D.key/8)throw new TypeError("invalid key length "+g.length);return D.type==="stream"?new y(D.module,g,S,!0):D.type==="auth"?new E(D.module,g,S,!0):new b(D.module,g,S)}function d(m,g){var S=R[m.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var D=a(g,!1,S.key,S.iv);return T(m,D.key,D.iv)}W.createDecipher=d,W.createDecipheriv=T},1494:(v,W,k)=>{var E=k(45),O=k(2422),R=k(9509).Buffer,y=k(5969),n=k(1027),u=k(4497),a=k(3048),f=k(5717);function b(m,g,S){n.call(this),this._cache=new l,this._cipher=new u.AES(g),this._prev=R.from(S),this._mode=m,this._autopadding=!0}f(b,n),b.prototype._update=function(m){this._cache.add(m);for(var g,S,D=[];g=this._cache.get();)S=this._mode.encrypt(this,g),D.push(S);return R.concat(D)};var c=R.alloc(16,16);b.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(c))throw this._cipher.scrub(),new Error("data not multiple of block length")},b.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this};function l(){this.cache=R.allocUnsafe(0)}l.prototype.add=function(m){this.cache=R.concat([this.cache,m])},l.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},l.prototype.flush=function(){for(var m=16-this.cache.length,g=R.allocUnsafe(m),S=-1;++S<m;)g.writeUInt8(m,S);return R.concat([this.cache,g])};function T(m,g,S){var D=E[m.toLowerCase()];if(!D)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=R.from(g)),g.length!==D.key/8)throw new TypeError("invalid key length "+g.length);if(typeof S=="string"&&(S=R.from(S)),D.mode!=="GCM"&&S.length!==D.iv)throw new TypeError("invalid iv length "+S.length);return D.type==="stream"?new y(D.module,g,S):D.type==="auth"?new O(D.module,g,S):new b(D.module,g,S)}function d(m,g){var S=E[m.toLowerCase()];if(!S)throw new TypeError("invalid suite type");var D=a(g,!1,S.key,S.iv);return T(m,D.key,D.iv)}W.createCipheriv=T,W.createCipher=d},3288:(v,W,k)=>{var E=k(9509).Buffer,O=E.alloc(16,0);function R(u){return[u.readUInt32BE(0),u.readUInt32BE(4),u.readUInt32BE(8),u.readUInt32BE(12)]}function y(u){var a=E.allocUnsafe(16);return a.writeUInt32BE(u[0]>>>0,0),a.writeUInt32BE(u[1]>>>0,4),a.writeUInt32BE(u[2]>>>0,8),a.writeUInt32BE(u[3]>>>0,12),a}function n(u){this.h=u,this.state=E.alloc(16,0),this.cache=E.allocUnsafe(0)}n.prototype.ghash=function(u){for(var a=-1;++a<u.length;)this.state[a]^=u[a];this._multiply()},n.prototype._multiply=function(){for(var u=R(this.h),a=[0,0,0,0],f,b,c,l=-1;++l<128;){for(b=(this.state[~~(l/8)]&1<<7-l%8)!=0,b&&(a[0]^=u[0],a[1]^=u[1],a[2]^=u[2],a[3]^=u[3]),c=(u[3]&1)!=0,f=3;f>0;f--)u[f]=u[f]>>>1|(u[f-1]&1)<<31;u[0]=u[0]>>>1,c&&(u[0]=u[0]^225<<24)}this.state=y(a)},n.prototype.update=function(u){this.cache=E.concat([this.cache,u]);for(var a;this.cache.length>=16;)a=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(a)},n.prototype.final=function(u,a){return this.cache.length&&this.ghash(E.concat([this.cache,O],16)),this.ghash(y([0,u,0,a])),this.state},v.exports=n},685:v=>{function W(k){for(var E=k.length,O;E--;)if(O=k.readUInt8(E),O===255)k.writeUInt8(0,E);else{O++,k.writeUInt8(O,E);break}}v.exports=W},5292:(v,W,k)=>{var E=k(7295);W.encrypt=function(O,R){var y=E(R,O._prev);return O._prev=O._cipher.encryptBlock(y),O._prev},W.decrypt=function(O,R){var y=O._prev;O._prev=R;var n=O._cipher.decryptBlock(R);return E(n,y)}},6311:(v,W,k)=>{var E=k(9509).Buffer,O=k(7295);function R(y,n,u){var a=n.length,f=O(n,y._cache);return y._cache=y._cache.slice(a),y._prev=E.concat([y._prev,u?n:f]),f}W.encrypt=function(y,n,u){for(var a=E.allocUnsafe(0),f;n.length;)if(y._cache.length===0&&(y._cache=y._cipher.encryptBlock(y._prev),y._prev=E.allocUnsafe(0)),y._cache.length<=n.length)f=y._cache.length,a=E.concat([a,R(y,n.slice(0,f),u)]),n=n.slice(f);else{a=E.concat([a,R(y,n,u)]);break}return a}},1510:(v,W,k)=>{var E=k(9509).Buffer;function O(y,n,u){for(var a,f=-1,b=8,c=0,l,T;++f<b;)a=y._cipher.encryptBlock(y._prev),l=n&1<<7-f?128:0,T=a[0]^l,c+=(T&128)>>f%8,y._prev=R(y._prev,u?l:T);return c}function R(y,n){var u=y.length,a=-1,f=E.allocUnsafe(y.length);for(y=E.concat([y,E.from([n])]);++a<u;)f[a]=y[a]<<1|y[a+1]>>7;return f}W.encrypt=function(y,n,u){for(var a=n.length,f=E.allocUnsafe(a),b=-1;++b<a;)f[b]=O(y,n[b],u);return f}},1964:(v,W,k)=>{var E=k(9509).Buffer;function O(R,y,n){var u=R._cipher.encryptBlock(R._prev),a=u[0]^y;return R._prev=E.concat([R._prev.slice(1),E.from([n?y:a])]),a}W.encrypt=function(R,y,n){for(var u=y.length,a=E.allocUnsafe(u),f=-1;++f<u;)a[f]=O(R,y[f],n);return a}},6009:(v,W,k)=>{var E=k(7295),O=k(9509).Buffer,R=k(685);function y(u){var a=u._cipher.encryptBlockRaw(u._prev);return R(u._prev),a}var n=16;W.encrypt=function(u,a){var f=Math.ceil(a.length/n),b=u._cache.length;u._cache=O.concat([u._cache,O.allocUnsafe(f*n)]);for(var c=0;c<f;c++){var l=y(u),T=b+c*n;u._cache.writeUInt32BE(l[0],T+0),u._cache.writeUInt32BE(l[1],T+4),u._cache.writeUInt32BE(l[2],T+8),u._cache.writeUInt32BE(l[3],T+12)}var d=u._cache.slice(0,a.length);return u._cache=u._cache.slice(a.length),E(a,d)}},1084:(v,W)=>{W.encrypt=function(k,E){return k._cipher.encryptBlock(E)},W.decrypt=function(k,E){return k._cipher.decryptBlock(E)}},45:(v,W,k)=>{var E={ECB:k(1084),CBC:k(5292),CFB:k(6311),CFB8:k(1964),CFB1:k(1510),OFB:k(8861),CTR:k(6009),GCM:k(6009)},O=k(5415);for(var R in O)O[R].module=E[O[R].mode];v.exports=O},5415:v=>{"use strict";v.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},8861:(v,W,k)=>{var E=k(7295);function O(R){return R._prev=R._cipher.encryptBlock(R._prev),R._prev}W.encrypt=function(R,y){for(;R._cache.length<y.length;)R._cache=Buffer.concat([R._cache,O(R)]);var n=R._cache.slice(0,y.length);return R._cache=R._cache.slice(y.length),E(y,n)}},5969:(v,W,k)=>{var E=k(4497),O=k(9509).Buffer,R=k(1027),y=k(5717);function n(u,a,f,b){R.call(this),this._cipher=new E.AES(a),this._prev=O.from(f),this._cache=O.allocUnsafe(0),this._secCache=O.allocUnsafe(0),this._decrypt=b,this._mode=u}y(n,R),n.prototype._update=function(u){return this._mode.encrypt(this,u,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},v.exports=n},3614:(v,W,k)=>{var E=k(7667),O=k(4696),R=k(45),y=k(9715),n=k(3048);function u(l,T){l=l.toLowerCase();var d,m;if(R[l])d=R[l].key,m=R[l].iv;else if(y[l])d=y[l].key*8,m=y[l].iv;else throw new TypeError("invalid suite type");var g=n(T,!1,d,m);return f(l,g.key,g.iv)}function a(l,T){l=l.toLowerCase();var d,m;if(R[l])d=R[l].key,m=R[l].iv;else if(y[l])d=y[l].key*8,m=y[l].iv;else throw new TypeError("invalid suite type");var g=n(T,!1,d,m);return b(l,g.key,g.iv)}function f(l,T,d){if(l=l.toLowerCase(),R[l])return O.createCipheriv(l,T,d);if(y[l])return new E({key:T,iv:d,mode:l});throw new TypeError("invalid suite type")}function b(l,T,d){if(l=l.toLowerCase(),R[l])return O.createDecipheriv(l,T,d);if(y[l])return new E({key:T,iv:d,mode:l,decrypt:!0});throw new TypeError("invalid suite type")}function c(){return Object.keys(y).concat(O.getCiphers())}W.createCipher=W.Cipher=u,W.createCipheriv=W.Cipheriv=f,W.createDecipher=W.Decipher=a,W.createDecipheriv=W.Decipheriv=b,W.listCiphers=W.getCiphers=c},7667:(v,W,k)=>{var E=k(1027),O=k(5251),R=k(5717),y=k(9509).Buffer,n={"des-ede3-cbc":O.CBC.instantiate(O.EDE),"des-ede3":O.EDE,"des-ede-cbc":O.CBC.instantiate(O.EDE),"des-ede":O.EDE,"des-cbc":O.CBC.instantiate(O.DES),"des-ecb":O.DES};n.des=n["des-cbc"],n.des3=n["des-ede3-cbc"],v.exports=u,R(u,E);function u(a){E.call(this);var f=a.mode.toLowerCase(),b=n[f],c;a.decrypt?c="decrypt":c="encrypt";var l=a.key;y.isBuffer(l)||(l=y.from(l)),(f==="des-ede"||f==="des-ede-cbc")&&(l=y.concat([l,l.slice(0,8)]));var T=a.iv;y.isBuffer(T)||(T=y.from(T)),this._des=b.create({key:l,iv:T,type:c})}u.prototype._update=function(a){return y.from(this._des.update(a))},u.prototype._final=function(){return y.from(this._des.final())}},9715:(v,W)=>{W["des-ecb"]={key:8,iv:0},W["des-cbc"]=W.des={key:8,iv:8},W["des-ede3-cbc"]=W.des3={key:24,iv:8},W["des-ede3"]={key:24,iv:0},W["des-ede-cbc"]={key:16,iv:8},W["des-ede"]={key:16,iv:0}},3663:(v,W,k)=>{var E=k(3982),O=k(1798);function R(u){var a=y(u),f=a.toRed(E.mont(u.modulus)).redPow(new E(u.publicExponent)).fromRed();return{blinder:f,unblinder:a.invm(u.modulus)}}function y(u){var a=u.modulus.byteLength(),f;do f=new E(O(a));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function n(u,a){var f=R(a),b=a.modulus.byteLength(),c=new E(u).mul(f.blinder).umod(a.modulus),l=c.toRed(E.mont(a.prime1)),T=c.toRed(E.mont(a.prime2)),d=a.coefficient,m=a.prime1,g=a.prime2,S=l.redPow(a.exponent1).fromRed(),D=T.redPow(a.exponent2).fromRed(),w=S.isub(D).imul(d).umod(m).imul(g);return D.iadd(w).imul(f.unblinder).umod(a.modulus).toArrayLike(Buffer,"be",b)}n.getr=y,v.exports=n},3982:function(v,W,k){v=k.nmd(v),function(E,O){"use strict";function R(M,s){if(!M)throw new Error(s||"Assertion failed")}function y(M,s){M.super_=s;var h=function(){};h.prototype=s.prototype,M.prototype=new h,M.prototype.constructor=M}function n(M,s,h){if(n.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((s==="le"||s==="be")&&(h=s,s=10),this._init(M||0,s||10,h||"be"))}typeof E=="object"?E.exports=n:O.BN=n,n.BN=n,n.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=k(1922).Buffer}catch(M){}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,h){return s.cmp(h)>0?s:h},n.min=function(s,h){return s.cmp(h)<0?s:h},n.prototype._init=function(s,h,x){if(typeof s=="number")return this._initNumber(s,h,x);if(typeof s=="object")return this._initArray(s,h,x);h==="hex"&&(h=16),R(h===(h|0)&&h>=2&&h<=36),s=s.toString().replace(/\s+/g,"");var P=0;s[0]==="-"&&(P++,this.negative=1),P<s.length&&(h===16?this._parseHex(s,P,x):(this._parseBase(s,h,P),x==="le"&&this._initArray(this.toArray(),h,x)))},n.prototype._initNumber=function(s,h,x){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(R(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),h,x)},n.prototype._initArray=function(s,h,x){if(R(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I,C,G=0;if(x==="be")for(P=s.length-1,I=0;P>=0;P-=3)C=s[P]|s[P-1]<<8|s[P-2]<<16,this.words[I]|=C<<G&67108863,this.words[I+1]=C>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);else if(x==="le")for(P=0,I=0;P<s.length;P+=3)C=s[P]|s[P+1]<<8|s[P+2]<<16,this.words[I]|=C<<G&67108863,this.words[I+1]=C>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);return this._strip()};function a(M,s){var h=M.charCodeAt(s);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;R(!1,"Invalid character in "+M)}function f(M,s,h){var x=a(M,h);return h-1>=s&&(x|=a(M,h-1)<<4),x}n.prototype._parseHex=function(s,h,x){this.length=Math.ceil((s.length-h)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I=0,C=0,G;if(x==="be")for(P=s.length-1;P>=h;P-=2)G=f(s,h,P)<<I,this.words[C]|=G&67108863,I>=18?(I-=18,C+=1,this.words[C]|=G>>>26):I+=8;else{var V=s.length-h;for(P=V%2==0?h+1:h;P<s.length;P+=2)G=f(s,h,P)<<I,this.words[C]|=G&67108863,I>=18?(I-=18,C+=1,this.words[C]|=G>>>26):I+=8}this._strip()};function b(M,s,h,x){for(var P=0,I=0,C=Math.min(M.length,h),G=s;G<C;G++){var V=M.charCodeAt(G)-48;P*=x,V>=49?I=V-49+10:V>=17?I=V-17+10:I=V,R(V>=0&&I<x,"Invalid character"),P+=I}return P}n.prototype._parseBase=function(s,h,x){this.words=[0],this.length=1;for(var P=0,I=1;I<=67108863;I*=h)P++;P--,I=I/h|0;for(var C=s.length-x,G=C%P,V=Math.min(C,C-G)+x,_=0,Y=x;Y<V;Y+=P)_=b(s,Y,Y+P,h),this.imuln(I),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(G!==0){var pe=1;for(_=b(s,Y,s.length,h),Y=0;Y<G;Y++)pe*=h;this.imuln(pe),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var h=0;h<this.length;h++)s.words[h]=this.words[h];s.length=this.length,s.negative=this.negative,s.red=this.red};function c(M,s){M.words=s.words,M.length=s.length,M.negative=s.negative,M.red=s.red}if(n.prototype._move=function(s){c(s,this)},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,h){s=s||10,h=h|0||1;var x;if(s===16||s==="hex"){x="";for(var P=0,I=0,C=0;C<this.length;C++){var G=this.words[C],V=((G<<P|I)&16777215).toString(16);I=G>>>24-P&16777215,I!==0||C!==this.length-1?x=T[6-V.length]+V+x:x=V+x,P+=2,P>=26&&(P-=26,C--)}for(I!==0&&(x=I.toString(16)+x);x.length%h!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(s===(s|0)&&s>=2&&s<=36){var _=d[s],Y=m[s];x="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var ye=pe.modrn(Y).toString(s);pe=pe.idivn(Y),pe.isZero()?x=ye+x:x=T[_-ye.length]+ye+x}for(this.isZero()&&(x="0"+x);x.length%h!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}R(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16,2)},u&&(n.prototype.toBuffer=function(s,h){return this.toArrayLike(u,s,h)}),n.prototype.toArray=function(s,h){return this.toArrayLike(Array,s,h)};var g=function(s,h){return s.allocUnsafe?s.allocUnsafe(h):new s(h)};n.prototype.toArrayLike=function(s,h,x){this._strip();var P=this.byteLength(),I=x||Math.max(1,P);R(P<=I,"byte array longer than desired length"),R(I>0,"Requested array length <= 0");var C=g(s,I),G=h==="le"?"LE":"BE";return this["_toArrayLike"+G](C,P),C},n.prototype._toArrayLikeLE=function(s,h){for(var x=0,P=0,I=0,C=0;I<this.length;I++){var G=this.words[I]<<C|P;s[x++]=G&255,x<s.length&&(s[x++]=G>>8&255),x<s.length&&(s[x++]=G>>16&255),C===6?(x<s.length&&(s[x++]=G>>24&255),P=0,C=0):(P=G>>>24,C+=2)}if(x<s.length)for(s[x++]=P;x<s.length;)s[x++]=0},n.prototype._toArrayLikeBE=function(s,h){for(var x=s.length-1,P=0,I=0,C=0;I<this.length;I++){var G=this.words[I]<<C|P;s[x--]=G&255,x>=0&&(s[x--]=G>>8&255),x>=0&&(s[x--]=G>>16&255),C===6?(x>=0&&(s[x--]=G>>24&255),P=0,C=0):(P=G>>>24,C+=2)}if(x>=0)for(s[x--]=P;x>=0;)s[x--]=0},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var h=s,x=0;return h>=4096&&(x+=13,h>>>=13),h>=64&&(x+=7,h>>>=7),h>=8&&(x+=4,h>>>=4),h>=2&&(x+=2,h>>>=2),x+h},n.prototype._zeroBits=function(s){if(s===0)return 26;var h=s,x=0;return(h&8191)==0&&(x+=13,h>>>=13),(h&127)==0&&(x+=7,h>>>=7),(h&15)==0&&(x+=4,h>>>=4),(h&3)==0&&(x+=2,h>>>=2),(h&1)==0&&x++,x},n.prototype.bitLength=function(){var s=this.words[this.length-1],h=this._countBits(s);return(this.length-1)*26+h};function S(M){for(var s=new Array(M.bitLength()),h=0;h<s.length;h++){var x=h/26|0,P=h%26;s[h]=M.words[x]>>>P&1}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,h=0;h<this.length;h++){var x=this._zeroBits(this.words[h]);if(s+=x,x!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var h=0;h<s.length;h++)this.words[h]=this.words[h]|s.words[h];return this._strip()},n.prototype.ior=function(s){return R((this.negative|s.negative)==0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var h;this.length>s.length?h=s:h=this;for(var x=0;x<h.length;x++)this.words[x]=this.words[x]&s.words[x];return this.length=h.length,this._strip()},n.prototype.iand=function(s){return R((this.negative|s.negative)==0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var h,x;this.length>s.length?(h=this,x=s):(h=s,x=this);for(var P=0;P<x.length;P++)this.words[P]=h.words[P]^x.words[P];if(this!==h)for(;P<h.length;P++)this.words[P]=h.words[P];return this.length=h.length,this._strip()},n.prototype.ixor=function(s){return R((this.negative|s.negative)==0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){R(typeof s=="number"&&s>=0);var h=Math.ceil(s/26)|0,x=s%26;this._expand(h),x>0&&h--;for(var P=0;P<h;P++)this.words[P]=~this.words[P]&67108863;return x>0&&(this.words[P]=~this.words[P]&67108863>>26-x),this._strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,h){R(typeof s=="number"&&s>=0);var x=s/26|0,P=s%26;return this._expand(x+1),h?this.words[x]=this.words[x]|1<<P:this.words[x]=this.words[x]&~(1<<P),this._strip()},n.prototype.iadd=function(s){var h;if(this.negative!==0&&s.negative===0)return this.negative=0,h=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,h=this.isub(s),s.negative=1,h._normSign();var x,P;this.length>s.length?(x=this,P=s):(x=s,P=this);for(var I=0,C=0;C<P.length;C++)h=(x.words[C]|0)+(P.words[C]|0)+I,this.words[C]=h&67108863,I=h>>>26;for(;I!==0&&C<x.length;C++)h=(x.words[C]|0)+I,this.words[C]=h&67108863,I=h>>>26;if(this.length=x.length,I!==0)this.words[this.length]=I,this.length++;else if(x!==this)for(;C<x.length;C++)this.words[C]=x.words[C];return this},n.prototype.add=function(s){var h;return s.negative!==0&&this.negative===0?(s.negative=0,h=this.sub(s),s.negative^=1,h):s.negative===0&&this.negative!==0?(this.negative=0,h=s.sub(this),this.negative=1,h):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var h=this.iadd(s);return s.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var x=this.cmp(s);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,I;x>0?(P=this,I=s):(P=s,I=this);for(var C=0,G=0;G<I.length;G++)h=(P.words[G]|0)-(I.words[G]|0)+C,C=h>>26,this.words[G]=h&67108863;for(;C!==0&&G<P.length;G++)h=(P.words[G]|0)+C,C=h>>26,this.words[G]=h&67108863;if(C===0&&G<P.length&&P!==this)for(;G<P.length;G++)this.words[G]=P.words[G];return this.length=Math.max(this.length,G),P!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function D(M,s,h){h.negative=s.negative^M.negative;var x=M.length+s.length|0;h.length=x,x=x-1|0;var P=M.words[0]|0,I=s.words[0]|0,C=P*I,G=C&67108863,V=C/67108864|0;h.words[0]=G;for(var _=1;_<x;_++){for(var Y=V>>>26,pe=V&67108863,ye=Math.min(_,s.length-1),_e=Math.max(0,_-M.length+1);_e<=ye;_e++){var X=_-_e|0;P=M.words[X]|0,I=s.words[_e]|0,C=P*I+pe,Y+=C/67108864|0,pe=C&67108863}h.words[_]=pe|0,V=Y|0}return V!==0?h.words[_]=V|0:h.length--,h._strip()}var w=function(s,h,x){var P=s.words,I=h.words,C=x.words,G=0,V,_,Y,pe=P[0]|0,ye=pe&8191,_e=pe>>>13,X=P[1]|0,J=X&8191,oe=X>>>13,be=P[2]|0,me=be&8191,B=be>>>13,q=P[3]|0,ae=q&8191,fe=q>>>13,Ae=P[4]|0,ve=Ae&8191,Se=Ae>>>13,nt=P[5]|0,Ne=nt&8191,xe=nt>>>13,ft=P[6]|0,Be=ft&8191,Ie=ft>>>13,pt=P[7]|0,ne=pt&8191,j=pt>>>13,Z=P[8]|0,ue=Z&8191,he=Z>>>13,Ee=P[9]|0,ge=Ee&8191,Te=Ee>>>13,lt=I[0]|0,Fe=lt&8191,Oe=lt>>>13,at=I[1]|0,Qe=at&8191,Ke=at>>>13,mt=I[2]|0,qe=mt&8191,Me=mt>>>13,lr=I[3]|0,je=lr&8191,Ye=lr>>>13,br=I[4]|0,$e=br&8191,ze=br>>>13,yr=I[5]|0,Ze=yr&8191,We=yr>>>13,wr=I[6]|0,Je=wr&8191,Ge=wr>>>13,ir=I[7]|0,Xe=ir&8191,Ve=ir>>>13,nr=I[8]|0,et=nr&8191,tt=nr>>>13,$t=I[9]|0,it=$t&8191,rt=$t>>>13;x.negative=s.negative^h.negative,x.length=19,V=Math.imul(ye,Fe),_=Math.imul(ye,Oe),_=_+Math.imul(_e,Fe)|0,Y=Math.imul(_e,Oe);var Wt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,V=Math.imul(J,Fe),_=Math.imul(J,Oe),_=_+Math.imul(oe,Fe)|0,Y=Math.imul(oe,Oe),V=V+Math.imul(ye,Qe)|0,_=_+Math.imul(ye,Ke)|0,_=_+Math.imul(_e,Qe)|0,Y=Y+Math.imul(_e,Ke)|0;var Qt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,V=Math.imul(me,Fe),_=Math.imul(me,Oe),_=_+Math.imul(B,Fe)|0,Y=Math.imul(B,Oe),V=V+Math.imul(J,Qe)|0,_=_+Math.imul(J,Ke)|0,_=_+Math.imul(oe,Qe)|0,Y=Y+Math.imul(oe,Ke)|0,V=V+Math.imul(ye,qe)|0,_=_+Math.imul(ye,Me)|0,_=_+Math.imul(_e,qe)|0,Y=Y+Math.imul(_e,Me)|0;var jt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,V=Math.imul(ae,Fe),_=Math.imul(ae,Oe),_=_+Math.imul(fe,Fe)|0,Y=Math.imul(fe,Oe),V=V+Math.imul(me,Qe)|0,_=_+Math.imul(me,Ke)|0,_=_+Math.imul(B,Qe)|0,Y=Y+Math.imul(B,Ke)|0,V=V+Math.imul(J,qe)|0,_=_+Math.imul(J,Me)|0,_=_+Math.imul(oe,qe)|0,Y=Y+Math.imul(oe,Me)|0,V=V+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ye)|0,_=_+Math.imul(_e,je)|0,Y=Y+Math.imul(_e,Ye)|0;var vt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(vt>>>26)|0,vt&=67108863,V=Math.imul(ve,Fe),_=Math.imul(ve,Oe),_=_+Math.imul(Se,Fe)|0,Y=Math.imul(Se,Oe),V=V+Math.imul(ae,Qe)|0,_=_+Math.imul(ae,Ke)|0,_=_+Math.imul(fe,Qe)|0,Y=Y+Math.imul(fe,Ke)|0,V=V+Math.imul(me,qe)|0,_=_+Math.imul(me,Me)|0,_=_+Math.imul(B,qe)|0,Y=Y+Math.imul(B,Me)|0,V=V+Math.imul(J,je)|0,_=_+Math.imul(J,Ye)|0,_=_+Math.imul(oe,je)|0,Y=Y+Math.imul(oe,Ye)|0,V=V+Math.imul(ye,$e)|0,_=_+Math.imul(ye,ze)|0,_=_+Math.imul(_e,$e)|0,Y=Y+Math.imul(_e,ze)|0;var Ht=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,V=Math.imul(Ne,Fe),_=Math.imul(Ne,Oe),_=_+Math.imul(xe,Fe)|0,Y=Math.imul(xe,Oe),V=V+Math.imul(ve,Qe)|0,_=_+Math.imul(ve,Ke)|0,_=_+Math.imul(Se,Qe)|0,Y=Y+Math.imul(Se,Ke)|0,V=V+Math.imul(ae,qe)|0,_=_+Math.imul(ae,Me)|0,_=_+Math.imul(fe,qe)|0,Y=Y+Math.imul(fe,Me)|0,V=V+Math.imul(me,je)|0,_=_+Math.imul(me,Ye)|0,_=_+Math.imul(B,je)|0,Y=Y+Math.imul(B,Ye)|0,V=V+Math.imul(J,$e)|0,_=_+Math.imul(J,ze)|0,_=_+Math.imul(oe,$e)|0,Y=Y+Math.imul(oe,ze)|0,V=V+Math.imul(ye,Ze)|0,_=_+Math.imul(ye,We)|0,_=_+Math.imul(_e,Ze)|0,Y=Y+Math.imul(_e,We)|0;var Kt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,V=Math.imul(Be,Fe),_=Math.imul(Be,Oe),_=_+Math.imul(Ie,Fe)|0,Y=Math.imul(Ie,Oe),V=V+Math.imul(Ne,Qe)|0,_=_+Math.imul(Ne,Ke)|0,_=_+Math.imul(xe,Qe)|0,Y=Y+Math.imul(xe,Ke)|0,V=V+Math.imul(ve,qe)|0,_=_+Math.imul(ve,Me)|0,_=_+Math.imul(Se,qe)|0,Y=Y+Math.imul(Se,Me)|0,V=V+Math.imul(ae,je)|0,_=_+Math.imul(ae,Ye)|0,_=_+Math.imul(fe,je)|0,Y=Y+Math.imul(fe,Ye)|0,V=V+Math.imul(me,$e)|0,_=_+Math.imul(me,ze)|0,_=_+Math.imul(B,$e)|0,Y=Y+Math.imul(B,ze)|0,V=V+Math.imul(J,Ze)|0,_=_+Math.imul(J,We)|0,_=_+Math.imul(oe,Ze)|0,Y=Y+Math.imul(oe,We)|0,V=V+Math.imul(ye,Je)|0,_=_+Math.imul(ye,Ge)|0,_=_+Math.imul(_e,Je)|0,Y=Y+Math.imul(_e,Ge)|0;var Yt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,V=Math.imul(ne,Fe),_=Math.imul(ne,Oe),_=_+Math.imul(j,Fe)|0,Y=Math.imul(j,Oe),V=V+Math.imul(Be,Qe)|0,_=_+Math.imul(Be,Ke)|0,_=_+Math.imul(Ie,Qe)|0,Y=Y+Math.imul(Ie,Ke)|0,V=V+Math.imul(Ne,qe)|0,_=_+Math.imul(Ne,Me)|0,_=_+Math.imul(xe,qe)|0,Y=Y+Math.imul(xe,Me)|0,V=V+Math.imul(ve,je)|0,_=_+Math.imul(ve,Ye)|0,_=_+Math.imul(Se,je)|0,Y=Y+Math.imul(Se,Ye)|0,V=V+Math.imul(ae,$e)|0,_=_+Math.imul(ae,ze)|0,_=_+Math.imul(fe,$e)|0,Y=Y+Math.imul(fe,ze)|0,V=V+Math.imul(me,Ze)|0,_=_+Math.imul(me,We)|0,_=_+Math.imul(B,Ze)|0,Y=Y+Math.imul(B,We)|0,V=V+Math.imul(J,Je)|0,_=_+Math.imul(J,Ge)|0,_=_+Math.imul(oe,Je)|0,Y=Y+Math.imul(oe,Ge)|0,V=V+Math.imul(ye,Xe)|0,_=_+Math.imul(ye,Ve)|0,_=_+Math.imul(_e,Xe)|0,Y=Y+Math.imul(_e,Ve)|0;var sr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(sr>>>26)|0,sr&=67108863,V=Math.imul(ue,Fe),_=Math.imul(ue,Oe),_=_+Math.imul(he,Fe)|0,Y=Math.imul(he,Oe),V=V+Math.imul(ne,Qe)|0,_=_+Math.imul(ne,Ke)|0,_=_+Math.imul(j,Qe)|0,Y=Y+Math.imul(j,Ke)|0,V=V+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Me)|0,_=_+Math.imul(Ie,qe)|0,Y=Y+Math.imul(Ie,Me)|0,V=V+Math.imul(Ne,je)|0,_=_+Math.imul(Ne,Ye)|0,_=_+Math.imul(xe,je)|0,Y=Y+Math.imul(xe,Ye)|0,V=V+Math.imul(ve,$e)|0,_=_+Math.imul(ve,ze)|0,_=_+Math.imul(Se,$e)|0,Y=Y+Math.imul(Se,ze)|0,V=V+Math.imul(ae,Ze)|0,_=_+Math.imul(ae,We)|0,_=_+Math.imul(fe,Ze)|0,Y=Y+Math.imul(fe,We)|0,V=V+Math.imul(me,Je)|0,_=_+Math.imul(me,Ge)|0,_=_+Math.imul(B,Je)|0,Y=Y+Math.imul(B,Ge)|0,V=V+Math.imul(J,Xe)|0,_=_+Math.imul(J,Ve)|0,_=_+Math.imul(oe,Xe)|0,Y=Y+Math.imul(oe,Ve)|0,V=V+Math.imul(ye,et)|0,_=_+Math.imul(ye,tt)|0,_=_+Math.imul(_e,et)|0,Y=Y+Math.imul(_e,tt)|0;var ar=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(ar>>>26)|0,ar&=67108863,V=Math.imul(ge,Fe),_=Math.imul(ge,Oe),_=_+Math.imul(Te,Fe)|0,Y=Math.imul(Te,Oe),V=V+Math.imul(ue,Qe)|0,_=_+Math.imul(ue,Ke)|0,_=_+Math.imul(he,Qe)|0,Y=Y+Math.imul(he,Ke)|0,V=V+Math.imul(ne,qe)|0,_=_+Math.imul(ne,Me)|0,_=_+Math.imul(j,qe)|0,Y=Y+Math.imul(j,Me)|0,V=V+Math.imul(Be,je)|0,_=_+Math.imul(Be,Ye)|0,_=_+Math.imul(Ie,je)|0,Y=Y+Math.imul(Ie,Ye)|0,V=V+Math.imul(Ne,$e)|0,_=_+Math.imul(Ne,ze)|0,_=_+Math.imul(xe,$e)|0,Y=Y+Math.imul(xe,ze)|0,V=V+Math.imul(ve,Ze)|0,_=_+Math.imul(ve,We)|0,_=_+Math.imul(Se,Ze)|0,Y=Y+Math.imul(Se,We)|0,V=V+Math.imul(ae,Je)|0,_=_+Math.imul(ae,Ge)|0,_=_+Math.imul(fe,Je)|0,Y=Y+Math.imul(fe,Ge)|0,V=V+Math.imul(me,Xe)|0,_=_+Math.imul(me,Ve)|0,_=_+Math.imul(B,Xe)|0,Y=Y+Math.imul(B,Ve)|0,V=V+Math.imul(J,et)|0,_=_+Math.imul(J,tt)|0,_=_+Math.imul(oe,et)|0,Y=Y+Math.imul(oe,tt)|0,V=V+Math.imul(ye,it)|0,_=_+Math.imul(ye,rt)|0,_=_+Math.imul(_e,it)|0,Y=Y+Math.imul(_e,rt)|0;var or=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(or>>>26)|0,or&=67108863,V=Math.imul(ge,Qe),_=Math.imul(ge,Ke),_=_+Math.imul(Te,Qe)|0,Y=Math.imul(Te,Ke),V=V+Math.imul(ue,qe)|0,_=_+Math.imul(ue,Me)|0,_=_+Math.imul(he,qe)|0,Y=Y+Math.imul(he,Me)|0,V=V+Math.imul(ne,je)|0,_=_+Math.imul(ne,Ye)|0,_=_+Math.imul(j,je)|0,Y=Y+Math.imul(j,Ye)|0,V=V+Math.imul(Be,$e)|0,_=_+Math.imul(Be,ze)|0,_=_+Math.imul(Ie,$e)|0,Y=Y+Math.imul(Ie,ze)|0,V=V+Math.imul(Ne,Ze)|0,_=_+Math.imul(Ne,We)|0,_=_+Math.imul(xe,Ze)|0,Y=Y+Math.imul(xe,We)|0,V=V+Math.imul(ve,Je)|0,_=_+Math.imul(ve,Ge)|0,_=_+Math.imul(Se,Je)|0,Y=Y+Math.imul(Se,Ge)|0,V=V+Math.imul(ae,Xe)|0,_=_+Math.imul(ae,Ve)|0,_=_+Math.imul(fe,Xe)|0,Y=Y+Math.imul(fe,Ve)|0,V=V+Math.imul(me,et)|0,_=_+Math.imul(me,tt)|0,_=_+Math.imul(B,et)|0,Y=Y+Math.imul(B,tt)|0,V=V+Math.imul(J,it)|0,_=_+Math.imul(J,rt)|0,_=_+Math.imul(oe,it)|0,Y=Y+Math.imul(oe,rt)|0;var Zt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,V=Math.imul(ge,qe),_=Math.imul(ge,Me),_=_+Math.imul(Te,qe)|0,Y=Math.imul(Te,Me),V=V+Math.imul(ue,je)|0,_=_+Math.imul(ue,Ye)|0,_=_+Math.imul(he,je)|0,Y=Y+Math.imul(he,Ye)|0,V=V+Math.imul(ne,$e)|0,_=_+Math.imul(ne,ze)|0,_=_+Math.imul(j,$e)|0,Y=Y+Math.imul(j,ze)|0,V=V+Math.imul(Be,Ze)|0,_=_+Math.imul(Be,We)|0,_=_+Math.imul(Ie,Ze)|0,Y=Y+Math.imul(Ie,We)|0,V=V+Math.imul(Ne,Je)|0,_=_+Math.imul(Ne,Ge)|0,_=_+Math.imul(xe,Je)|0,Y=Y+Math.imul(xe,Ge)|0,V=V+Math.imul(ve,Xe)|0,_=_+Math.imul(ve,Ve)|0,_=_+Math.imul(Se,Xe)|0,Y=Y+Math.imul(Se,Ve)|0,V=V+Math.imul(ae,et)|0,_=_+Math.imul(ae,tt)|0,_=_+Math.imul(fe,et)|0,Y=Y+Math.imul(fe,tt)|0,V=V+Math.imul(me,it)|0,_=_+Math.imul(me,rt)|0,_=_+Math.imul(B,it)|0,Y=Y+Math.imul(B,rt)|0;var gt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(gt>>>26)|0,gt&=67108863,V=Math.imul(ge,je),_=Math.imul(ge,Ye),_=_+Math.imul(Te,je)|0,Y=Math.imul(Te,Ye),V=V+Math.imul(ue,$e)|0,_=_+Math.imul(ue,ze)|0,_=_+Math.imul(he,$e)|0,Y=Y+Math.imul(he,ze)|0,V=V+Math.imul(ne,Ze)|0,_=_+Math.imul(ne,We)|0,_=_+Math.imul(j,Ze)|0,Y=Y+Math.imul(j,We)|0,V=V+Math.imul(Be,Je)|0,_=_+Math.imul(Be,Ge)|0,_=_+Math.imul(Ie,Je)|0,Y=Y+Math.imul(Ie,Ge)|0,V=V+Math.imul(Ne,Xe)|0,_=_+Math.imul(Ne,Ve)|0,_=_+Math.imul(xe,Xe)|0,Y=Y+Math.imul(xe,Ve)|0,V=V+Math.imul(ve,et)|0,_=_+Math.imul(ve,tt)|0,_=_+Math.imul(Se,et)|0,Y=Y+Math.imul(Se,tt)|0,V=V+Math.imul(ae,it)|0,_=_+Math.imul(ae,rt)|0,_=_+Math.imul(fe,it)|0,Y=Y+Math.imul(fe,rt)|0;var Et=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Et>>>26)|0,Et&=67108863,V=Math.imul(ge,$e),_=Math.imul(ge,ze),_=_+Math.imul(Te,$e)|0,Y=Math.imul(Te,ze),V=V+Math.imul(ue,Ze)|0,_=_+Math.imul(ue,We)|0,_=_+Math.imul(he,Ze)|0,Y=Y+Math.imul(he,We)|0,V=V+Math.imul(ne,Je)|0,_=_+Math.imul(ne,Ge)|0,_=_+Math.imul(j,Je)|0,Y=Y+Math.imul(j,Ge)|0,V=V+Math.imul(Be,Xe)|0,_=_+Math.imul(Be,Ve)|0,_=_+Math.imul(Ie,Xe)|0,Y=Y+Math.imul(Ie,Ve)|0,V=V+Math.imul(Ne,et)|0,_=_+Math.imul(Ne,tt)|0,_=_+Math.imul(xe,et)|0,Y=Y+Math.imul(xe,tt)|0,V=V+Math.imul(ve,it)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(Se,it)|0,Y=Y+Math.imul(Se,rt)|0;var ct=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(ct>>>26)|0,ct&=67108863,V=Math.imul(ge,Ze),_=Math.imul(ge,We),_=_+Math.imul(Te,Ze)|0,Y=Math.imul(Te,We),V=V+Math.imul(ue,Je)|0,_=_+Math.imul(ue,Ge)|0,_=_+Math.imul(he,Je)|0,Y=Y+Math.imul(he,Ge)|0,V=V+Math.imul(ne,Xe)|0,_=_+Math.imul(ne,Ve)|0,_=_+Math.imul(j,Xe)|0,Y=Y+Math.imul(j,Ve)|0,V=V+Math.imul(Be,et)|0,_=_+Math.imul(Be,tt)|0,_=_+Math.imul(Ie,et)|0,Y=Y+Math.imul(Ie,tt)|0,V=V+Math.imul(Ne,it)|0,_=_+Math.imul(Ne,rt)|0,_=_+Math.imul(xe,it)|0,Y=Y+Math.imul(xe,rt)|0;var Tt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,V=Math.imul(ge,Je),_=Math.imul(ge,Ge),_=_+Math.imul(Te,Je)|0,Y=Math.imul(Te,Ge),V=V+Math.imul(ue,Xe)|0,_=_+Math.imul(ue,Ve)|0,_=_+Math.imul(he,Xe)|0,Y=Y+Math.imul(he,Ve)|0,V=V+Math.imul(ne,et)|0,_=_+Math.imul(ne,tt)|0,_=_+Math.imul(j,et)|0,Y=Y+Math.imul(j,tt)|0,V=V+Math.imul(Be,it)|0,_=_+Math.imul(Be,rt)|0,_=_+Math.imul(Ie,it)|0,Y=Y+Math.imul(Ie,rt)|0;var Jt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,V=Math.imul(ge,Xe),_=Math.imul(ge,Ve),_=_+Math.imul(Te,Xe)|0,Y=Math.imul(Te,Ve),V=V+Math.imul(ue,et)|0,_=_+Math.imul(ue,tt)|0,_=_+Math.imul(he,et)|0,Y=Y+Math.imul(he,tt)|0,V=V+Math.imul(ne,it)|0,_=_+Math.imul(ne,rt)|0,_=_+Math.imul(j,it)|0,Y=Y+Math.imul(j,rt)|0;var Tr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,V=Math.imul(ge,et),_=Math.imul(ge,tt),_=_+Math.imul(Te,et)|0,Y=Math.imul(Te,tt),V=V+Math.imul(ue,it)|0,_=_+Math.imul(ue,rt)|0,_=_+Math.imul(he,it)|0,Y=Y+Math.imul(he,rt)|0;var Cr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,V=Math.imul(ge,it),_=Math.imul(ge,rt),_=_+Math.imul(Te,it)|0,Y=Math.imul(Te,rt);var _r=(G+V|0)+((_&8191)<<13)|0;return G=(Y+(_>>>13)|0)+(_r>>>26)|0,_r&=67108863,C[0]=Wt,C[1]=Qt,C[2]=jt,C[3]=vt,C[4]=Ht,C[5]=Kt,C[6]=Yt,C[7]=sr,C[8]=ar,C[9]=or,C[10]=Zt,C[11]=gt,C[12]=Et,C[13]=ct,C[14]=Tt,C[15]=Jt,C[16]=Tr,C[17]=Cr,C[18]=_r,G!==0&&(C[19]=G,x.length++),x};Math.imul||(w=D);function F(M,s,h){h.negative=s.negative^M.negative,h.length=M.length+s.length;for(var x=0,P=0,I=0;I<h.length-1;I++){var C=P;P=0;for(var G=x&67108863,V=Math.min(I,s.length-1),_=Math.max(0,I-M.length+1);_<=V;_++){var Y=I-_,pe=M.words[Y]|0,ye=s.words[_]|0,_e=pe*ye,X=_e&67108863;C=C+(_e/67108864|0)|0,X=X+G|0,G=X&67108863,C=C+(X>>>26)|0,P+=C>>>26,C&=67108863}h.words[I]=G,x=C,C=P}return x!==0?h.words[I]=x:h.length--,h._strip()}function H(M,s,h){return F(M,s,h)}n.prototype.mulTo=function(s,h){var x,P=this.length+s.length;return this.length===10&&s.length===10?x=w(this,s,h):P<63?x=D(this,s,h):P<1024?x=F(this,s,h):x=H(this,s,h),x};function Q(M,s){this.x=M,this.y=s}Q.prototype.makeRBT=function(s){for(var h=new Array(s),x=n.prototype._countBits(s)-1,P=0;P<s;P++)h[P]=this.revBin(P,x,s);return h},Q.prototype.revBin=function(s,h,x){if(s===0||s===x-1)return s;for(var P=0,I=0;I<h;I++)P|=(s&1)<<h-I-1,s>>=1;return P},Q.prototype.permute=function(s,h,x,P,I,C){for(var G=0;G<C;G++)P[G]=h[s[G]],I[G]=x[s[G]]},Q.prototype.transform=function(s,h,x,P,I,C){this.permute(C,s,h,x,P,I);for(var G=1;G<I;G<<=1)for(var V=G<<1,_=Math.cos(2*Math.PI/V),Y=Math.sin(2*Math.PI/V),pe=0;pe<I;pe+=V)for(var ye=_,_e=Y,X=0;X<G;X++){var J=x[pe+X],oe=P[pe+X],be=x[pe+X+G],me=P[pe+X+G],B=ye*be-_e*me;me=ye*me+_e*be,be=B,x[pe+X]=J+be,P[pe+X]=oe+me,x[pe+X+G]=J-be,P[pe+X+G]=oe-me,X!==V&&(B=_*ye-Y*_e,_e=_*_e+Y*ye,ye=B)}},Q.prototype.guessLen13b=function(s,h){var x=Math.max(h,s)|1,P=x&1,I=0;for(x=x/2|0;x;x=x>>>1)I++;return 1<<I+1+P},Q.prototype.conjugate=function(s,h,x){if(!(x<=1))for(var P=0;P<x/2;P++){var I=s[P];s[P]=s[x-P-1],s[x-P-1]=I,I=h[P],h[P]=-h[x-P-1],h[x-P-1]=-I}},Q.prototype.normalize13b=function(s,h){for(var x=0,P=0;P<h/2;P++){var I=Math.round(s[2*P+1]/h)*8192+Math.round(s[2*P]/h)+x;s[P]=I&67108863,I<67108864?x=0:x=I/67108864|0}return s},Q.prototype.convert13b=function(s,h,x,P){for(var I=0,C=0;C<h;C++)I=I+(s[C]|0),x[2*C]=I&8191,I=I>>>13,x[2*C+1]=I&8191,I=I>>>13;for(C=2*h;C<P;++C)x[C]=0;R(I===0),R((I&~8191)==0)},Q.prototype.stub=function(s){for(var h=new Array(s),x=0;x<s;x++)h[x]=0;return h},Q.prototype.mulp=function(s,h,x){var P=2*this.guessLen13b(s.length,h.length),I=this.makeRBT(P),C=this.stub(P),G=new Array(P),V=new Array(P),_=new Array(P),Y=new Array(P),pe=new Array(P),ye=new Array(P),_e=x.words;_e.length=P,this.convert13b(s.words,s.length,G,P),this.convert13b(h.words,h.length,Y,P),this.transform(G,C,V,_,P,I),this.transform(Y,C,pe,ye,P,I);for(var X=0;X<P;X++){var J=V[X]*pe[X]-_[X]*ye[X];_[X]=V[X]*ye[X]+_[X]*pe[X],V[X]=J}return this.conjugate(V,_,P),this.transform(V,_,_e,C,P,I),this.conjugate(_e,C,P),this.normalize13b(_e,P),x.negative=s.negative^h.negative,x.length=s.length+h.length,x._strip()},n.prototype.mul=function(s){var h=new n(null);return h.words=new Array(this.length+s.length),this.mulTo(s,h)},n.prototype.mulf=function(s){var h=new n(null);return h.words=new Array(this.length+s.length),H(this,s,h)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){var h=s<0;h&&(s=-s),R(typeof s=="number"),R(s<67108864);for(var x=0,P=0;P<this.length;P++){var I=(this.words[P]|0)*s,C=(I&67108863)+(x&67108863);x>>=26,x+=I/67108864|0,x+=C>>>26,this.words[P]=C&67108863}return x!==0&&(this.words[P]=x,this.length++),h?this.ineg():this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var h=S(s);if(h.length===0)return new n(1);for(var x=this,P=0;P<h.length&&h[P]===0;P++,x=x.sqr());if(++P<h.length)for(var I=x.sqr();P<h.length;P++,I=I.sqr())h[P]!==0&&(x=x.mul(I));return x},n.prototype.iushln=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26,P=67108863>>>26-h<<26-h,I;if(h!==0){var C=0;for(I=0;I<this.length;I++){var G=this.words[I]&P,V=(this.words[I]|0)-G<<h;this.words[I]=V|C,C=G>>>26-h}C&&(this.words[I]=C,this.length++)}if(x!==0){for(I=this.length-1;I>=0;I--)this.words[I+x]=this.words[I];for(I=0;I<x;I++)this.words[I]=0;this.length+=x}return this._strip()},n.prototype.ishln=function(s){return R(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,h,x){R(typeof s=="number"&&s>=0);var P;h?P=(h-h%26)/26:P=0;var I=s%26,C=Math.min((s-I)/26,this.length),G=67108863^67108863>>>I<<I,V=x;if(P-=C,P=Math.max(0,P),V){for(var _=0;_<C;_++)V.words[_]=this.words[_];V.length=C}if(C!==0)if(this.length>C)for(this.length-=C,_=0;_<this.length;_++)this.words[_]=this.words[_+C];else this.words[0]=0,this.length=1;var Y=0;for(_=this.length-1;_>=0&&(Y!==0||_>=P);_--){var pe=this.words[_]|0;this.words[_]=Y<<26-I|pe>>>I,Y=pe&G}return V&&Y!==0&&(V.words[V.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(s,h,x){return R(this.negative===0),this.iushrn(s,h,x)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26,P=1<<h;if(this.length<=x)return!1;var I=this.words[x];return!!(I&P)},n.prototype.imaskn=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26;if(R(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(h!==0&&x++,this.length=Math.min(x,this.length),h!==0){var P=67108863^67108863>>>h<<h;this.words[this.length-1]&=P}return this._strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return R(typeof s=="number"),R(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(s){if(R(typeof s=="number"),R(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,h,x){var P=s.length+x,I;this._expand(P);var C,G=0;for(I=0;I<s.length;I++){C=(this.words[I+x]|0)+G;var V=(s.words[I]|0)*h;C-=V&67108863,G=(C>>26)-(V/67108864|0),this.words[I+x]=C&67108863}for(;I<this.length-x;I++)C=(this.words[I+x]|0)+G,G=C>>26,this.words[I+x]=C&67108863;if(G===0)return this._strip();for(R(G===-1),G=0,I=0;I<this.length;I++)C=-(this.words[I]|0)+G,G=C>>26,this.words[I]=C&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(s,h){var x=this.length-s.length,P=this.clone(),I=s,C=I.words[I.length-1]|0,G=this._countBits(C);x=26-G,x!==0&&(I=I.ushln(x),P.iushln(x),C=I.words[I.length-1]|0);var V=P.length-I.length,_;if(h!=="mod"){_=new n(null),_.length=V+1,_.words=new Array(_.length);for(var Y=0;Y<_.length;Y++)_.words[Y]=0}var pe=P.clone()._ishlnsubmul(I,1,V);pe.negative===0&&(P=pe,_&&(_.words[V]=1));for(var ye=V-1;ye>=0;ye--){var _e=(P.words[I.length+ye]|0)*67108864+(P.words[I.length+ye-1]|0);for(_e=Math.min(_e/C|0,67108863),P._ishlnsubmul(I,_e,ye);P.negative!==0;)_e--,P.negative=0,P._ishlnsubmul(I,1,ye),P.isZero()||(P.negative^=1);_&&(_.words[ye]=_e)}return _&&_._strip(),P._strip(),h!=="div"&&x!==0&&P.iushrn(x),{div:_||null,mod:P}},n.prototype.divmod=function(s,h,x){if(R(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var P,I,C;return this.negative!==0&&s.negative===0?(C=this.neg().divmod(s,h),h!=="mod"&&(P=C.div.neg()),h!=="div"&&(I=C.mod.neg(),x&&I.negative!==0&&I.iadd(s)),{div:P,mod:I}):this.negative===0&&s.negative!==0?(C=this.divmod(s.neg(),h),h!=="mod"&&(P=C.div.neg()),{div:P,mod:C.mod}):(this.negative&s.negative)!=0?(C=this.neg().divmod(s.neg(),h),h!=="div"&&(I=C.mod.neg(),x&&I.negative!==0&&I.isub(s)),{div:C.div,mod:I}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?h==="div"?{div:this.divn(s.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modrn(s.words[0]))}:this._wordDiv(s,h)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var h=this.divmod(s);if(h.mod.isZero())return h.div;var x=h.div.negative!==0?h.mod.isub(s):h.mod,P=s.ushrn(1),I=s.andln(1),C=x.cmp(P);return C<0||I===1&&C===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(s){var h=s<0;h&&(s=-s),R(s<=67108863);for(var x=(1<<26)%s,P=0,I=this.length-1;I>=0;I--)P=(x*P+(this.words[I]|0))%s;return h?-P:P},n.prototype.modn=function(s){return this.modrn(s)},n.prototype.idivn=function(s){var h=s<0;h&&(s=-s),R(s<=67108863);for(var x=0,P=this.length-1;P>=0;P--){var I=(this.words[P]|0)+x*67108864;this.words[P]=I/s|0,x=I%s}return this._strip(),h?this.ineg():this},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){R(s.negative===0),R(!s.isZero());var h=this,x=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var P=new n(1),I=new n(0),C=new n(0),G=new n(1),V=0;h.isEven()&&x.isEven();)h.iushrn(1),x.iushrn(1),++V;for(var _=x.clone(),Y=h.clone();!h.isZero();){for(var pe=0,ye=1;(h.words[0]&ye)==0&&pe<26;++pe,ye<<=1);if(pe>0)for(h.iushrn(pe);pe-- >0;)(P.isOdd()||I.isOdd())&&(P.iadd(_),I.isub(Y)),P.iushrn(1),I.iushrn(1);for(var _e=0,X=1;(x.words[0]&X)==0&&_e<26;++_e,X<<=1);if(_e>0)for(x.iushrn(_e);_e-- >0;)(C.isOdd()||G.isOdd())&&(C.iadd(_),G.isub(Y)),C.iushrn(1),G.iushrn(1);h.cmp(x)>=0?(h.isub(x),P.isub(C),I.isub(G)):(x.isub(h),C.isub(P),G.isub(I))}return{a:C,b:G,gcd:x.iushln(V)}},n.prototype._invmp=function(s){R(s.negative===0),R(!s.isZero());var h=this,x=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var P=new n(1),I=new n(0),C=x.clone();h.cmpn(1)>0&&x.cmpn(1)>0;){for(var G=0,V=1;(h.words[0]&V)==0&&G<26;++G,V<<=1);if(G>0)for(h.iushrn(G);G-- >0;)P.isOdd()&&P.iadd(C),P.iushrn(1);for(var _=0,Y=1;(x.words[0]&Y)==0&&_<26;++_,Y<<=1);if(_>0)for(x.iushrn(_);_-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);h.cmp(x)>=0?(h.isub(x),P.isub(I)):(x.isub(h),I.isub(P))}var pe;return h.cmpn(1)===0?pe=P:pe=I,pe.cmpn(0)<0&&pe.iadd(s),pe},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var h=this.clone(),x=s.clone();h.negative=0,x.negative=0;for(var P=0;h.isEven()&&x.isEven();P++)h.iushrn(1),x.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;x.isEven();)x.iushrn(1);var I=h.cmp(x);if(I<0){var C=h;h=x,x=C}else if(I===0||x.cmpn(1)===0)break;h.isub(x)}while(!0);return x.iushln(P)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){R(typeof s=="number");var h=s%26,x=(s-h)/26,P=1<<h;if(this.length<=x)return this._expand(x+1),this.words[x]|=P,this;for(var I=P,C=x;I!==0&&C<this.length;C++){var G=this.words[C]|0;G+=I,I=G>>>26,G&=67108863,this.words[C]=G}return I!==0&&(this.words[C]=I,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var h=s<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var x;if(this.length>1)x=1;else{h&&(s=-s),R(s<=67108863,"Number is too big");var P=this.words[0]|0;x=P===s?0:P<s?-1:1}return this.negative!==0?-x|0:x},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var h=this.ucmp(s);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var h=0,x=this.length-1;x>=0;x--){var P=this.words[x]|0,I=s.words[x]|0;if(P!==I){P<I?h=-1:P>I&&(h=1);break}}return h},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new A(s)},n.prototype.toRed=function(s){return R(!this.red,"Already a number in reduction context"),R(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return R(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return R(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var ee={k256:null,p224:null,p192:null,p25519:null};function te(M,s){this.name=M,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}te.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},te.prototype.ireduce=function(s){var h=s,x;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),x=h.bitLength();while(x>this.n);var P=x<this.n?-1:h.ucmp(this.p);return P===0?(h.words[0]=0,h.length=1):P>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},te.prototype.split=function(s,h){s.iushrn(this.n,0,h)},te.prototype.imulK=function(s){return s.imul(this.k)};function ie(){te.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(ie,te),ie.prototype.split=function(s,h){for(var x=4194303,P=Math.min(s.length,9),I=0;I<P;I++)h.words[I]=s.words[I];if(h.length=P,s.length<=9){s.words[0]=0,s.length=1;return}var C=s.words[9];for(h.words[h.length++]=C&x,I=10;I<s.length;I++){var G=s.words[I]|0;s.words[I-10]=(G&x)<<4|C>>>22,C=G}C>>>=22,s.words[I-10]=C,C===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var h=0,x=0;x<s.length;x++){var P=s.words[x]|0;h+=P*977,s.words[x]=h&67108863,h=P*64+(h/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function se(){te.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(se,te);function le(){te.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(le,te);function z(){te.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(z,te),z.prototype.imulK=function(s){for(var h=0,x=0;x<s.length;x++){var P=(s.words[x]|0)*19+h,I=P&67108863;P>>>=26,s.words[x]=I,h=P}return h!==0&&(s.words[s.length++]=h),s},n._prime=function(s){if(ee[s])return ee[s];var h;if(s==="k256")h=new ie;else if(s==="p224")h=new se;else if(s==="p192")h=new le;else if(s==="p25519")h=new z;else throw new Error("Unknown prime "+s);return ee[s]=h,h};function A(M){if(typeof M=="string"){var s=n._prime(M);this.m=s.p,this.prime=s}else R(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}A.prototype._verify1=function(s){R(s.negative===0,"red works only with positives"),R(s.red,"red works only with red numbers")},A.prototype._verify2=function(s,h){R((s.negative|h.negative)==0,"red works only with positives"),R(s.red&&s.red===h.red,"red works only with red numbers")},A.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(c(s,s.umod(this.m)._forceRed(this)),s)},A.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},A.prototype.add=function(s,h){this._verify2(s,h);var x=s.add(h);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},A.prototype.iadd=function(s,h){this._verify2(s,h);var x=s.iadd(h);return x.cmp(this.m)>=0&&x.isub(this.m),x},A.prototype.sub=function(s,h){this._verify2(s,h);var x=s.sub(h);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},A.prototype.isub=function(s,h){this._verify2(s,h);var x=s.isub(h);return x.cmpn(0)<0&&x.iadd(this.m),x},A.prototype.shl=function(s,h){return this._verify1(s),this.imod(s.ushln(h))},A.prototype.imul=function(s,h){return this._verify2(s,h),this.imod(s.imul(h))},A.prototype.mul=function(s,h){return this._verify2(s,h),this.imod(s.mul(h))},A.prototype.isqr=function(s){return this.imul(s,s.clone())},A.prototype.sqr=function(s){return this.mul(s,s)},A.prototype.sqrt=function(s){if(s.isZero())return s.clone();var h=this.m.andln(3);if(R(h%2==1),h===3){var x=this.m.add(new n(1)).iushrn(2);return this.pow(s,x)}for(var P=this.m.subn(1),I=0;!P.isZero()&&P.andln(1)===0;)I++,P.iushrn(1);R(!P.isZero());var C=new n(1).toRed(this),G=C.redNeg(),V=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new n(2*_*_).toRed(this);this.pow(_,V).cmp(G)!==0;)_.redIAdd(G);for(var Y=this.pow(_,P),pe=this.pow(s,P.addn(1).iushrn(1)),ye=this.pow(s,P),_e=I;ye.cmp(C)!==0;){for(var X=ye,J=0;X.cmp(C)!==0;J++)X=X.redSqr();R(J<_e);var oe=this.pow(Y,new n(1).iushln(_e-J-1));pe=pe.redMul(oe),Y=oe.redSqr(),ye=ye.redMul(Y),_e=J}return pe},A.prototype.invm=function(s){var h=s._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},A.prototype.pow=function(s,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return s.clone();var x=4,P=new Array(1<<x);P[0]=new n(1).toRed(this),P[1]=s;for(var I=2;I<P.length;I++)P[I]=this.mul(P[I-1],s);var C=P[0],G=0,V=0,_=h.bitLength()%26;for(_===0&&(_=26),I=h.length-1;I>=0;I--){for(var Y=h.words[I],pe=_-1;pe>=0;pe--){var ye=Y>>pe&1;if(C!==P[0]&&(C=this.sqr(C)),ye===0&&G===0){V=0;continue}G<<=1,G|=ye,V++,!(V!==x&&(I!==0||pe!==0))&&(C=this.mul(C,P[G]),V=0,G=0)}_=26}return C},A.prototype.convertTo=function(s){var h=s.umod(this.m);return h===s?h.clone():h},A.prototype.convertFrom=function(s){var h=s.clone();return h.red=null,h},n.mont=function(s){return new U(s)};function U(M){A.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(U,A),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var h=this.imod(s.mul(this.rinv));return h.red=null,h},U.prototype.imul=function(s,h){if(s.isZero()||h.isZero())return s.words[0]=0,s.length=1,s;var x=s.imul(h),P=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=x.isub(P).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},U.prototype.mul=function(s,h){if(s.isZero()||h.isZero())return new n(0)._forceRed(this);var x=s.mul(h),P=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=x.isub(P).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},U.prototype.invm=function(s){var h=this.imod(s._invmp(this.m).mul(this.r2));return h._forceRed(this)}}(v,this)},6042:(v,W,k)=>{v.exports=k(2063)},2063:v=>{"use strict";v.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},2236:v=>{"use strict";v.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},4743:(v,W,k)=>{var E=k(9509).Buffer,O=k(3482),R=k(3872),y=k(5717),n=k(2957),u=k(7753),a=k(2063);Object.keys(a).forEach(function(T){a[T].id=E.from(a[T].id,"hex"),a[T.toLowerCase()]=a[T]});function f(T){R.Writable.call(this);var d=a[T];if(!d)throw new Error("Unknown message digest");this._hashType=d.hash,this._hash=O(d.hash),this._tag=d.id,this._signType=d.sign}y(f,R.Writable),f.prototype._write=function(d,m,g){this._hash.update(d),g()},f.prototype.update=function(d,m){return typeof d=="string"&&(d=E.from(d,m)),this._hash.update(d),this},f.prototype.sign=function(d,m){this.end();var g=this._hash.digest(),S=n(g,d,this._hashType,this._signType,this._tag);return m?S.toString(m):S};function b(T){R.Writable.call(this);var d=a[T];if(!d)throw new Error("Unknown message digest");this._hash=O(d.hash),this._tag=d.id,this._signType=d.sign}y(b,R.Writable),b.prototype._write=function(d,m,g){this._hash.update(d),g()},b.prototype.update=function(d,m){return typeof d=="string"&&(d=E.from(d,m)),this._hash.update(d),this},b.prototype.verify=function(d,m,g){typeof m=="string"&&(m=E.from(m,g)),this.end();var S=this._hash.digest();return u(m,S,d,this._signType,this._tag)};function c(T){return new f(T)}function l(T){return new b(T)}v.exports={Sign:c,Verify:l,createSign:c,createVerify:l}},2957:(v,W,k)=>{var E=k(9509).Buffer,O=k(8355),R=k(3663),y=k(6266).ec,n=k(8815),u=k(980),a=k(2236);function f(D,w,F,H,Q){var ee=u(w);if(ee.curve){if(H!=="ecdsa"&&H!=="ecdsa/rsa")throw new Error("wrong private key type");return b(D,ee)}else if(ee.type==="dsa"){if(H!=="dsa")throw new Error("wrong private key type");return c(D,ee,F)}else if(H!=="rsa"&&H!=="ecdsa/rsa")throw new Error("wrong private key type");D=E.concat([Q,D]);for(var te=ee.modulus.byteLength(),ie=[0,1];D.length+ie.length+1<te;)ie.push(255);ie.push(0);for(var se=-1;++se<D.length;)ie.push(D[se]);var le=R(ie,ee);return le}function b(D,w){var F=a[w.curve.join(".")];if(!F)throw new Error("unknown curve "+w.curve.join("."));var H=new y(F),Q=H.keyFromPrivate(w.privateKey),ee=Q.sign(D);return E.from(ee.toDER())}function c(D,w,F){for(var H=w.params.priv_key,Q=w.params.p,ee=w.params.q,te=w.params.g,ie=new n(0),se,le=d(D,ee).mod(ee),z=!1,A=T(H,ee,D,F);z===!1;)se=g(ee,A,F),ie=S(te,se,Q,ee),z=se.invm(ee).imul(le.add(H.mul(ie))).mod(ee),z.cmpn(0)===0&&(z=!1,ie=new n(0));return l(ie,z)}function l(D,w){D=D.toArray(),w=w.toArray(),D[0]&128&&(D=[0].concat(D)),w[0]&128&&(w=[0].concat(w));var F=D.length+w.length+4,H=[48,F,2,D.length];return H=H.concat(D,[2,w.length],w),E.from(H)}function T(D,w,F,H){if(D=E.from(D.toArray()),D.length<w.byteLength()){var Q=E.alloc(w.byteLength()-D.length);D=E.concat([Q,D])}var ee=F.length,te=m(F,w),ie=E.alloc(ee);ie.fill(1);var se=E.alloc(ee);return se=O(H,se).update(ie).update(E.from([0])).update(D).update(te).digest(),ie=O(H,se).update(ie).digest(),se=O(H,se).update(ie).update(E.from([1])).update(D).update(te).digest(),ie=O(H,se).update(ie).digest(),{k:se,v:ie}}function d(D,w){var F=new n(D),H=(D.length<<3)-w.bitLength();return H>0&&F.ishrn(H),F}function m(D,w){D=d(D,w),D=D.mod(w);var F=E.from(D.toArray());if(F.length<w.byteLength()){var H=E.alloc(w.byteLength()-F.length);F=E.concat([H,F])}return F}function g(D,w,F){var H,Q;do{for(H=E.alloc(0);H.length*8<D.bitLength();)w.v=O(F,w.k).update(w.v).digest(),H=E.concat([H,w.v]);Q=d(H,D),w.k=O(F,w.k).update(w.v).update(E.from([0])).digest(),w.v=O(F,w.k).update(w.v).digest()}while(Q.cmp(D)!==-1);return Q}function S(D,w,F,H){return D.toRed(n.mont(F)).redPow(w).fromRed().mod(H)}v.exports=f,v.exports.getKey=T,v.exports.makeKey=g},7753:(v,W,k)=>{var E=k(9509).Buffer,O=k(8815),R=k(6266).ec,y=k(980),n=k(2236);function u(c,l,T,d,m){var g=y(T);if(g.type==="ec"){if(d!=="ecdsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");return a(c,l,g)}else if(g.type==="dsa"){if(d!=="dsa")throw new Error("wrong public key type");return f(c,l,g)}else if(d!=="rsa"&&d!=="ecdsa/rsa")throw new Error("wrong public key type");l=E.concat([m,l]);for(var S=g.modulus.byteLength(),D=[1],w=0;l.length+D.length+2<S;)D.push(255),w++;D.push(0);for(var F=-1;++F<l.length;)D.push(l[F]);D=E.from(D);var H=O.mont(g.modulus);c=new O(c).toRed(H),c=c.redPow(new O(g.publicExponent)),c=E.from(c.fromRed().toArray());var Q=w<8?1:0;for(S=Math.min(c.length,D.length),c.length!==D.length&&(Q=1),F=-1;++F<S;)Q|=c[F]^D[F];return Q===0}function a(c,l,T){var d=n[T.data.algorithm.curve.join(".")];if(!d)throw new Error("unknown curve "+T.data.algorithm.curve.join("."));var m=new R(d),g=T.data.subjectPrivateKey.data;return m.verify(l,c,g)}function f(c,l,T){var d=T.data.p,m=T.data.q,g=T.data.g,S=T.data.pub_key,D=y.signature.decode(c,"der"),w=D.s,F=D.r;b(w,m),b(F,m);var H=O.mont(d),Q=w.invm(m),ee=g.toRed(H).redPow(new O(l).mul(Q).mod(m)).fromRed().mul(S.toRed(H).redPow(F.mul(Q).mod(m)).fromRed()).mod(d).mod(m);return ee.cmp(F)===0}function b(c,l){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(l)>=l)throw new Error("invalid sig")}v.exports=u},8815:function(v,W,k){v=k.nmd(v),function(E,O){"use strict";function R(M,s){if(!M)throw new Error(s||"Assertion failed")}function y(M,s){M.super_=s;var h=function(){};h.prototype=s.prototype,M.prototype=new h,M.prototype.constructor=M}function n(M,s,h){if(n.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((s==="le"||s==="be")&&(h=s,s=10),this._init(M||0,s||10,h||"be"))}typeof E=="object"?E.exports=n:O.BN=n,n.BN=n,n.wordSize=26;var u;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?u=window.Buffer:u=k(2363).Buffer}catch(M){}n.isBN=function(s){return s instanceof n?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===n.wordSize&&Array.isArray(s.words)},n.max=function(s,h){return s.cmp(h)>0?s:h},n.min=function(s,h){return s.cmp(h)<0?s:h},n.prototype._init=function(s,h,x){if(typeof s=="number")return this._initNumber(s,h,x);if(typeof s=="object")return this._initArray(s,h,x);h==="hex"&&(h=16),R(h===(h|0)&&h>=2&&h<=36),s=s.toString().replace(/\s+/g,"");var P=0;s[0]==="-"&&(P++,this.negative=1),P<s.length&&(h===16?this._parseHex(s,P,x):(this._parseBase(s,h,P),x==="le"&&this._initArray(this.toArray(),h,x)))},n.prototype._initNumber=function(s,h,x){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(R(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),h,x)},n.prototype._initArray=function(s,h,x){if(R(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I,C,G=0;if(x==="be")for(P=s.length-1,I=0;P>=0;P-=3)C=s[P]|s[P-1]<<8|s[P-2]<<16,this.words[I]|=C<<G&67108863,this.words[I+1]=C>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);else if(x==="le")for(P=0,I=0;P<s.length;P+=3)C=s[P]|s[P+1]<<8|s[P+2]<<16,this.words[I]|=C<<G&67108863,this.words[I+1]=C>>>26-G&67108863,G+=24,G>=26&&(G-=26,I++);return this._strip()};function a(M,s){var h=M.charCodeAt(s);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;R(!1,"Invalid character in "+M)}function f(M,s,h){var x=a(M,h);return h-1>=s&&(x|=a(M,h-1)<<4),x}n.prototype._parseHex=function(s,h,x){this.length=Math.ceil((s.length-h)/6),this.words=new Array(this.length);for(var P=0;P<this.length;P++)this.words[P]=0;var I=0,C=0,G;if(x==="be")for(P=s.length-1;P>=h;P-=2)G=f(s,h,P)<<I,this.words[C]|=G&67108863,I>=18?(I-=18,C+=1,this.words[C]|=G>>>26):I+=8;else{var V=s.length-h;for(P=V%2==0?h+1:h;P<s.length;P+=2)G=f(s,h,P)<<I,this.words[C]|=G&67108863,I>=18?(I-=18,C+=1,this.words[C]|=G>>>26):I+=8}this._strip()};function b(M,s,h,x){for(var P=0,I=0,C=Math.min(M.length,h),G=s;G<C;G++){var V=M.charCodeAt(G)-48;P*=x,V>=49?I=V-49+10:V>=17?I=V-17+10:I=V,R(V>=0&&I<x,"Invalid character"),P+=I}return P}n.prototype._parseBase=function(s,h,x){this.words=[0],this.length=1;for(var P=0,I=1;I<=67108863;I*=h)P++;P--,I=I/h|0;for(var C=s.length-x,G=C%P,V=Math.min(C,C-G)+x,_=0,Y=x;Y<V;Y+=P)_=b(s,Y,Y+P,h),this.imuln(I),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(G!==0){var pe=1;for(_=b(s,Y,s.length,h),Y=0;Y<G;Y++)pe*=h;this.imuln(pe),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this._strip()},n.prototype.copy=function(s){s.words=new Array(this.length);for(var h=0;h<this.length;h++)s.words[h]=this.words[h];s.length=this.length,s.negative=this.negative,s.red=this.red};function c(M,s){M.words=s.words,M.length=s.length,M.negative=s.negative,M.red=s.red}if(n.prototype._move=function(s){c(s,this)},n.prototype.clone=function(){var s=new n(null);return this.copy(s),s},n.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(M){n.prototype.inspect=l}else n.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(s,h){s=s||10,h=h|0||1;var x;if(s===16||s==="hex"){x="";for(var P=0,I=0,C=0;C<this.length;C++){var G=this.words[C],V=((G<<P|I)&16777215).toString(16);I=G>>>24-P&16777215,I!==0||C!==this.length-1?x=T[6-V.length]+V+x:x=V+x,P+=2,P>=26&&(P-=26,C--)}for(I!==0&&(x=I.toString(16)+x);x.length%h!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(s===(s|0)&&s>=2&&s<=36){var _=d[s],Y=m[s];x="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var ye=pe.modrn(Y).toString(s);pe=pe.idivn(Y),pe.isZero()?x=ye+x:x=T[_-ye.length]+ye+x}for(this.isZero()&&(x="0"+x);x.length%h!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}R(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},n.prototype.toJSON=function(){return this.toString(16,2)},u&&(n.prototype.toBuffer=function(s,h){return this.toArrayLike(u,s,h)}),n.prototype.toArray=function(s,h){return this.toArrayLike(Array,s,h)};var g=function(s,h){return s.allocUnsafe?s.allocUnsafe(h):new s(h)};n.prototype.toArrayLike=function(s,h,x){this._strip();var P=this.byteLength(),I=x||Math.max(1,P);R(P<=I,"byte array longer than desired length"),R(I>0,"Requested array length <= 0");var C=g(s,I),G=h==="le"?"LE":"BE";return this["_toArrayLike"+G](C,P),C},n.prototype._toArrayLikeLE=function(s,h){for(var x=0,P=0,I=0,C=0;I<this.length;I++){var G=this.words[I]<<C|P;s[x++]=G&255,x<s.length&&(s[x++]=G>>8&255),x<s.length&&(s[x++]=G>>16&255),C===6?(x<s.length&&(s[x++]=G>>24&255),P=0,C=0):(P=G>>>24,C+=2)}if(x<s.length)for(s[x++]=P;x<s.length;)s[x++]=0},n.prototype._toArrayLikeBE=function(s,h){for(var x=s.length-1,P=0,I=0,C=0;I<this.length;I++){var G=this.words[I]<<C|P;s[x--]=G&255,x>=0&&(s[x--]=G>>8&255),x>=0&&(s[x--]=G>>16&255),C===6?(x>=0&&(s[x--]=G>>24&255),P=0,C=0):(P=G>>>24,C+=2)}if(x>=0)for(s[x--]=P;x>=0;)s[x--]=0},Math.clz32?n.prototype._countBits=function(s){return 32-Math.clz32(s)}:n.prototype._countBits=function(s){var h=s,x=0;return h>=4096&&(x+=13,h>>>=13),h>=64&&(x+=7,h>>>=7),h>=8&&(x+=4,h>>>=4),h>=2&&(x+=2,h>>>=2),x+h},n.prototype._zeroBits=function(s){if(s===0)return 26;var h=s,x=0;return(h&8191)==0&&(x+=13,h>>>=13),(h&127)==0&&(x+=7,h>>>=7),(h&15)==0&&(x+=4,h>>>=4),(h&3)==0&&(x+=2,h>>>=2),(h&1)==0&&x++,x},n.prototype.bitLength=function(){var s=this.words[this.length-1],h=this._countBits(s);return(this.length-1)*26+h};function S(M){for(var s=new Array(M.bitLength()),h=0;h<s.length;h++){var x=h/26|0,P=h%26;s[h]=M.words[x]>>>P&1}return s}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,h=0;h<this.length;h++){var x=this._zeroBits(this.words[h]);if(s+=x,x!==26)break}return s},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},n.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var h=0;h<s.length;h++)this.words[h]=this.words[h]|s.words[h];return this._strip()},n.prototype.ior=function(s){return R((this.negative|s.negative)==0),this.iuor(s)},n.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},n.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},n.prototype.iuand=function(s){var h;this.length>s.length?h=s:h=this;for(var x=0;x<h.length;x++)this.words[x]=this.words[x]&s.words[x];return this.length=h.length,this._strip()},n.prototype.iand=function(s){return R((this.negative|s.negative)==0),this.iuand(s)},n.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},n.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},n.prototype.iuxor=function(s){var h,x;this.length>s.length?(h=this,x=s):(h=s,x=this);for(var P=0;P<x.length;P++)this.words[P]=h.words[P]^x.words[P];if(this!==h)for(;P<h.length;P++)this.words[P]=h.words[P];return this.length=h.length,this._strip()},n.prototype.ixor=function(s){return R((this.negative|s.negative)==0),this.iuxor(s)},n.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},n.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},n.prototype.inotn=function(s){R(typeof s=="number"&&s>=0);var h=Math.ceil(s/26)|0,x=s%26;this._expand(h),x>0&&h--;for(var P=0;P<h;P++)this.words[P]=~this.words[P]&67108863;return x>0&&(this.words[P]=~this.words[P]&67108863>>26-x),this._strip()},n.prototype.notn=function(s){return this.clone().inotn(s)},n.prototype.setn=function(s,h){R(typeof s=="number"&&s>=0);var x=s/26|0,P=s%26;return this._expand(x+1),h?this.words[x]=this.words[x]|1<<P:this.words[x]=this.words[x]&~(1<<P),this._strip()},n.prototype.iadd=function(s){var h;if(this.negative!==0&&s.negative===0)return this.negative=0,h=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,h=this.isub(s),s.negative=1,h._normSign();var x,P;this.length>s.length?(x=this,P=s):(x=s,P=this);for(var I=0,C=0;C<P.length;C++)h=(x.words[C]|0)+(P.words[C]|0)+I,this.words[C]=h&67108863,I=h>>>26;for(;I!==0&&C<x.length;C++)h=(x.words[C]|0)+I,this.words[C]=h&67108863,I=h>>>26;if(this.length=x.length,I!==0)this.words[this.length]=I,this.length++;else if(x!==this)for(;C<x.length;C++)this.words[C]=x.words[C];return this},n.prototype.add=function(s){var h;return s.negative!==0&&this.negative===0?(s.negative=0,h=this.sub(s),s.negative^=1,h):s.negative===0&&this.negative!==0?(this.negative=0,h=s.sub(this),this.negative=1,h):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},n.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var h=this.iadd(s);return s.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var x=this.cmp(s);if(x===0)return this.negative=0,this.length=1,this.words[0]=0,this;var P,I;x>0?(P=this,I=s):(P=s,I=this);for(var C=0,G=0;G<I.length;G++)h=(P.words[G]|0)-(I.words[G]|0)+C,C=h>>26,this.words[G]=h&67108863;for(;C!==0&&G<P.length;G++)h=(P.words[G]|0)+C,C=h>>26,this.words[G]=h&67108863;if(C===0&&G<P.length&&P!==this)for(;G<P.length;G++)this.words[G]=P.words[G];return this.length=Math.max(this.length,G),P!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(s){return this.clone().isub(s)};function D(M,s,h){h.negative=s.negative^M.negative;var x=M.length+s.length|0;h.length=x,x=x-1|0;var P=M.words[0]|0,I=s.words[0]|0,C=P*I,G=C&67108863,V=C/67108864|0;h.words[0]=G;for(var _=1;_<x;_++){for(var Y=V>>>26,pe=V&67108863,ye=Math.min(_,s.length-1),_e=Math.max(0,_-M.length+1);_e<=ye;_e++){var X=_-_e|0;P=M.words[X]|0,I=s.words[_e]|0,C=P*I+pe,Y+=C/67108864|0,pe=C&67108863}h.words[_]=pe|0,V=Y|0}return V!==0?h.words[_]=V|0:h.length--,h._strip()}var w=function(s,h,x){var P=s.words,I=h.words,C=x.words,G=0,V,_,Y,pe=P[0]|0,ye=pe&8191,_e=pe>>>13,X=P[1]|0,J=X&8191,oe=X>>>13,be=P[2]|0,me=be&8191,B=be>>>13,q=P[3]|0,ae=q&8191,fe=q>>>13,Ae=P[4]|0,ve=Ae&8191,Se=Ae>>>13,nt=P[5]|0,Ne=nt&8191,xe=nt>>>13,ft=P[6]|0,Be=ft&8191,Ie=ft>>>13,pt=P[7]|0,ne=pt&8191,j=pt>>>13,Z=P[8]|0,ue=Z&8191,he=Z>>>13,Ee=P[9]|0,ge=Ee&8191,Te=Ee>>>13,lt=I[0]|0,Fe=lt&8191,Oe=lt>>>13,at=I[1]|0,Qe=at&8191,Ke=at>>>13,mt=I[2]|0,qe=mt&8191,Me=mt>>>13,lr=I[3]|0,je=lr&8191,Ye=lr>>>13,br=I[4]|0,$e=br&8191,ze=br>>>13,yr=I[5]|0,Ze=yr&8191,We=yr>>>13,wr=I[6]|0,Je=wr&8191,Ge=wr>>>13,ir=I[7]|0,Xe=ir&8191,Ve=ir>>>13,nr=I[8]|0,et=nr&8191,tt=nr>>>13,$t=I[9]|0,it=$t&8191,rt=$t>>>13;x.negative=s.negative^h.negative,x.length=19,V=Math.imul(ye,Fe),_=Math.imul(ye,Oe),_=_+Math.imul(_e,Fe)|0,Y=Math.imul(_e,Oe);var Wt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,V=Math.imul(J,Fe),_=Math.imul(J,Oe),_=_+Math.imul(oe,Fe)|0,Y=Math.imul(oe,Oe),V=V+Math.imul(ye,Qe)|0,_=_+Math.imul(ye,Ke)|0,_=_+Math.imul(_e,Qe)|0,Y=Y+Math.imul(_e,Ke)|0;var Qt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,V=Math.imul(me,Fe),_=Math.imul(me,Oe),_=_+Math.imul(B,Fe)|0,Y=Math.imul(B,Oe),V=V+Math.imul(J,Qe)|0,_=_+Math.imul(J,Ke)|0,_=_+Math.imul(oe,Qe)|0,Y=Y+Math.imul(oe,Ke)|0,V=V+Math.imul(ye,qe)|0,_=_+Math.imul(ye,Me)|0,_=_+Math.imul(_e,qe)|0,Y=Y+Math.imul(_e,Me)|0;var jt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,V=Math.imul(ae,Fe),_=Math.imul(ae,Oe),_=_+Math.imul(fe,Fe)|0,Y=Math.imul(fe,Oe),V=V+Math.imul(me,Qe)|0,_=_+Math.imul(me,Ke)|0,_=_+Math.imul(B,Qe)|0,Y=Y+Math.imul(B,Ke)|0,V=V+Math.imul(J,qe)|0,_=_+Math.imul(J,Me)|0,_=_+Math.imul(oe,qe)|0,Y=Y+Math.imul(oe,Me)|0,V=V+Math.imul(ye,je)|0,_=_+Math.imul(ye,Ye)|0,_=_+Math.imul(_e,je)|0,Y=Y+Math.imul(_e,Ye)|0;var vt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(vt>>>26)|0,vt&=67108863,V=Math.imul(ve,Fe),_=Math.imul(ve,Oe),_=_+Math.imul(Se,Fe)|0,Y=Math.imul(Se,Oe),V=V+Math.imul(ae,Qe)|0,_=_+Math.imul(ae,Ke)|0,_=_+Math.imul(fe,Qe)|0,Y=Y+Math.imul(fe,Ke)|0,V=V+Math.imul(me,qe)|0,_=_+Math.imul(me,Me)|0,_=_+Math.imul(B,qe)|0,Y=Y+Math.imul(B,Me)|0,V=V+Math.imul(J,je)|0,_=_+Math.imul(J,Ye)|0,_=_+Math.imul(oe,je)|0,Y=Y+Math.imul(oe,Ye)|0,V=V+Math.imul(ye,$e)|0,_=_+Math.imul(ye,ze)|0,_=_+Math.imul(_e,$e)|0,Y=Y+Math.imul(_e,ze)|0;var Ht=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,V=Math.imul(Ne,Fe),_=Math.imul(Ne,Oe),_=_+Math.imul(xe,Fe)|0,Y=Math.imul(xe,Oe),V=V+Math.imul(ve,Qe)|0,_=_+Math.imul(ve,Ke)|0,_=_+Math.imul(Se,Qe)|0,Y=Y+Math.imul(Se,Ke)|0,V=V+Math.imul(ae,qe)|0,_=_+Math.imul(ae,Me)|0,_=_+Math.imul(fe,qe)|0,Y=Y+Math.imul(fe,Me)|0,V=V+Math.imul(me,je)|0,_=_+Math.imul(me,Ye)|0,_=_+Math.imul(B,je)|0,Y=Y+Math.imul(B,Ye)|0,V=V+Math.imul(J,$e)|0,_=_+Math.imul(J,ze)|0,_=_+Math.imul(oe,$e)|0,Y=Y+Math.imul(oe,ze)|0,V=V+Math.imul(ye,Ze)|0,_=_+Math.imul(ye,We)|0,_=_+Math.imul(_e,Ze)|0,Y=Y+Math.imul(_e,We)|0;var Kt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,V=Math.imul(Be,Fe),_=Math.imul(Be,Oe),_=_+Math.imul(Ie,Fe)|0,Y=Math.imul(Ie,Oe),V=V+Math.imul(Ne,Qe)|0,_=_+Math.imul(Ne,Ke)|0,_=_+Math.imul(xe,Qe)|0,Y=Y+Math.imul(xe,Ke)|0,V=V+Math.imul(ve,qe)|0,_=_+Math.imul(ve,Me)|0,_=_+Math.imul(Se,qe)|0,Y=Y+Math.imul(Se,Me)|0,V=V+Math.imul(ae,je)|0,_=_+Math.imul(ae,Ye)|0,_=_+Math.imul(fe,je)|0,Y=Y+Math.imul(fe,Ye)|0,V=V+Math.imul(me,$e)|0,_=_+Math.imul(me,ze)|0,_=_+Math.imul(B,$e)|0,Y=Y+Math.imul(B,ze)|0,V=V+Math.imul(J,Ze)|0,_=_+Math.imul(J,We)|0,_=_+Math.imul(oe,Ze)|0,Y=Y+Math.imul(oe,We)|0,V=V+Math.imul(ye,Je)|0,_=_+Math.imul(ye,Ge)|0,_=_+Math.imul(_e,Je)|0,Y=Y+Math.imul(_e,Ge)|0;var Yt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,V=Math.imul(ne,Fe),_=Math.imul(ne,Oe),_=_+Math.imul(j,Fe)|0,Y=Math.imul(j,Oe),V=V+Math.imul(Be,Qe)|0,_=_+Math.imul(Be,Ke)|0,_=_+Math.imul(Ie,Qe)|0,Y=Y+Math.imul(Ie,Ke)|0,V=V+Math.imul(Ne,qe)|0,_=_+Math.imul(Ne,Me)|0,_=_+Math.imul(xe,qe)|0,Y=Y+Math.imul(xe,Me)|0,V=V+Math.imul(ve,je)|0,_=_+Math.imul(ve,Ye)|0,_=_+Math.imul(Se,je)|0,Y=Y+Math.imul(Se,Ye)|0,V=V+Math.imul(ae,$e)|0,_=_+Math.imul(ae,ze)|0,_=_+Math.imul(fe,$e)|0,Y=Y+Math.imul(fe,ze)|0,V=V+Math.imul(me,Ze)|0,_=_+Math.imul(me,We)|0,_=_+Math.imul(B,Ze)|0,Y=Y+Math.imul(B,We)|0,V=V+Math.imul(J,Je)|0,_=_+Math.imul(J,Ge)|0,_=_+Math.imul(oe,Je)|0,Y=Y+Math.imul(oe,Ge)|0,V=V+Math.imul(ye,Xe)|0,_=_+Math.imul(ye,Ve)|0,_=_+Math.imul(_e,Xe)|0,Y=Y+Math.imul(_e,Ve)|0;var sr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(sr>>>26)|0,sr&=67108863,V=Math.imul(ue,Fe),_=Math.imul(ue,Oe),_=_+Math.imul(he,Fe)|0,Y=Math.imul(he,Oe),V=V+Math.imul(ne,Qe)|0,_=_+Math.imul(ne,Ke)|0,_=_+Math.imul(j,Qe)|0,Y=Y+Math.imul(j,Ke)|0,V=V+Math.imul(Be,qe)|0,_=_+Math.imul(Be,Me)|0,_=_+Math.imul(Ie,qe)|0,Y=Y+Math.imul(Ie,Me)|0,V=V+Math.imul(Ne,je)|0,_=_+Math.imul(Ne,Ye)|0,_=_+Math.imul(xe,je)|0,Y=Y+Math.imul(xe,Ye)|0,V=V+Math.imul(ve,$e)|0,_=_+Math.imul(ve,ze)|0,_=_+Math.imul(Se,$e)|0,Y=Y+Math.imul(Se,ze)|0,V=V+Math.imul(ae,Ze)|0,_=_+Math.imul(ae,We)|0,_=_+Math.imul(fe,Ze)|0,Y=Y+Math.imul(fe,We)|0,V=V+Math.imul(me,Je)|0,_=_+Math.imul(me,Ge)|0,_=_+Math.imul(B,Je)|0,Y=Y+Math.imul(B,Ge)|0,V=V+Math.imul(J,Xe)|0,_=_+Math.imul(J,Ve)|0,_=_+Math.imul(oe,Xe)|0,Y=Y+Math.imul(oe,Ve)|0,V=V+Math.imul(ye,et)|0,_=_+Math.imul(ye,tt)|0,_=_+Math.imul(_e,et)|0,Y=Y+Math.imul(_e,tt)|0;var ar=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(ar>>>26)|0,ar&=67108863,V=Math.imul(ge,Fe),_=Math.imul(ge,Oe),_=_+Math.imul(Te,Fe)|0,Y=Math.imul(Te,Oe),V=V+Math.imul(ue,Qe)|0,_=_+Math.imul(ue,Ke)|0,_=_+Math.imul(he,Qe)|0,Y=Y+Math.imul(he,Ke)|0,V=V+Math.imul(ne,qe)|0,_=_+Math.imul(ne,Me)|0,_=_+Math.imul(j,qe)|0,Y=Y+Math.imul(j,Me)|0,V=V+Math.imul(Be,je)|0,_=_+Math.imul(Be,Ye)|0,_=_+Math.imul(Ie,je)|0,Y=Y+Math.imul(Ie,Ye)|0,V=V+Math.imul(Ne,$e)|0,_=_+Math.imul(Ne,ze)|0,_=_+Math.imul(xe,$e)|0,Y=Y+Math.imul(xe,ze)|0,V=V+Math.imul(ve,Ze)|0,_=_+Math.imul(ve,We)|0,_=_+Math.imul(Se,Ze)|0,Y=Y+Math.imul(Se,We)|0,V=V+Math.imul(ae,Je)|0,_=_+Math.imul(ae,Ge)|0,_=_+Math.imul(fe,Je)|0,Y=Y+Math.imul(fe,Ge)|0,V=V+Math.imul(me,Xe)|0,_=_+Math.imul(me,Ve)|0,_=_+Math.imul(B,Xe)|0,Y=Y+Math.imul(B,Ve)|0,V=V+Math.imul(J,et)|0,_=_+Math.imul(J,tt)|0,_=_+Math.imul(oe,et)|0,Y=Y+Math.imul(oe,tt)|0,V=V+Math.imul(ye,it)|0,_=_+Math.imul(ye,rt)|0,_=_+Math.imul(_e,it)|0,Y=Y+Math.imul(_e,rt)|0;var or=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(or>>>26)|0,or&=67108863,V=Math.imul(ge,Qe),_=Math.imul(ge,Ke),_=_+Math.imul(Te,Qe)|0,Y=Math.imul(Te,Ke),V=V+Math.imul(ue,qe)|0,_=_+Math.imul(ue,Me)|0,_=_+Math.imul(he,qe)|0,Y=Y+Math.imul(he,Me)|0,V=V+Math.imul(ne,je)|0,_=_+Math.imul(ne,Ye)|0,_=_+Math.imul(j,je)|0,Y=Y+Math.imul(j,Ye)|0,V=V+Math.imul(Be,$e)|0,_=_+Math.imul(Be,ze)|0,_=_+Math.imul(Ie,$e)|0,Y=Y+Math.imul(Ie,ze)|0,V=V+Math.imul(Ne,Ze)|0,_=_+Math.imul(Ne,We)|0,_=_+Math.imul(xe,Ze)|0,Y=Y+Math.imul(xe,We)|0,V=V+Math.imul(ve,Je)|0,_=_+Math.imul(ve,Ge)|0,_=_+Math.imul(Se,Je)|0,Y=Y+Math.imul(Se,Ge)|0,V=V+Math.imul(ae,Xe)|0,_=_+Math.imul(ae,Ve)|0,_=_+Math.imul(fe,Xe)|0,Y=Y+Math.imul(fe,Ve)|0,V=V+Math.imul(me,et)|0,_=_+Math.imul(me,tt)|0,_=_+Math.imul(B,et)|0,Y=Y+Math.imul(B,tt)|0,V=V+Math.imul(J,it)|0,_=_+Math.imul(J,rt)|0,_=_+Math.imul(oe,it)|0,Y=Y+Math.imul(oe,rt)|0;var Zt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,V=Math.imul(ge,qe),_=Math.imul(ge,Me),_=_+Math.imul(Te,qe)|0,Y=Math.imul(Te,Me),V=V+Math.imul(ue,je)|0,_=_+Math.imul(ue,Ye)|0,_=_+Math.imul(he,je)|0,Y=Y+Math.imul(he,Ye)|0,V=V+Math.imul(ne,$e)|0,_=_+Math.imul(ne,ze)|0,_=_+Math.imul(j,$e)|0,Y=Y+Math.imul(j,ze)|0,V=V+Math.imul(Be,Ze)|0,_=_+Math.imul(Be,We)|0,_=_+Math.imul(Ie,Ze)|0,Y=Y+Math.imul(Ie,We)|0,V=V+Math.imul(Ne,Je)|0,_=_+Math.imul(Ne,Ge)|0,_=_+Math.imul(xe,Je)|0,Y=Y+Math.imul(xe,Ge)|0,V=V+Math.imul(ve,Xe)|0,_=_+Math.imul(ve,Ve)|0,_=_+Math.imul(Se,Xe)|0,Y=Y+Math.imul(Se,Ve)|0,V=V+Math.imul(ae,et)|0,_=_+Math.imul(ae,tt)|0,_=_+Math.imul(fe,et)|0,Y=Y+Math.imul(fe,tt)|0,V=V+Math.imul(me,it)|0,_=_+Math.imul(me,rt)|0,_=_+Math.imul(B,it)|0,Y=Y+Math.imul(B,rt)|0;var gt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(gt>>>26)|0,gt&=67108863,V=Math.imul(ge,je),_=Math.imul(ge,Ye),_=_+Math.imul(Te,je)|0,Y=Math.imul(Te,Ye),V=V+Math.imul(ue,$e)|0,_=_+Math.imul(ue,ze)|0,_=_+Math.imul(he,$e)|0,Y=Y+Math.imul(he,ze)|0,V=V+Math.imul(ne,Ze)|0,_=_+Math.imul(ne,We)|0,_=_+Math.imul(j,Ze)|0,Y=Y+Math.imul(j,We)|0,V=V+Math.imul(Be,Je)|0,_=_+Math.imul(Be,Ge)|0,_=_+Math.imul(Ie,Je)|0,Y=Y+Math.imul(Ie,Ge)|0,V=V+Math.imul(Ne,Xe)|0,_=_+Math.imul(Ne,Ve)|0,_=_+Math.imul(xe,Xe)|0,Y=Y+Math.imul(xe,Ve)|0,V=V+Math.imul(ve,et)|0,_=_+Math.imul(ve,tt)|0,_=_+Math.imul(Se,et)|0,Y=Y+Math.imul(Se,tt)|0,V=V+Math.imul(ae,it)|0,_=_+Math.imul(ae,rt)|0,_=_+Math.imul(fe,it)|0,Y=Y+Math.imul(fe,rt)|0;var Et=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Et>>>26)|0,Et&=67108863,V=Math.imul(ge,$e),_=Math.imul(ge,ze),_=_+Math.imul(Te,$e)|0,Y=Math.imul(Te,ze),V=V+Math.imul(ue,Ze)|0,_=_+Math.imul(ue,We)|0,_=_+Math.imul(he,Ze)|0,Y=Y+Math.imul(he,We)|0,V=V+Math.imul(ne,Je)|0,_=_+Math.imul(ne,Ge)|0,_=_+Math.imul(j,Je)|0,Y=Y+Math.imul(j,Ge)|0,V=V+Math.imul(Be,Xe)|0,_=_+Math.imul(Be,Ve)|0,_=_+Math.imul(Ie,Xe)|0,Y=Y+Math.imul(Ie,Ve)|0,V=V+Math.imul(Ne,et)|0,_=_+Math.imul(Ne,tt)|0,_=_+Math.imul(xe,et)|0,Y=Y+Math.imul(xe,tt)|0,V=V+Math.imul(ve,it)|0,_=_+Math.imul(ve,rt)|0,_=_+Math.imul(Se,it)|0,Y=Y+Math.imul(Se,rt)|0;var ct=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(ct>>>26)|0,ct&=67108863,V=Math.imul(ge,Ze),_=Math.imul(ge,We),_=_+Math.imul(Te,Ze)|0,Y=Math.imul(Te,We),V=V+Math.imul(ue,Je)|0,_=_+Math.imul(ue,Ge)|0,_=_+Math.imul(he,Je)|0,Y=Y+Math.imul(he,Ge)|0,V=V+Math.imul(ne,Xe)|0,_=_+Math.imul(ne,Ve)|0,_=_+Math.imul(j,Xe)|0,Y=Y+Math.imul(j,Ve)|0,V=V+Math.imul(Be,et)|0,_=_+Math.imul(Be,tt)|0,_=_+Math.imul(Ie,et)|0,Y=Y+Math.imul(Ie,tt)|0,V=V+Math.imul(Ne,it)|0,_=_+Math.imul(Ne,rt)|0,_=_+Math.imul(xe,it)|0,Y=Y+Math.imul(xe,rt)|0;var Tt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,V=Math.imul(ge,Je),_=Math.imul(ge,Ge),_=_+Math.imul(Te,Je)|0,Y=Math.imul(Te,Ge),V=V+Math.imul(ue,Xe)|0,_=_+Math.imul(ue,Ve)|0,_=_+Math.imul(he,Xe)|0,Y=Y+Math.imul(he,Ve)|0,V=V+Math.imul(ne,et)|0,_=_+Math.imul(ne,tt)|0,_=_+Math.imul(j,et)|0,Y=Y+Math.imul(j,tt)|0,V=V+Math.imul(Be,it)|0,_=_+Math.imul(Be,rt)|0,_=_+Math.imul(Ie,it)|0,Y=Y+Math.imul(Ie,rt)|0;var Jt=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,V=Math.imul(ge,Xe),_=Math.imul(ge,Ve),_=_+Math.imul(Te,Xe)|0,Y=Math.imul(Te,Ve),V=V+Math.imul(ue,et)|0,_=_+Math.imul(ue,tt)|0,_=_+Math.imul(he,et)|0,Y=Y+Math.imul(he,tt)|0,V=V+Math.imul(ne,it)|0,_=_+Math.imul(ne,rt)|0,_=_+Math.imul(j,it)|0,Y=Y+Math.imul(j,rt)|0;var Tr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,V=Math.imul(ge,et),_=Math.imul(ge,tt),_=_+Math.imul(Te,et)|0,Y=Math.imul(Te,tt),V=V+Math.imul(ue,it)|0,_=_+Math.imul(ue,rt)|0,_=_+Math.imul(he,it)|0,Y=Y+Math.imul(he,rt)|0;var Cr=(G+V|0)+((_&8191)<<13)|0;G=(Y+(_>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,V=Math.imul(ge,it),_=Math.imul(ge,rt),_=_+Math.imul(Te,it)|0,Y=Math.imul(Te,rt);var _r=(G+V|0)+((_&8191)<<13)|0;return G=(Y+(_>>>13)|0)+(_r>>>26)|0,_r&=67108863,C[0]=Wt,C[1]=Qt,C[2]=jt,C[3]=vt,C[4]=Ht,C[5]=Kt,C[6]=Yt,C[7]=sr,C[8]=ar,C[9]=or,C[10]=Zt,C[11]=gt,C[12]=Et,C[13]=ct,C[14]=Tt,C[15]=Jt,C[16]=Tr,C[17]=Cr,C[18]=_r,G!==0&&(C[19]=G,x.length++),x};Math.imul||(w=D);function F(M,s,h){h.negative=s.negative^M.negative,h.length=M.length+s.length;for(var x=0,P=0,I=0;I<h.length-1;I++){var C=P;P=0;for(var G=x&67108863,V=Math.min(I,s.length-1),_=Math.max(0,I-M.length+1);_<=V;_++){var Y=I-_,pe=M.words[Y]|0,ye=s.words[_]|0,_e=pe*ye,X=_e&67108863;C=C+(_e/67108864|0)|0,X=X+G|0,G=X&67108863,C=C+(X>>>26)|0,P+=C>>>26,C&=67108863}h.words[I]=G,x=C,C=P}return x!==0?h.words[I]=x:h.length--,h._strip()}function H(M,s,h){return F(M,s,h)}n.prototype.mulTo=function(s,h){var x,P=this.length+s.length;return this.length===10&&s.length===10?x=w(this,s,h):P<63?x=D(this,s,h):P<1024?x=F(this,s,h):x=H(this,s,h),x};function Q(M,s){this.x=M,this.y=s}Q.prototype.makeRBT=function(s){for(var h=new Array(s),x=n.prototype._countBits(s)-1,P=0;P<s;P++)h[P]=this.revBin(P,x,s);return h},Q.prototype.revBin=function(s,h,x){if(s===0||s===x-1)return s;for(var P=0,I=0;I<h;I++)P|=(s&1)<<h-I-1,s>>=1;return P},Q.prototype.permute=function(s,h,x,P,I,C){for(var G=0;G<C;G++)P[G]=h[s[G]],I[G]=x[s[G]]},Q.prototype.transform=function(s,h,x,P,I,C){this.permute(C,s,h,x,P,I);for(var G=1;G<I;G<<=1)for(var V=G<<1,_=Math.cos(2*Math.PI/V),Y=Math.sin(2*Math.PI/V),pe=0;pe<I;pe+=V)for(var ye=_,_e=Y,X=0;X<G;X++){var J=x[pe+X],oe=P[pe+X],be=x[pe+X+G],me=P[pe+X+G],B=ye*be-_e*me;me=ye*me+_e*be,be=B,x[pe+X]=J+be,P[pe+X]=oe+me,x[pe+X+G]=J-be,P[pe+X+G]=oe-me,X!==V&&(B=_*ye-Y*_e,_e=_*_e+Y*ye,ye=B)}},Q.prototype.guessLen13b=function(s,h){var x=Math.max(h,s)|1,P=x&1,I=0;for(x=x/2|0;x;x=x>>>1)I++;return 1<<I+1+P},Q.prototype.conjugate=function(s,h,x){if(!(x<=1))for(var P=0;P<x/2;P++){var I=s[P];s[P]=s[x-P-1],s[x-P-1]=I,I=h[P],h[P]=-h[x-P-1],h[x-P-1]=-I}},Q.prototype.normalize13b=function(s,h){for(var x=0,P=0;P<h/2;P++){var I=Math.round(s[2*P+1]/h)*8192+Math.round(s[2*P]/h)+x;s[P]=I&67108863,I<67108864?x=0:x=I/67108864|0}return s},Q.prototype.convert13b=function(s,h,x,P){for(var I=0,C=0;C<h;C++)I=I+(s[C]|0),x[2*C]=I&8191,I=I>>>13,x[2*C+1]=I&8191,I=I>>>13;for(C=2*h;C<P;++C)x[C]=0;R(I===0),R((I&~8191)==0)},Q.prototype.stub=function(s){for(var h=new Array(s),x=0;x<s;x++)h[x]=0;return h},Q.prototype.mulp=function(s,h,x){var P=2*this.guessLen13b(s.length,h.length),I=this.makeRBT(P),C=this.stub(P),G=new Array(P),V=new Array(P),_=new Array(P),Y=new Array(P),pe=new Array(P),ye=new Array(P),_e=x.words;_e.length=P,this.convert13b(s.words,s.length,G,P),this.convert13b(h.words,h.length,Y,P),this.transform(G,C,V,_,P,I),this.transform(Y,C,pe,ye,P,I);for(var X=0;X<P;X++){var J=V[X]*pe[X]-_[X]*ye[X];_[X]=V[X]*ye[X]+_[X]*pe[X],V[X]=J}return this.conjugate(V,_,P),this.transform(V,_,_e,C,P,I),this.conjugate(_e,C,P),this.normalize13b(_e,P),x.negative=s.negative^h.negative,x.length=s.length+h.length,x._strip()},n.prototype.mul=function(s){var h=new n(null);return h.words=new Array(this.length+s.length),this.mulTo(s,h)},n.prototype.mulf=function(s){var h=new n(null);return h.words=new Array(this.length+s.length),H(this,s,h)},n.prototype.imul=function(s){return this.clone().mulTo(s,this)},n.prototype.imuln=function(s){var h=s<0;h&&(s=-s),R(typeof s=="number"),R(s<67108864);for(var x=0,P=0;P<this.length;P++){var I=(this.words[P]|0)*s,C=(I&67108863)+(x&67108863);x>>=26,x+=I/67108864|0,x+=C>>>26,this.words[P]=C&67108863}return x!==0&&(this.words[P]=x,this.length++),h?this.ineg():this},n.prototype.muln=function(s){return this.clone().imuln(s)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(s){var h=S(s);if(h.length===0)return new n(1);for(var x=this,P=0;P<h.length&&h[P]===0;P++,x=x.sqr());if(++P<h.length)for(var I=x.sqr();P<h.length;P++,I=I.sqr())h[P]!==0&&(x=x.mul(I));return x},n.prototype.iushln=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26,P=67108863>>>26-h<<26-h,I;if(h!==0){var C=0;for(I=0;I<this.length;I++){var G=this.words[I]&P,V=(this.words[I]|0)-G<<h;this.words[I]=V|C,C=G>>>26-h}C&&(this.words[I]=C,this.length++)}if(x!==0){for(I=this.length-1;I>=0;I--)this.words[I+x]=this.words[I];for(I=0;I<x;I++)this.words[I]=0;this.length+=x}return this._strip()},n.prototype.ishln=function(s){return R(this.negative===0),this.iushln(s)},n.prototype.iushrn=function(s,h,x){R(typeof s=="number"&&s>=0);var P;h?P=(h-h%26)/26:P=0;var I=s%26,C=Math.min((s-I)/26,this.length),G=67108863^67108863>>>I<<I,V=x;if(P-=C,P=Math.max(0,P),V){for(var _=0;_<C;_++)V.words[_]=this.words[_];V.length=C}if(C!==0)if(this.length>C)for(this.length-=C,_=0;_<this.length;_++)this.words[_]=this.words[_+C];else this.words[0]=0,this.length=1;var Y=0;for(_=this.length-1;_>=0&&(Y!==0||_>=P);_--){var pe=this.words[_]|0;this.words[_]=Y<<26-I|pe>>>I,Y=pe&G}return V&&Y!==0&&(V.words[V.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(s,h,x){return R(this.negative===0),this.iushrn(s,h,x)},n.prototype.shln=function(s){return this.clone().ishln(s)},n.prototype.ushln=function(s){return this.clone().iushln(s)},n.prototype.shrn=function(s){return this.clone().ishrn(s)},n.prototype.ushrn=function(s){return this.clone().iushrn(s)},n.prototype.testn=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26,P=1<<h;if(this.length<=x)return!1;var I=this.words[x];return!!(I&P)},n.prototype.imaskn=function(s){R(typeof s=="number"&&s>=0);var h=s%26,x=(s-h)/26;if(R(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(h!==0&&x++,this.length=Math.min(x,this.length),h!==0){var P=67108863^67108863>>>h<<h;this.words[this.length-1]&=P}return this._strip()},n.prototype.maskn=function(s){return this.clone().imaskn(s)},n.prototype.iaddn=function(s){return R(typeof s=="number"),R(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},n.prototype._iaddn=function(s){this.words[0]+=s;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},n.prototype.isubn=function(s){if(R(typeof s=="number"),R(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},n.prototype.addn=function(s){return this.clone().iaddn(s)},n.prototype.subn=function(s){return this.clone().isubn(s)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(s,h,x){var P=s.length+x,I;this._expand(P);var C,G=0;for(I=0;I<s.length;I++){C=(this.words[I+x]|0)+G;var V=(s.words[I]|0)*h;C-=V&67108863,G=(C>>26)-(V/67108864|0),this.words[I+x]=C&67108863}for(;I<this.length-x;I++)C=(this.words[I+x]|0)+G,G=C>>26,this.words[I+x]=C&67108863;if(G===0)return this._strip();for(R(G===-1),G=0,I=0;I<this.length;I++)C=-(this.words[I]|0)+G,G=C>>26,this.words[I]=C&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(s,h){var x=this.length-s.length,P=this.clone(),I=s,C=I.words[I.length-1]|0,G=this._countBits(C);x=26-G,x!==0&&(I=I.ushln(x),P.iushln(x),C=I.words[I.length-1]|0);var V=P.length-I.length,_;if(h!=="mod"){_=new n(null),_.length=V+1,_.words=new Array(_.length);for(var Y=0;Y<_.length;Y++)_.words[Y]=0}var pe=P.clone()._ishlnsubmul(I,1,V);pe.negative===0&&(P=pe,_&&(_.words[V]=1));for(var ye=V-1;ye>=0;ye--){var _e=(P.words[I.length+ye]|0)*67108864+(P.words[I.length+ye-1]|0);for(_e=Math.min(_e/C|0,67108863),P._ishlnsubmul(I,_e,ye);P.negative!==0;)_e--,P.negative=0,P._ishlnsubmul(I,1,ye),P.isZero()||(P.negative^=1);_&&(_.words[ye]=_e)}return _&&_._strip(),P._strip(),h!=="div"&&x!==0&&P.iushrn(x),{div:_||null,mod:P}},n.prototype.divmod=function(s,h,x){if(R(!s.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var P,I,C;return this.negative!==0&&s.negative===0?(C=this.neg().divmod(s,h),h!=="mod"&&(P=C.div.neg()),h!=="div"&&(I=C.mod.neg(),x&&I.negative!==0&&I.iadd(s)),{div:P,mod:I}):this.negative===0&&s.negative!==0?(C=this.divmod(s.neg(),h),h!=="mod"&&(P=C.div.neg()),{div:P,mod:C.mod}):(this.negative&s.negative)!=0?(C=this.neg().divmod(s.neg(),h),h!=="div"&&(I=C.mod.neg(),x&&I.negative!==0&&I.isub(s)),{div:C.div,mod:I}):s.length>this.length||this.cmp(s)<0?{div:new n(0),mod:this}:s.length===1?h==="div"?{div:this.divn(s.words[0]),mod:null}:h==="mod"?{div:null,mod:new n(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new n(this.modrn(s.words[0]))}:this._wordDiv(s,h)},n.prototype.div=function(s){return this.divmod(s,"div",!1).div},n.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},n.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},n.prototype.divRound=function(s){var h=this.divmod(s);if(h.mod.isZero())return h.div;var x=h.div.negative!==0?h.mod.isub(s):h.mod,P=s.ushrn(1),I=s.andln(1),C=x.cmp(P);return C<0||I===1&&C===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},n.prototype.modrn=function(s){var h=s<0;h&&(s=-s),R(s<=67108863);for(var x=(1<<26)%s,P=0,I=this.length-1;I>=0;I--)P=(x*P+(this.words[I]|0))%s;return h?-P:P},n.prototype.modn=function(s){return this.modrn(s)},n.prototype.idivn=function(s){var h=s<0;h&&(s=-s),R(s<=67108863);for(var x=0,P=this.length-1;P>=0;P--){var I=(this.words[P]|0)+x*67108864;this.words[P]=I/s|0,x=I%s}return this._strip(),h?this.ineg():this},n.prototype.divn=function(s){return this.clone().idivn(s)},n.prototype.egcd=function(s){R(s.negative===0),R(!s.isZero());var h=this,x=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var P=new n(1),I=new n(0),C=new n(0),G=new n(1),V=0;h.isEven()&&x.isEven();)h.iushrn(1),x.iushrn(1),++V;for(var _=x.clone(),Y=h.clone();!h.isZero();){for(var pe=0,ye=1;(h.words[0]&ye)==0&&pe<26;++pe,ye<<=1);if(pe>0)for(h.iushrn(pe);pe-- >0;)(P.isOdd()||I.isOdd())&&(P.iadd(_),I.isub(Y)),P.iushrn(1),I.iushrn(1);for(var _e=0,X=1;(x.words[0]&X)==0&&_e<26;++_e,X<<=1);if(_e>0)for(x.iushrn(_e);_e-- >0;)(C.isOdd()||G.isOdd())&&(C.iadd(_),G.isub(Y)),C.iushrn(1),G.iushrn(1);h.cmp(x)>=0?(h.isub(x),P.isub(C),I.isub(G)):(x.isub(h),C.isub(P),G.isub(I))}return{a:C,b:G,gcd:x.iushln(V)}},n.prototype._invmp=function(s){R(s.negative===0),R(!s.isZero());var h=this,x=s.clone();h.negative!==0?h=h.umod(s):h=h.clone();for(var P=new n(1),I=new n(0),C=x.clone();h.cmpn(1)>0&&x.cmpn(1)>0;){for(var G=0,V=1;(h.words[0]&V)==0&&G<26;++G,V<<=1);if(G>0)for(h.iushrn(G);G-- >0;)P.isOdd()&&P.iadd(C),P.iushrn(1);for(var _=0,Y=1;(x.words[0]&Y)==0&&_<26;++_,Y<<=1);if(_>0)for(x.iushrn(_);_-- >0;)I.isOdd()&&I.iadd(C),I.iushrn(1);h.cmp(x)>=0?(h.isub(x),P.isub(I)):(x.isub(h),I.isub(P))}var pe;return h.cmpn(1)===0?pe=P:pe=I,pe.cmpn(0)<0&&pe.iadd(s),pe},n.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var h=this.clone(),x=s.clone();h.negative=0,x.negative=0;for(var P=0;h.isEven()&&x.isEven();P++)h.iushrn(1),x.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;x.isEven();)x.iushrn(1);var I=h.cmp(x);if(I<0){var C=h;h=x,x=C}else if(I===0||x.cmpn(1)===0)break;h.isub(x)}while(!0);return x.iushln(P)},n.prototype.invm=function(s){return this.egcd(s).a.umod(s)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(s){return this.words[0]&s},n.prototype.bincn=function(s){R(typeof s=="number");var h=s%26,x=(s-h)/26,P=1<<h;if(this.length<=x)return this._expand(x+1),this.words[x]|=P,this;for(var I=P,C=x;I!==0&&C<this.length;C++){var G=this.words[C]|0;G+=I,I=G>>>26,G&=67108863,this.words[C]=G}return I!==0&&(this.words[C]=I,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(s){var h=s<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var x;if(this.length>1)x=1;else{h&&(s=-s),R(s<=67108863,"Number is too big");var P=this.words[0]|0;x=P===s?0:P<s?-1:1}return this.negative!==0?-x|0:x},n.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var h=this.ucmp(s);return this.negative!==0?-h|0:h},n.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var h=0,x=this.length-1;x>=0;x--){var P=this.words[x]|0,I=s.words[x]|0;if(P!==I){P<I?h=-1:P>I&&(h=1);break}}return h},n.prototype.gtn=function(s){return this.cmpn(s)===1},n.prototype.gt=function(s){return this.cmp(s)===1},n.prototype.gten=function(s){return this.cmpn(s)>=0},n.prototype.gte=function(s){return this.cmp(s)>=0},n.prototype.ltn=function(s){return this.cmpn(s)===-1},n.prototype.lt=function(s){return this.cmp(s)===-1},n.prototype.lten=function(s){return this.cmpn(s)<=0},n.prototype.lte=function(s){return this.cmp(s)<=0},n.prototype.eqn=function(s){return this.cmpn(s)===0},n.prototype.eq=function(s){return this.cmp(s)===0},n.red=function(s){return new A(s)},n.prototype.toRed=function(s){return R(!this.red,"Already a number in reduction context"),R(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},n.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(s){return this.red=s,this},n.prototype.forceRed=function(s){return R(!this.red,"Already a number in reduction context"),this._forceRed(s)},n.prototype.redAdd=function(s){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},n.prototype.redIAdd=function(s){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},n.prototype.redSub=function(s){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},n.prototype.redISub=function(s){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},n.prototype.redShl=function(s){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},n.prototype.redMul=function(s){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},n.prototype.redIMul=function(s){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},n.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(s){return R(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var ee={k256:null,p224:null,p192:null,p25519:null};function te(M,s){this.name=M,this.p=new n(s,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}te.prototype._tmp=function(){var s=new n(null);return s.words=new Array(Math.ceil(this.n/13)),s},te.prototype.ireduce=function(s){var h=s,x;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),x=h.bitLength();while(x>this.n);var P=x<this.n?-1:h.ucmp(this.p);return P===0?(h.words[0]=0,h.length=1):P>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},te.prototype.split=function(s,h){s.iushrn(this.n,0,h)},te.prototype.imulK=function(s){return s.imul(this.k)};function ie(){te.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}y(ie,te),ie.prototype.split=function(s,h){for(var x=4194303,P=Math.min(s.length,9),I=0;I<P;I++)h.words[I]=s.words[I];if(h.length=P,s.length<=9){s.words[0]=0,s.length=1;return}var C=s.words[9];for(h.words[h.length++]=C&x,I=10;I<s.length;I++){var G=s.words[I]|0;s.words[I-10]=(G&x)<<4|C>>>22,C=G}C>>>=22,s.words[I-10]=C,C===0&&s.length>10?s.length-=10:s.length-=9},ie.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var h=0,x=0;x<s.length;x++){var P=s.words[x]|0;h+=P*977,s.words[x]=h&67108863,h=P*64+(h/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function se(){te.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}y(se,te);function le(){te.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}y(le,te);function z(){te.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}y(z,te),z.prototype.imulK=function(s){for(var h=0,x=0;x<s.length;x++){var P=(s.words[x]|0)*19+h,I=P&67108863;P>>>=26,s.words[x]=I,h=P}return h!==0&&(s.words[s.length++]=h),s},n._prime=function(s){if(ee[s])return ee[s];var h;if(s==="k256")h=new ie;else if(s==="p224")h=new se;else if(s==="p192")h=new le;else if(s==="p25519")h=new z;else throw new Error("Unknown prime "+s);return ee[s]=h,h};function A(M){if(typeof M=="string"){var s=n._prime(M);this.m=s.p,this.prime=s}else R(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}A.prototype._verify1=function(s){R(s.negative===0,"red works only with positives"),R(s.red,"red works only with red numbers")},A.prototype._verify2=function(s,h){R((s.negative|h.negative)==0,"red works only with positives"),R(s.red&&s.red===h.red,"red works only with red numbers")},A.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(c(s,s.umod(this.m)._forceRed(this)),s)},A.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},A.prototype.add=function(s,h){this._verify2(s,h);var x=s.add(h);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},A.prototype.iadd=function(s,h){this._verify2(s,h);var x=s.iadd(h);return x.cmp(this.m)>=0&&x.isub(this.m),x},A.prototype.sub=function(s,h){this._verify2(s,h);var x=s.sub(h);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},A.prototype.isub=function(s,h){this._verify2(s,h);var x=s.isub(h);return x.cmpn(0)<0&&x.iadd(this.m),x},A.prototype.shl=function(s,h){return this._verify1(s),this.imod(s.ushln(h))},A.prototype.imul=function(s,h){return this._verify2(s,h),this.imod(s.imul(h))},A.prototype.mul=function(s,h){return this._verify2(s,h),this.imod(s.mul(h))},A.prototype.isqr=function(s){return this.imul(s,s.clone())},A.prototype.sqr=function(s){return this.mul(s,s)},A.prototype.sqrt=function(s){if(s.isZero())return s.clone();var h=this.m.andln(3);if(R(h%2==1),h===3){var x=this.m.add(new n(1)).iushrn(2);return this.pow(s,x)}for(var P=this.m.subn(1),I=0;!P.isZero()&&P.andln(1)===0;)I++,P.iushrn(1);R(!P.isZero());var C=new n(1).toRed(this),G=C.redNeg(),V=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new n(2*_*_).toRed(this);this.pow(_,V).cmp(G)!==0;)_.redIAdd(G);for(var Y=this.pow(_,P),pe=this.pow(s,P.addn(1).iushrn(1)),ye=this.pow(s,P),_e=I;ye.cmp(C)!==0;){for(var X=ye,J=0;X.cmp(C)!==0;J++)X=X.redSqr();R(J<_e);var oe=this.pow(Y,new n(1).iushln(_e-J-1));pe=pe.redMul(oe),Y=oe.redSqr(),ye=ye.redMul(Y),_e=J}return pe},A.prototype.invm=function(s){var h=s._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},A.prototype.pow=function(s,h){if(h.isZero())return new n(1).toRed(this);if(h.cmpn(1)===0)return s.clone();var x=4,P=new Array(1<<x);P[0]=new n(1).toRed(this),P[1]=s;for(var I=2;I<P.length;I++)P[I]=this.mul(P[I-1],s);var C=P[0],G=0,V=0,_=h.bitLength()%26;for(_===0&&(_=26),I=h.length-1;I>=0;I--){for(var Y=h.words[I],pe=_-1;pe>=0;pe--){var ye=Y>>pe&1;if(C!==P[0]&&(C=this.sqr(C)),ye===0&&G===0){V=0;continue}G<<=1,G|=ye,V++,!(V!==x&&(I!==0||pe!==0))&&(C=this.mul(C,P[G]),V=0,G=0)}_=26}return C},A.prototype.convertTo=function(s){var h=s.umod(this.m);return h===s?h.clone():h},A.prototype.convertFrom=function(s){var h=s.clone();return h.red=null,h},n.mont=function(s){return new U(s)};function U(M){A.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y(U,A),U.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},U.prototype.convertFrom=function(s){var h=this.imod(s.mul(this.rinv));return h.red=null,h},U.prototype.imul=function(s,h){if(s.isZero()||h.isZero())return s.words[0]=0,s.length=1,s;var x=s.imul(h),P=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=x.isub(P).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},U.prototype.mul=function(s,h){if(s.isZero()||h.isZero())return new n(0)._forceRed(this);var x=s.mul(h),P=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=x.isub(P).iushrn(this.shift),C=I;return I.cmp(this.m)>=0?C=I.isub(this.m):I.cmpn(0)<0&&(C=I.iadd(this.m)),C._forceRed(this)},U.prototype.invm=function(s){var h=this.imod(s._invmp(this.m).mul(this.r2));return h._forceRed(this)}}(v,this)},4419:v=>{"use strict";function W(u,a){u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.__proto__=a}var k={};function E(u,a,f){f||(f=Error);function b(l,T,d){return typeof a=="string"?a:a(l,T,d)}var c=function(l){W(T,l);function T(d,m,g){return l.call(this,b(d,m,g))||this}return T}(f);c.prototype.name=f.name,c.prototype.code=u,k[u]=c}function O(u,a){if(Array.isArray(u)){var f=u.length;return u=u.map(function(b){return String(b)}),f>2?"one of ".concat(a," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(a," ").concat(u[0]," or ").concat(u[1]):"of ".concat(a," ").concat(u[0])}else return"of ".concat(a," ").concat(String(u))}function R(u,a,f){return u.substr(!f||f<0?0:+f,a.length)===a}function y(u,a,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-a.length,f)===a}function n(u,a,f){return typeof f!="number"&&(f=0),f+a.length>u.length?!1:u.indexOf(a,f)!==-1}E("ERR_INVALID_OPT_VALUE",function(u,a){return'The value "'+a+'" is invalid for option "'+u+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(u,a,f){var b;typeof a=="string"&&R(a,"not ")?(b="must not be",a=a.replace(/^not /,"")):b="must be";var c;if(y(u," argument"))c="The ".concat(u," ").concat(b," ").concat(O(a,"type"));else{var l=n(u,".")?"property":"argument";c='The "'.concat(u,'" ').concat(l," ").concat(b," ").concat(O(a,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),v.exports.q=k},4390:(v,W,k)=>{"use strict";var E=Object.keys||function(c){var l=[];for(var T in c)l.push(T);return l};v.exports=a;var O=k(4960),R=k(2010);k(5717)(a,O);for(var y=E(R.prototype),n=0;n<y.length;n++){var u=y[n];a.prototype[u]||(a.prototype[u]=R.prototype[u])}function a(c){if(!(this instanceof a))return new a(c);O.call(this,c),R.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(b,this)}function b(c){c.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},1294:(v,W,k)=>{"use strict";v.exports=O;var E=k(3912);k(5717)(O,E);function O(R){if(!(this instanceof O))return new O(R);E.call(this,R)}O.prototype._transform=function(R,y,n){n(null,R)}},4960:(v,W,k)=>{"use strict";v.exports=z;var E;z.ReadableState=le;var O=k(7187).EventEmitter,R=function(q,ae){return q.listeners(ae).length},y=k(9819),n=k(8764).Buffer,u=k.g.Uint8Array||function(){};function a(B){return n.from(B)}function f(B){return n.isBuffer(B)||B instanceof u}var b=k(6353),c;b&&b.debuglog?c=b.debuglog("stream"):c=function(){};var l=k(6633),T=k(5997),d=k(898),m=d.getHighWaterMark,g=k(4419).q,S=g.ERR_INVALID_ARG_TYPE,D=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,F=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,H,Q,ee;k(5717)(z,y);var te=T.errorOrDestroy,ie=["error","close","destroy","pause","resume"];function se(B,q,ae){if(typeof B.prependListener=="function")return B.prependListener(q,ae);!B._events||!B._events[q]?B.on(q,ae):Array.isArray(B._events[q])?B._events[q].unshift(ae):B._events[q]=[ae,B._events[q]]}function le(B,q,ae){E=E||k(4390),B=B||{},typeof ae!="boolean"&&(ae=q instanceof E),this.objectMode=!!B.objectMode,ae&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=m(this,B,"readableHighWaterMark",ae),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(H||(H=k(2221).s),this.decoder=new H(B.encoding),this.encoding=B.encoding)}function z(B){if(E=E||k(4390),!(this instanceof z))return new z(B);var q=this instanceof E;this._readableState=new le(B,this,q),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),y.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){!this._readableState||(this._readableState.destroyed=q)}}),z.prototype.destroy=T.destroy,z.prototype._undestroy=T.undestroy,z.prototype._destroy=function(B,q){q(B)},z.prototype.push=function(B,q){var ae=this._readableState,fe;return ae.objectMode?fe=!0:typeof B=="string"&&(q=q||ae.defaultEncoding,q!==ae.encoding&&(B=n.from(B,q),q=""),fe=!0),A(this,B,q,!1,fe)},z.prototype.unshift=function(B){return A(this,B,null,!0,!1)};function A(B,q,ae,fe,Ae){c("readableAddChunk",q);var ve=B._readableState;if(q===null)ve.reading=!1,P(B,ve);else{var Se;if(Ae||(Se=M(ve,q)),Se)te(B,Se);else if(ve.objectMode||q&&q.length>0)if(typeof q!="string"&&!ve.objectMode&&Object.getPrototypeOf(q)!==n.prototype&&(q=a(q)),fe)ve.endEmitted?te(B,new F):U(B,ve,q,!0);else if(ve.ended)te(B,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!ae?(q=ve.decoder.write(q),ve.objectMode||q.length!==0?U(B,ve,q,!1):G(B,ve)):U(B,ve,q,!1)}else fe||(ve.reading=!1,G(B,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function U(B,q,ae,fe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,B.emit("data",ae)):(q.length+=q.objectMode?1:ae.length,fe?q.buffer.unshift(ae):q.buffer.push(ae),q.needReadable&&I(B)),G(B,q)}function M(B,q){var ae;return!f(q)&&typeof q!="string"&&q!==void 0&&!B.objectMode&&(ae=new S("chunk",["string","Buffer","Uint8Array"],q)),ae}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(B){H||(H=k(2221).s);var q=new H(B);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,fe="";ae!==null;)fe+=q.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var s=1073741824;function h(B){return B>=s?B=s:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function x(B,q){return B<=0||q.length===0&&q.ended?0:q.objectMode?1:B!==B?q.flowing&&q.length?q.buffer.head.data.length:q.length:(B>q.highWaterMark&&(q.highWaterMark=h(B)),B<=q.length?B:q.ended?q.length:(q.needReadable=!0,0))}z.prototype.read=function(B){c("read",B),B=parseInt(B,10);var q=this._readableState,ae=B;if(B!==0&&(q.emittedReadable=!1),B===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return c("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?oe(this):I(this),null;if(B=x(B,q),B===0&&q.ended)return q.length===0&&oe(this),null;var fe=q.needReadable;c("need readable",fe),(q.length===0||q.length-B<q.highWaterMark)&&(fe=!0,c("length less than watermark",fe)),q.ended||q.reading?(fe=!1,c("reading or ended",fe)):fe&&(c("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(B=x(ae,q)));var Ae;return B>0?Ae=J(B,q):Ae=null,Ae===null?(q.needReadable=q.length<=q.highWaterMark,B=0):(q.length-=B,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),ae!==B&&q.ended&&oe(this)),Ae!==null&&this.emit("data",Ae),Ae};function P(B,q){if(c("onEofChunk"),!q.ended){if(q.decoder){var ae=q.decoder.end();ae&&ae.length&&(q.buffer.push(ae),q.length+=q.objectMode?1:ae.length)}q.ended=!0,q.sync?I(B):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,C(B)))}}function I(B){var q=B._readableState;c("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(c("emitReadable",q.flowing),q.emittedReadable=!0,process.nextTick(C,B))}function C(B){var q=B._readableState;c("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(B.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,X(B)}function G(B,q){q.readingMore||(q.readingMore=!0,process.nextTick(V,B,q))}function V(B,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var ae=q.length;if(c("maybeReadMore read 0"),B.read(0),ae===q.length)break}q.readingMore=!1}z.prototype._read=function(B){te(this,new w("_read()"))},z.prototype.pipe=function(B,q){var ae=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=B;break;case 1:fe.pipes=[fe.pipes,B];break;default:fe.pipes.push(B);break}fe.pipesCount+=1,c("pipe count=%d opts=%j",fe.pipesCount,q);var Ae=(!q||q.end!==!1)&&B!==process.stdout&&B!==process.stderr,ve=Ae?nt:j;fe.endEmitted?process.nextTick(ve):ae.once("end",ve),B.on("unpipe",Se);function Se(Z,ue){c("onunpipe"),Z===ae&&ue&&ue.hasUnpiped===!1&&(ue.hasUnpiped=!0,ft())}function nt(){c("onend"),B.end()}var Ne=_(ae);B.on("drain",Ne);var xe=!1;function ft(){c("cleanup"),B.removeListener("close",pt),B.removeListener("finish",ne),B.removeListener("drain",Ne),B.removeListener("error",Ie),B.removeListener("unpipe",Se),ae.removeListener("end",nt),ae.removeListener("end",j),ae.removeListener("data",Be),xe=!0,fe.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ne()}ae.on("data",Be);function Be(Z){c("ondata");var ue=B.write(Z);c("dest.write",ue),ue===!1&&((fe.pipesCount===1&&fe.pipes===B||fe.pipesCount>1&&me(fe.pipes,B)!==-1)&&!xe&&(c("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ae.pause())}function Ie(Z){c("onerror",Z),j(),B.removeListener("error",Ie),R(B,"error")===0&&te(B,Z)}se(B,"error",Ie);function pt(){B.removeListener("finish",ne),j()}B.once("close",pt);function ne(){c("onfinish"),B.removeListener("close",pt),j()}B.once("finish",ne);function j(){c("unpipe"),ae.unpipe(B)}return B.emit("pipe",ae),fe.flowing||(c("pipe resume"),ae.resume()),B};function _(B){return function(){var ae=B._readableState;c("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&R(B,"data")&&(ae.flowing=!0,X(B))}}z.prototype.unpipe=function(B){var q=this._readableState,ae={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return B&&B!==q.pipes?this:(B||(B=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,B&&B.emit("unpipe",this,ae),this);if(!B){var fe=q.pipes,Ae=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var ve=0;ve<Ae;ve++)fe[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=me(q.pipes,B);return Se===-1?this:(q.pipes.splice(Se,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),B.emit("unpipe",this,ae),this)},z.prototype.on=function(B,q){var ae=y.prototype.on.call(this,B,q),fe=this._readableState;return B==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):B==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,c("on readable",fe.length,fe.reading),fe.length?I(this):fe.reading||process.nextTick(pe,this)),ae},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(B,q){var ae=y.prototype.removeListener.call(this,B,q);return B==="readable"&&process.nextTick(Y,this),ae},z.prototype.removeAllListeners=function(B){var q=y.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&process.nextTick(Y,this),q};function Y(B){var q=B._readableState;q.readableListening=B.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:B.listenerCount("data")>0&&B.resume()}function pe(B){c("readable nexttick read 0"),B.read(0)}z.prototype.resume=function(){var B=this._readableState;return B.flowing||(c("resume"),B.flowing=!B.readableListening,ye(this,B)),B.paused=!1,this};function ye(B,q){q.resumeScheduled||(q.resumeScheduled=!0,process.nextTick(_e,B,q))}function _e(B,q){c("resume",q.reading),q.reading||B.read(0),q.resumeScheduled=!1,B.emit("resume"),X(B),q.flowing&&!q.reading&&B.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var q=B._readableState;for(c("flow",q.flowing);q.flowing&&B.read()!==null;);}z.prototype.wrap=function(B){var q=this,ae=this._readableState,fe=!1;B.on("end",function(){if(c("wrapped end"),ae.decoder&&!ae.ended){var Se=ae.decoder.end();Se&&Se.length&&q.push(Se)}q.push(null)}),B.on("data",function(Se){if(c("wrapped data"),ae.decoder&&(Se=ae.decoder.write(Se)),!(ae.objectMode&&Se==null)&&!(!ae.objectMode&&(!Se||!Se.length))){var nt=q.push(Se);nt||(fe=!0,B.pause())}});for(var Ae in B)this[Ae]===void 0&&typeof B[Ae]=="function"&&(this[Ae]=function(nt){return function(){return B[nt].apply(B,arguments)}}(Ae));for(var ve=0;ve<ie.length;ve++)B.on(ie[ve],this.emit.bind(this,ie[ve]));return this._read=function(Se){c("wrapped _read",Se),fe&&(fe=!1,B.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return Q===void 0&&(Q=k(4887)),Q(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),z._fromList=J,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function J(B,q){if(q.length===0)return null;var ae;return q.objectMode?ae=q.buffer.shift():!B||B>=q.length?(q.decoder?ae=q.buffer.join(""):q.buffer.length===1?ae=q.buffer.first():ae=q.buffer.concat(q.length),q.buffer.clear()):ae=q.buffer.consume(B,q.decoder),ae}function oe(B){var q=B._readableState;c("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,process.nextTick(be,q,B))}function be(B,q){if(c("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,q.readable=!1,q.emit("end"),B.autoDestroy)){var ae=q._writableState;(!ae||ae.autoDestroy&&ae.finished)&&q.destroy()}}typeof Symbol=="function"&&(z.from=function(B,q){return ee===void 0&&(ee=k(8859)),ee(z,B,q)});function me(B,q){for(var ae=0,fe=B.length;ae<fe;ae++)if(B[ae]===q)return ae;return-1}},3912:(v,W,k)=>{"use strict";v.exports=f;var E=k(4419).q,O=E.ERR_METHOD_NOT_IMPLEMENTED,R=E.ERR_MULTIPLE_CALLBACK,y=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=E.ERR_TRANSFORM_WITH_LENGTH_0,u=k(4390);k(5717)(f,u);function a(l,T){var d=this._transformState;d.transforming=!1;var m=d.writecb;if(m===null)return this.emit("error",new R);d.writechunk=null,d.writecb=null,T!=null&&this.push(T),m(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function f(l){if(!(this instanceof f))return new f(l);u.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",b)}function b(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,d){c(l,T,d)}):c(this,null,null)}f.prototype.push=function(l,T){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,T)},f.prototype._transform=function(l,T,d){d(new O("_transform()"))},f.prototype._write=function(l,T,d){var m=this._transformState;if(m.writecb=d,m.writechunk=l,m.writeencoding=T,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},f.prototype._read=function(l){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},f.prototype._destroy=function(l,T){u.prototype._destroy.call(this,l,function(d){T(d)})};function c(l,T,d){if(T)return l.emit("error",T);if(d!=null&&l.push(d),l._writableState.length)throw new n;if(l._transformState.transforming)throw new y;return l.push(null)}},2010:(v,W,k)=>{"use strict";v.exports=le;function E(X,J,oe){this.chunk=X,this.encoding=J,this.callback=oe,this.next=null}function O(X){var J=this;this.next=null,this.entry=null,this.finish=function(){_e(J,X)}}var R;le.WritableState=ie;var y={deprecate:k(4927)},n=k(9819),u=k(8764).Buffer,a=k.g.Uint8Array||function(){};function f(X){return u.from(X)}function b(X){return u.isBuffer(X)||X instanceof a}var c=k(5997),l=k(898),T=l.getHighWaterMark,d=k(4419).q,m=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,S=d.ERR_MULTIPLE_CALLBACK,D=d.ERR_STREAM_CANNOT_PIPE,w=d.ERR_STREAM_DESTROYED,F=d.ERR_STREAM_NULL_VALUES,H=d.ERR_STREAM_WRITE_AFTER_END,Q=d.ERR_UNKNOWN_ENCODING,ee=c.errorOrDestroy;k(5717)(le,n);function te(){}function ie(X,J,oe){R=R||k(4390),X=X||{},typeof oe!="boolean"&&(oe=J instanceof R),this.objectMode=!!X.objectMode,oe&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=T(this,X,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=X.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){P(J,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}ie.prototype.getBuffer=function(){for(var J=this.bufferedRequest,oe=[];J;)oe.push(J),J=J.next;return oe},function(){try{Object.defineProperty(ie.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(X){}}();var se;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(se=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(J){return se.call(this,J)?!0:this!==le?!1:J&&J._writableState instanceof ie}})):se=function(J){return J instanceof this};function le(X){R=R||k(4390);var J=this instanceof R;if(!J&&!se.call(le,this))return new le(X);this._writableState=new ie(X,this,J),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),n.call(this)}le.prototype.pipe=function(){ee(this,new D)};function z(X,J){var oe=new H;ee(X,oe),process.nextTick(J,oe)}function A(X,J,oe,be){var me;return oe===null?me=new F:typeof oe!="string"&&!J.objectMode&&(me=new m("chunk",["string","Buffer"],oe)),me?(ee(X,me),process.nextTick(be,me),!1):!0}le.prototype.write=function(X,J,oe){var be=this._writableState,me=!1,B=!be.objectMode&&b(X);return B&&!u.isBuffer(X)&&(X=f(X)),typeof J=="function"&&(oe=J,J=null),B?J="buffer":J||(J=be.defaultEncoding),typeof oe!="function"&&(oe=te),be.ending?z(this,oe):(B||A(this,be,X,oe))&&(be.pendingcb++,me=M(this,be,B,X,J,oe)),me},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(this,X))},le.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new Q(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(X,J,oe){return!X.objectMode&&X.decodeStrings!==!1&&typeof J=="string"&&(J=u.from(J,oe)),J}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(X,J,oe,be,me,B){if(!oe){var q=U(J,be,me);be!==q&&(oe=!0,me="buffer",be=q)}var ae=J.objectMode?1:be.length;J.length+=ae;var fe=J.length<J.highWaterMark;if(fe||(J.needDrain=!0),J.writing||J.corked){var Ae=J.lastBufferedRequest;J.lastBufferedRequest={chunk:be,encoding:me,isBuf:oe,callback:B,next:null},Ae?Ae.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else s(X,J,!1,ae,be,me,B);return fe}function s(X,J,oe,be,me,B,q){J.writelen=be,J.writecb=q,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new w("write")):oe?X._writev(me,J.onwrite):X._write(me,B,J.onwrite),J.sync=!1}function h(X,J,oe,be,me){--J.pendingcb,oe?(process.nextTick(me,be),process.nextTick(pe,X,J),X._writableState.errorEmitted=!0,ee(X,be)):(me(be),X._writableState.errorEmitted=!0,ee(X,be),pe(X,J))}function x(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function P(X,J){var oe=X._writableState,be=oe.sync,me=oe.writecb;if(typeof me!="function")throw new S;if(x(oe),J)h(X,oe,be,J,me);else{var B=V(oe)||X.destroyed;!B&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&G(X,oe),be?process.nextTick(I,X,oe,B,me):I(X,oe,B,me)}}function I(X,J,oe,be){oe||C(X,J),J.pendingcb--,be(),pe(X,J)}function C(X,J){J.length===0&&J.needDrain&&(J.needDrain=!1,X.emit("drain"))}function G(X,J){J.bufferProcessing=!0;var oe=J.bufferedRequest;if(X._writev&&oe&&oe.next){var be=J.bufferedRequestCount,me=new Array(be),B=J.corkedRequestsFree;B.entry=oe;for(var q=0,ae=!0;oe;)me[q]=oe,oe.isBuf||(ae=!1),oe=oe.next,q+=1;me.allBuffers=ae,s(X,J,!0,J.length,me,"",B.finish),J.pendingcb++,J.lastBufferedRequest=null,B.next?(J.corkedRequestsFree=B.next,B.next=null):J.corkedRequestsFree=new O(J),J.bufferedRequestCount=0}else{for(;oe;){var fe=oe.chunk,Ae=oe.encoding,ve=oe.callback,Se=J.objectMode?1:fe.length;if(s(X,J,!1,Se,fe,Ae,ve),oe=oe.next,J.bufferedRequestCount--,J.writing)break}oe===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=oe,J.bufferProcessing=!1}le.prototype._write=function(X,J,oe){oe(new g("_write()"))},le.prototype._writev=null,le.prototype.end=function(X,J,oe){var be=this._writableState;return typeof X=="function"?(oe=X,X=null,J=null):typeof J=="function"&&(oe=J,J=null),X!=null&&this.write(X,J),be.corked&&(be.corked=1,this.uncork()),be.ending||ye(this,be,oe),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function _(X,J){X._final(function(oe){J.pendingcb--,oe&&ee(X,oe),J.prefinished=!0,X.emit("prefinish"),pe(X,J)})}function Y(X,J){!J.prefinished&&!J.finalCalled&&(typeof X._final=="function"&&!J.destroyed?(J.pendingcb++,J.finalCalled=!0,process.nextTick(_,X,J)):(J.prefinished=!0,X.emit("prefinish")))}function pe(X,J){var oe=V(J);if(oe&&(Y(X,J),J.pendingcb===0&&(J.finished=!0,X.emit("finish"),J.autoDestroy))){var be=X._readableState;(!be||be.autoDestroy&&be.endEmitted)&&X.destroy()}return oe}function ye(X,J,oe){J.ending=!0,pe(X,J),oe&&(J.finished?process.nextTick(oe):X.once("finish",oe)),J.ended=!0,X.writable=!1}function _e(X,J,oe){var be=X.entry;for(X.entry=null;be;){var me=be.callback;J.pendingcb--,me(oe),be=be.next}J.corkedRequestsFree.next=X}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){!this._writableState||(this._writableState.destroyed=J)}}),le.prototype.destroy=c.destroy,le.prototype._undestroy=c.undestroy,le.prototype._destroy=function(X,J){J(X)}},4887:(v,W,k)=>{"use strict";var E;function O(w,F,H){return F in w?Object.defineProperty(w,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):w[F]=H,w}var R=k(5800),y=Symbol("lastResolve"),n=Symbol("lastReject"),u=Symbol("error"),a=Symbol("ended"),f=Symbol("lastPromise"),b=Symbol("handlePromise"),c=Symbol("stream");function l(w,F){return{value:w,done:F}}function T(w){var F=w[y];if(F!==null){var H=w[c].read();H!==null&&(w[f]=null,w[y]=null,w[n]=null,F(l(H,!1)))}}function d(w){process.nextTick(T,w)}function m(w,F){return function(H,Q){w.then(function(){if(F[a]){H(l(void 0,!0));return}F[b](H,Q)},Q)}}var g=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((E={get stream(){return this[c]},next:function(){var F=this,H=this[u];if(H!==null)return Promise.reject(H);if(this[a])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(ie,se){process.nextTick(function(){F[u]?se(F[u]):ie(l(void 0,!0))})});var Q=this[f],ee;if(Q)ee=new Promise(m(Q,this));else{var te=this[c].read();if(te!==null)return Promise.resolve(l(te,!1));ee=new Promise(this[b])}return this[f]=ee,ee}},O(E,Symbol.asyncIterator,function(){return this}),O(E,"return",function(){var F=this;return new Promise(function(H,Q){F[c].destroy(null,function(ee){if(ee){Q(ee);return}H(l(void 0,!0))})})}),E),g),D=function(F){var H,Q=Object.create(S,(H={},O(H,c,{value:F,writable:!0}),O(H,y,{value:null,writable:!0}),O(H,n,{value:null,writable:!0}),O(H,u,{value:null,writable:!0}),O(H,a,{value:F._readableState.endEmitted,writable:!0}),O(H,b,{value:function(te,ie){var se=Q[c].read();se?(Q[f]=null,Q[y]=null,Q[n]=null,te(l(se,!1))):(Q[y]=te,Q[n]=ie)},writable:!0}),H));return Q[f]=null,R(F,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=Q[n];te!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,te(ee)),Q[u]=ee;return}var ie=Q[y];ie!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,ie(l(void 0,!0))),Q[a]=!0}),F.on("readable",d.bind(null,Q)),Q};v.exports=D},6633:(v,W,k)=>{"use strict";function E(d,m){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);m&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?E(Object(g),!0).forEach(function(S){R(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):E(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function R(d,m,g){return m in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function y(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function n(d,m){for(var g=0;g<m.length;g++){var S=m[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,m,g){return m&&n(d.prototype,m),g&&n(d,g),d}var a=k(8764),f=a.Buffer,b=k(6419),c=b.inspect,l=c&&c.custom||"inspect";function T(d,m,g){f.prototype.copy.call(d,m,g)}v.exports=function(){function d(){y(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,D=""+S.data;S=S.next;)D+=g+S.data;return D}},{key:"concat",value:function(g){if(this.length===0)return f.alloc(0);for(var S=f.allocUnsafe(g>>>0),D=this.head,w=0;D;)T(D.data,S,w),w+=D.data.length,D=D.next;return S}},{key:"consume",value:function(g,S){var D;return g<this.head.data.length?(D=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?D=this.shift():D=S?this._getString(g):this._getBuffer(g),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,D=1,w=S.data;for(g-=w.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?w+=F:w+=F.slice(0,g),g-=H,g===0){H===F.length?(++D,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++D}return this.length-=D,w}},{key:"_getBuffer",value:function(g){var S=f.allocUnsafe(g),D=this.head,w=1;for(D.data.copy(S),g-=D.data.length;D=D.next;){var F=D.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++w,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=F.slice(H));break}++w}return this.length-=w,S}},{key:l,value:function(g,S){return c(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},5997:v=>{"use strict";function W(n,u){var a=this,f=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return f||b?(u?u(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(R,this,n)):process.nextTick(R,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(c){!u&&c?a._writableState?a._writableState.errorEmitted?process.nextTick(E,a):(a._writableState.errorEmitted=!0,process.nextTick(k,a,c)):process.nextTick(k,a,c):u?(process.nextTick(E,a),u(c)):process.nextTick(E,a)}),this)}function k(n,u){R(n,u),E(n)}function E(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function R(n,u){n.emit("error",u)}function y(n,u){var a=n._readableState,f=n._writableState;a&&a.autoDestroy||f&&f.autoDestroy?n.destroy(u):n.emit("error",u)}v.exports={destroy:W,undestroy:O,errorOrDestroy:y}},5800:(v,W,k)=>{"use strict";var E=k(4419).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var a=!1;return function(){if(!a){a=!0;for(var f=arguments.length,b=new Array(f),c=0;c<f;c++)b[c]=arguments[c];u.apply(this,b)}}}function R(){}function y(u){return u.setHeader&&typeof u.abort=="function"}function n(u,a,f){if(typeof a=="function")return n(u,null,a);a||(a={}),f=O(f||R);var b=a.readable||a.readable!==!1&&u.readable,c=a.writable||a.writable!==!1&&u.writable,l=function(){u.writable||d()},T=u._writableState&&u._writableState.finished,d=function(){c=!1,T=!0,b||f.call(u)},m=u._readableState&&u._readableState.endEmitted,g=function(){b=!1,m=!0,c||f.call(u)},S=function(H){f.call(u,H)},D=function(){var H;if(b&&!m)return(!u._readableState||!u._readableState.ended)&&(H=new E),f.call(u,H);if(c&&!T)return(!u._writableState||!u._writableState.ended)&&(H=new E),f.call(u,H)},w=function(){u.req.on("finish",d)};return y(u)?(u.on("complete",d),u.on("abort",D),u.req?w():u.on("request",w)):c&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),a.error!==!1&&u.on("error",S),u.on("close",D),function(){u.removeListener("complete",d),u.removeListener("abort",D),u.removeListener("request",w),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",D)}}v.exports=n},8859:v=>{v.exports=function(){throw new Error("Readable.from is not available in the browser")}},7065:(v,W,k)=>{"use strict";var E;function O(d){var m=!1;return function(){m||(m=!0,d.apply(void 0,arguments))}}var R=k(4419).q,y=R.ERR_MISSING_ARGS,n=R.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function a(d){return d.setHeader&&typeof d.abort=="function"}function f(d,m,g,S){S=O(S);var D=!1;d.on("close",function(){D=!0}),E===void 0&&(E=k(5800)),E(d,{readable:m,writable:g},function(F){if(F)return S(F);D=!0,S()});var w=!1;return function(F){if(!D&&!w){if(w=!0,a(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new n("pipe"))}}}function b(d){d()}function c(d,m){return d.pipe(m)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function T(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];var S=l(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new y("streams");var D,w=m.map(function(F,H){var Q=H<m.length-1,ee=H>0;return f(F,Q,ee,function(te){D||(D=te),te&&w.forEach(b),!Q&&(w.forEach(b),S(D))})});return m.reduce(c)}v.exports=T},898:(v,W,k)=>{"use strict";var E=k(4419).q.ERR_INVALID_OPT_VALUE;function O(y,n,u){return y.highWaterMark!=null?y.highWaterMark:n?y[u]:null}function R(y,n,u,a){var f=O(n,a,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var b=a?u:"highWaterMark";throw new E(b,f)}return Math.floor(f)}return y.objectMode?16:16*1024}v.exports={getHighWaterMark:R}},9819:(v,W,k)=>{v.exports=k(7187).EventEmitter},3872:(v,W,k)=>{W=v.exports=k(4960),W.Stream=W,W.Readable=W,W.Writable=k(2010),W.Duplex=k(4390),W.Transform=k(3912),W.PassThrough=k(1294),W.finished=k(5800),W.pipeline=k(7065)},2221:(v,W,k)=>{"use strict";var E=k(9509).Buffer,O=E.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(w){if(!w)return"utf8";for(var F;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(F)return;w=(""+w).toLowerCase(),F=!0}}function y(w){var F=R(w);if(typeof F!="string"&&(E.isEncoding===O||!O(w)))throw new Error("Unknown encoding: "+w);return F||w}W.s=n;function n(w){this.encoding=y(w);var F;switch(this.encoding){case"utf16le":this.text=T,this.end=d,F=4;break;case"utf8":this.fillLast=b,F=4;break;case"base64":this.text=m,this.end=g,F=3;break;default:this.write=S,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(F)}n.prototype.write=function(w){if(w.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(w),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<w.length?F?F+this.text(w,H):this.text(w,H):F||""},n.prototype.end=l,n.prototype.text=c,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function u(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function a(w,F,H){var Q=F.length-1;if(Q<H)return 0;var ee=u(F[Q]);return ee>=0?(ee>0&&(w.lastNeed=ee-1),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(w.lastNeed=ee-2),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(ee===2?ee=0:w.lastNeed=ee-3),ee):0))}function f(w,F,H){if((F[0]&192)!=128)return w.lastNeed=0,"\uFFFD";if(w.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return w.lastNeed=1,"\uFFFD";if(w.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return w.lastNeed=2,"\uFFFD"}}function b(w){var F=this.lastTotal-this.lastNeed,H=f(this,w,F);if(H!==void 0)return H;if(this.lastNeed<=w.length)return w.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,F,0,w.length),this.lastNeed-=w.length}function c(w,F){var H=a(this,w,F);if(!this.lastNeed)return w.toString("utf8",F);this.lastTotal=H;var Q=w.length-(H-this.lastNeed);return w.copy(this.lastChar,0,Q),w.toString("utf8",F,Q)}function l(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+"\uFFFD":F}function T(w,F){if((w.length-F)%2==0){var H=w.toString("utf16le",F);if(H){var Q=H.charCodeAt(H.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",F,w.length-1)}function d(w){var F=w&&w.length?this.write(w):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function m(w,F){var H=(w.length-F)%3;return H===0?w.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",F,w.length-H))}function g(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(w){return w.toString(this.encoding)}function D(w){return w&&w.length?this.write(w):""}},7295:v=>{v.exports=function(k,E){for(var O=Math.min(k.length,E.length),R=new Buffer(O),y=0;y<O;++y)R[y]=k[y]^E[y];return R}},8764:(v,W,k)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const E=k(9742),O=k(645),R=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;W.Buffer=a,W.SlowBuffer=w,W.INSPECT_MAX_BYTES=50;const y=2147483647;W.kMaxLength=y,a.TYPED_ARRAY_SUPPORT=n(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{const ne=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(ne,j),ne.foo()===42}catch(ne){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function u(ne){if(ne>y)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const j=new Uint8Array(ne);return Object.setPrototypeOf(j,a.prototype),j}function a(ne,j,Z){if(typeof ne=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(ne)}return f(ne,j,Z)}a.poolSize=8192;function f(ne,j,Z){if(typeof ne=="string")return T(ne,j);if(ArrayBuffer.isView(ne))return m(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(xe(ne,ArrayBuffer)||ne&&xe(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(xe(ne,SharedArrayBuffer)||ne&&xe(ne.buffer,SharedArrayBuffer)))return g(ne,j,Z);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ue=ne.valueOf&&ne.valueOf();if(ue!=null&&ue!==ne)return a.from(ue,j,Z);const he=S(ne);if(he)return he;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return a.from(ne[Symbol.toPrimitive]("string"),j,Z);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}a.from=function(ne,j,Z){return f(ne,j,Z)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function b(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function c(ne,j,Z){return b(ne),ne<=0?u(ne):j!==void 0?typeof Z=="string"?u(ne).fill(j,Z):u(ne).fill(j):u(ne)}a.alloc=function(ne,j,Z){return c(ne,j,Z)};function l(ne){return b(ne),u(ne<0?0:D(ne)|0)}a.allocUnsafe=function(ne){return l(ne)},a.allocUnsafeSlow=function(ne){return l(ne)};function T(ne,j){if((typeof j!="string"||j==="")&&(j="utf8"),!a.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const Z=F(ne,j)|0;let ue=u(Z);const he=ue.write(ne,j);return he!==Z&&(ue=ue.slice(0,he)),ue}function d(ne){const j=ne.length<0?0:D(ne.length)|0,Z=u(j);for(let ue=0;ue<j;ue+=1)Z[ue]=ne[ue]&255;return Z}function m(ne){if(xe(ne,Uint8Array)){const j=new Uint8Array(ne);return g(j.buffer,j.byteOffset,j.byteLength)}return d(ne)}function g(ne,j,Z){if(j<0||ne.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<j+(Z||0))throw new RangeError('"length" is outside of buffer bounds');let ue;return j===void 0&&Z===void 0?ue=new Uint8Array(ne):Z===void 0?ue=new Uint8Array(ne,j):ue=new Uint8Array(ne,j,Z),Object.setPrototypeOf(ue,a.prototype),ue}function S(ne){if(a.isBuffer(ne)){const j=D(ne.length)|0,Z=u(j);return Z.length===0||ne.copy(Z,0,0,j),Z}if(ne.length!==void 0)return typeof ne.length!="number"||ft(ne.length)?u(0):d(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return d(ne.data)}function D(ne){if(ne>=y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+y.toString(16)+" bytes");return ne|0}function w(ne){return+ne!=ne&&(ne=0),a.alloc(+ne)}a.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==a.prototype},a.compare=function(j,Z){if(xe(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),xe(Z,Uint8Array)&&(Z=a.from(Z,Z.offset,Z.byteLength)),!a.isBuffer(j)||!a.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===Z)return 0;let ue=j.length,he=Z.length;for(let Ee=0,ge=Math.min(ue,he);Ee<ge;++Ee)if(j[Ee]!==Z[Ee]){ue=j[Ee],he=Z[Ee];break}return ue<he?-1:he<ue?1:0},a.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(j,Z){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return a.alloc(0);let ue;if(Z===void 0)for(Z=0,ue=0;ue<j.length;++ue)Z+=j[ue].length;const he=a.allocUnsafe(Z);let Ee=0;for(ue=0;ue<j.length;++ue){let ge=j[ue];if(xe(ge,Uint8Array))Ee+ge.length>he.length?(a.isBuffer(ge)||(ge=a.from(ge)),ge.copy(he,Ee)):Uint8Array.prototype.set.call(he,ge,Ee);else if(a.isBuffer(ge))ge.copy(he,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=ge.length}return he};function F(ne,j){if(a.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||xe(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const Z=ne.length,ue=arguments.length>2&&arguments[2]===!0;if(!ue&&Z===0)return 0;let he=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return Z;case"utf8":case"utf-8":return Ae(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z*2;case"hex":return Z>>>1;case"base64":return nt(ne).length;default:if(he)return ue?-1:Ae(ne).length;j=(""+j).toLowerCase(),he=!0}}a.byteLength=F;function H(ne,j,Z){let ue=!1;if((j===void 0||j<0)&&(j=0),j>this.length||((Z===void 0||Z>this.length)&&(Z=this.length),Z<=0)||(Z>>>=0,j>>>=0,Z<=j))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return I(this,j,Z);case"utf8":case"utf-8":return M(this,j,Z);case"ascii":return x(this,j,Z);case"latin1":case"binary":return P(this,j,Z);case"base64":return U(this,j,Z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,j,Z);default:if(ue)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),ue=!0}}a.prototype._isBuffer=!0;function Q(ne,j,Z){const ue=ne[j];ne[j]=ne[Z],ne[Z]=ue}a.prototype.swap16=function(){const j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<j;Z+=2)Q(this,Z,Z+1);return this},a.prototype.swap32=function(){const j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<j;Z+=4)Q(this,Z,Z+3),Q(this,Z+1,Z+2);return this},a.prototype.swap64=function(){const j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<j;Z+=8)Q(this,Z,Z+7),Q(this,Z+1,Z+6),Q(this,Z+2,Z+5),Q(this,Z+3,Z+4);return this},a.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?M(this,0,j):H.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(j){if(!a.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:a.compare(this,j)===0},a.prototype.inspect=function(){let j="";const Z=W.INSPECT_MAX_BYTES;return j=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(j+=" ... "),"<Buffer "+j+">"},R&&(a.prototype[R]=a.prototype.inspect),a.prototype.compare=function(j,Z,ue,he,Ee){if(xe(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),!a.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(Z===void 0&&(Z=0),ue===void 0&&(ue=j?j.length:0),he===void 0&&(he=0),Ee===void 0&&(Ee=this.length),Z<0||ue>j.length||he<0||Ee>this.length)throw new RangeError("out of range index");if(he>=Ee&&Z>=ue)return 0;if(he>=Ee)return-1;if(Z>=ue)return 1;if(Z>>>=0,ue>>>=0,he>>>=0,Ee>>>=0,this===j)return 0;let ge=Ee-he,Te=ue-Z;const lt=Math.min(ge,Te),Fe=this.slice(he,Ee),Oe=j.slice(Z,ue);for(let at=0;at<lt;++at)if(Fe[at]!==Oe[at]){ge=Fe[at],Te=Oe[at];break}return ge<Te?-1:Te<ge?1:0};function ee(ne,j,Z,ue,he){if(ne.length===0)return-1;if(typeof Z=="string"?(ue=Z,Z=0):Z>2147483647?Z=2147483647:Z<-2147483648&&(Z=-2147483648),Z=+Z,ft(Z)&&(Z=he?0:ne.length-1),Z<0&&(Z=ne.length+Z),Z>=ne.length){if(he)return-1;Z=ne.length-1}else if(Z<0)if(he)Z=0;else return-1;if(typeof j=="string"&&(j=a.from(j,ue)),a.isBuffer(j))return j.length===0?-1:te(ne,j,Z,ue,he);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(ne,j,Z):Uint8Array.prototype.lastIndexOf.call(ne,j,Z):te(ne,[j],Z,ue,he);throw new TypeError("val must be string, number or Buffer")}function te(ne,j,Z,ue,he){let Ee=1,ge=ne.length,Te=j.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(ne.length<2||j.length<2)return-1;Ee=2,ge/=2,Te/=2,Z/=2}function lt(Oe,at){return Ee===1?Oe[at]:Oe.readUInt16BE(at*Ee)}let Fe;if(he){let Oe=-1;for(Fe=Z;Fe<ge;Fe++)if(lt(ne,Fe)===lt(j,Oe===-1?0:Fe-Oe)){if(Oe===-1&&(Oe=Fe),Fe-Oe+1===Te)return Oe*Ee}else Oe!==-1&&(Fe-=Fe-Oe),Oe=-1}else for(Z+Te>ge&&(Z=ge-Te),Fe=Z;Fe>=0;Fe--){let Oe=!0;for(let at=0;at<Te;at++)if(lt(ne,Fe+at)!==lt(j,at)){Oe=!1;break}if(Oe)return Fe}return-1}a.prototype.includes=function(j,Z,ue){return this.indexOf(j,Z,ue)!==-1},a.prototype.indexOf=function(j,Z,ue){return ee(this,j,Z,ue,!0)},a.prototype.lastIndexOf=function(j,Z,ue){return ee(this,j,Z,ue,!1)};function ie(ne,j,Z,ue){Z=Number(Z)||0;const he=ne.length-Z;ue?(ue=Number(ue),ue>he&&(ue=he)):ue=he;const Ee=j.length;ue>Ee/2&&(ue=Ee/2);let ge;for(ge=0;ge<ue;++ge){const Te=parseInt(j.substr(ge*2,2),16);if(ft(Te))return ge;ne[Z+ge]=Te}return ge}function se(ne,j,Z,ue){return Ne(Ae(j,ne.length-Z),ne,Z,ue)}function le(ne,j,Z,ue){return Ne(ve(j),ne,Z,ue)}function z(ne,j,Z,ue){return Ne(nt(j),ne,Z,ue)}function A(ne,j,Z,ue){return Ne(Se(j,ne.length-Z),ne,Z,ue)}a.prototype.write=function(j,Z,ue,he){if(Z===void 0)he="utf8",ue=this.length,Z=0;else if(ue===void 0&&typeof Z=="string")he=Z,ue=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(ue)?(ue=ue>>>0,he===void 0&&(he="utf8")):(he=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-Z;if((ue===void 0||ue>Ee)&&(ue=Ee),j.length>0&&(ue<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let ge=!1;for(;;)switch(he){case"hex":return ie(this,j,Z,ue);case"utf8":case"utf-8":return se(this,j,Z,ue);case"ascii":case"latin1":case"binary":return le(this,j,Z,ue);case"base64":return z(this,j,Z,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,j,Z,ue);default:if(ge)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),ge=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(ne,j,Z){return j===0&&Z===ne.length?E.fromByteArray(ne):E.fromByteArray(ne.slice(j,Z))}function M(ne,j,Z){Z=Math.min(ne.length,Z);const ue=[];let he=j;for(;he<Z;){const Ee=ne[he];let ge=null,Te=Ee>239?4:Ee>223?3:Ee>191?2:1;if(he+Te<=Z){let lt,Fe,Oe,at;switch(Te){case 1:Ee<128&&(ge=Ee);break;case 2:lt=ne[he+1],(lt&192)==128&&(at=(Ee&31)<<6|lt&63,at>127&&(ge=at));break;case 3:lt=ne[he+1],Fe=ne[he+2],(lt&192)==128&&(Fe&192)==128&&(at=(Ee&15)<<12|(lt&63)<<6|Fe&63,at>2047&&(at<55296||at>57343)&&(ge=at));break;case 4:lt=ne[he+1],Fe=ne[he+2],Oe=ne[he+3],(lt&192)==128&&(Fe&192)==128&&(Oe&192)==128&&(at=(Ee&15)<<18|(lt&63)<<12|(Fe&63)<<6|Oe&63,at>65535&&at<1114112&&(ge=at))}}ge===null?(ge=65533,Te=1):ge>65535&&(ge-=65536,ue.push(ge>>>10&1023|55296),ge=56320|ge&1023),ue.push(ge),he+=Te}return h(ue)}const s=4096;function h(ne){const j=ne.length;if(j<=s)return String.fromCharCode.apply(String,ne);let Z="",ue=0;for(;ue<j;)Z+=String.fromCharCode.apply(String,ne.slice(ue,ue+=s));return Z}function x(ne,j,Z){let ue="";Z=Math.min(ne.length,Z);for(let he=j;he<Z;++he)ue+=String.fromCharCode(ne[he]&127);return ue}function P(ne,j,Z){let ue="";Z=Math.min(ne.length,Z);for(let he=j;he<Z;++he)ue+=String.fromCharCode(ne[he]);return ue}function I(ne,j,Z){const ue=ne.length;(!j||j<0)&&(j=0),(!Z||Z<0||Z>ue)&&(Z=ue);let he="";for(let Ee=j;Ee<Z;++Ee)he+=Be[ne[Ee]];return he}function C(ne,j,Z){const ue=ne.slice(j,Z);let he="";for(let Ee=0;Ee<ue.length-1;Ee+=2)he+=String.fromCharCode(ue[Ee]+ue[Ee+1]*256);return he}a.prototype.slice=function(j,Z){const ue=this.length;j=~~j,Z=Z===void 0?ue:~~Z,j<0?(j+=ue,j<0&&(j=0)):j>ue&&(j=ue),Z<0?(Z+=ue,Z<0&&(Z=0)):Z>ue&&(Z=ue),Z<j&&(Z=j);const he=this.subarray(j,Z);return Object.setPrototypeOf(he,a.prototype),he};function G(ne,j,Z){if(ne%1!=0||ne<0)throw new RangeError("offset is not uint");if(ne+j>Z)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(j,Z,ue){j=j>>>0,Z=Z>>>0,ue||G(j,Z,this.length);let he=this[j],Ee=1,ge=0;for(;++ge<Z&&(Ee*=256);)he+=this[j+ge]*Ee;return he},a.prototype.readUintBE=a.prototype.readUIntBE=function(j,Z,ue){j=j>>>0,Z=Z>>>0,ue||G(j,Z,this.length);let he=this[j+--Z],Ee=1;for(;Z>0&&(Ee*=256);)he+=this[j+--Z]*Ee;return he},a.prototype.readUint8=a.prototype.readUInt8=function(j,Z){return j=j>>>0,Z||G(j,1,this.length),this[j]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(j,Z){return j=j>>>0,Z||G(j,2,this.length),this[j]|this[j+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(j,Z){return j=j>>>0,Z||G(j,2,this.length),this[j]<<8|this[j+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},a.prototype.readBigUInt64LE=Ie(function(j){j=j>>>0,B(j,"offset");const Z=this[j],ue=this[j+7];(Z===void 0||ue===void 0)&&q(j,this.length-8);const he=Z+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,Ee=this[++j]+this[++j]*2**8+this[++j]*2**16+ue*2**24;return BigInt(he)+(BigInt(Ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(j){j=j>>>0,B(j,"offset");const Z=this[j],ue=this[j+7];(Z===void 0||ue===void 0)&&q(j,this.length-8);const he=Z*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],Ee=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ue;return(BigInt(he)<<BigInt(32))+BigInt(Ee)}),a.prototype.readIntLE=function(j,Z,ue){j=j>>>0,Z=Z>>>0,ue||G(j,Z,this.length);let he=this[j],Ee=1,ge=0;for(;++ge<Z&&(Ee*=256);)he+=this[j+ge]*Ee;return Ee*=128,he>=Ee&&(he-=Math.pow(2,8*Z)),he},a.prototype.readIntBE=function(j,Z,ue){j=j>>>0,Z=Z>>>0,ue||G(j,Z,this.length);let he=Z,Ee=1,ge=this[j+--he];for(;he>0&&(Ee*=256);)ge+=this[j+--he]*Ee;return Ee*=128,ge>=Ee&&(ge-=Math.pow(2,8*Z)),ge},a.prototype.readInt8=function(j,Z){return j=j>>>0,Z||G(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},a.prototype.readInt16LE=function(j,Z){j=j>>>0,Z||G(j,2,this.length);const ue=this[j]|this[j+1]<<8;return ue&32768?ue|4294901760:ue},a.prototype.readInt16BE=function(j,Z){j=j>>>0,Z||G(j,2,this.length);const ue=this[j+1]|this[j]<<8;return ue&32768?ue|4294901760:ue},a.prototype.readInt32LE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},a.prototype.readInt32BE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},a.prototype.readBigInt64LE=Ie(function(j){j=j>>>0,B(j,"offset");const Z=this[j],ue=this[j+7];(Z===void 0||ue===void 0)&&q(j,this.length-8);const he=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ue<<24);return(BigInt(he)<<BigInt(32))+BigInt(Z+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),a.prototype.readBigInt64BE=Ie(function(j){j=j>>>0,B(j,"offset");const Z=this[j],ue=this[j+7];(Z===void 0||ue===void 0)&&q(j,this.length-8);const he=(Z<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(he)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ue)}),a.prototype.readFloatLE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),O.read(this,j,!0,23,4)},a.prototype.readFloatBE=function(j,Z){return j=j>>>0,Z||G(j,4,this.length),O.read(this,j,!1,23,4)},a.prototype.readDoubleLE=function(j,Z){return j=j>>>0,Z||G(j,8,this.length),O.read(this,j,!0,52,8)},a.prototype.readDoubleBE=function(j,Z){return j=j>>>0,Z||G(j,8,this.length),O.read(this,j,!1,52,8)};function V(ne,j,Z,ue,he,Ee){if(!a.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>he||j<Ee)throw new RangeError('"value" argument is out of bounds');if(Z+ue>ne.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(j,Z,ue,he){if(j=+j,Z=Z>>>0,ue=ue>>>0,!he){const Te=Math.pow(2,8*ue)-1;V(this,j,Z,ue,Te,0)}let Ee=1,ge=0;for(this[Z]=j&255;++ge<ue&&(Ee*=256);)this[Z+ge]=j/Ee&255;return Z+ue},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(j,Z,ue,he){if(j=+j,Z=Z>>>0,ue=ue>>>0,!he){const Te=Math.pow(2,8*ue)-1;V(this,j,Z,ue,Te,0)}let Ee=ue-1,ge=1;for(this[Z+Ee]=j&255;--Ee>=0&&(ge*=256);)this[Z+Ee]=j/ge&255;return Z+ue},a.prototype.writeUint8=a.prototype.writeUInt8=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,1,255,0),this[Z]=j&255,Z+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,2,65535,0),this[Z]=j&255,this[Z+1]=j>>>8,Z+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,2,65535,0),this[Z]=j>>>8,this[Z+1]=j&255,Z+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,4,4294967295,0),this[Z+3]=j>>>24,this[Z+2]=j>>>16,this[Z+1]=j>>>8,this[Z]=j&255,Z+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,4,4294967295,0),this[Z]=j>>>24,this[Z+1]=j>>>16,this[Z+2]=j>>>8,this[Z+3]=j&255,Z+4};function _(ne,j,Z,ue,he){me(j,ue,he,ne,Z,7);let Ee=Number(j&BigInt(4294967295));ne[Z++]=Ee,Ee=Ee>>8,ne[Z++]=Ee,Ee=Ee>>8,ne[Z++]=Ee,Ee=Ee>>8,ne[Z++]=Ee;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return ne[Z++]=ge,ge=ge>>8,ne[Z++]=ge,ge=ge>>8,ne[Z++]=ge,ge=ge>>8,ne[Z++]=ge,Z}function Y(ne,j,Z,ue,he){me(j,ue,he,ne,Z,7);let Ee=Number(j&BigInt(4294967295));ne[Z+7]=Ee,Ee=Ee>>8,ne[Z+6]=Ee,Ee=Ee>>8,ne[Z+5]=Ee,Ee=Ee>>8,ne[Z+4]=Ee;let ge=Number(j>>BigInt(32)&BigInt(4294967295));return ne[Z+3]=ge,ge=ge>>8,ne[Z+2]=ge,ge=ge>>8,ne[Z+1]=ge,ge=ge>>8,ne[Z]=ge,Z+8}a.prototype.writeBigUInt64LE=Ie(function(j,Z=0){return _(this,j,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(j,Z=0){return Y(this,j,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(j,Z,ue,he){if(j=+j,Z=Z>>>0,!he){const lt=Math.pow(2,8*ue-1);V(this,j,Z,ue,lt-1,-lt)}let Ee=0,ge=1,Te=0;for(this[Z]=j&255;++Ee<ue&&(ge*=256);)j<0&&Te===0&&this[Z+Ee-1]!==0&&(Te=1),this[Z+Ee]=(j/ge>>0)-Te&255;return Z+ue},a.prototype.writeIntBE=function(j,Z,ue,he){if(j=+j,Z=Z>>>0,!he){const lt=Math.pow(2,8*ue-1);V(this,j,Z,ue,lt-1,-lt)}let Ee=ue-1,ge=1,Te=0;for(this[Z+Ee]=j&255;--Ee>=0&&(ge*=256);)j<0&&Te===0&&this[Z+Ee+1]!==0&&(Te=1),this[Z+Ee]=(j/ge>>0)-Te&255;return Z+ue},a.prototype.writeInt8=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,1,127,-128),j<0&&(j=255+j+1),this[Z]=j&255,Z+1},a.prototype.writeInt16LE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,2,32767,-32768),this[Z]=j&255,this[Z+1]=j>>>8,Z+2},a.prototype.writeInt16BE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,2,32767,-32768),this[Z]=j>>>8,this[Z+1]=j&255,Z+2},a.prototype.writeInt32LE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,4,2147483647,-2147483648),this[Z]=j&255,this[Z+1]=j>>>8,this[Z+2]=j>>>16,this[Z+3]=j>>>24,Z+4},a.prototype.writeInt32BE=function(j,Z,ue){return j=+j,Z=Z>>>0,ue||V(this,j,Z,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[Z]=j>>>24,this[Z+1]=j>>>16,this[Z+2]=j>>>8,this[Z+3]=j&255,Z+4},a.prototype.writeBigInt64LE=Ie(function(j,Z=0){return _(this,j,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(j,Z=0){return Y(this,j,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(ne,j,Z,ue,he,Ee){if(Z+ue>ne.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("Index out of range")}function ye(ne,j,Z,ue,he){return j=+j,Z=Z>>>0,he||pe(ne,j,Z,4,34028234663852886e22,-34028234663852886e22),O.write(ne,j,Z,ue,23,4),Z+4}a.prototype.writeFloatLE=function(j,Z,ue){return ye(this,j,Z,!0,ue)},a.prototype.writeFloatBE=function(j,Z,ue){return ye(this,j,Z,!1,ue)};function _e(ne,j,Z,ue,he){return j=+j,Z=Z>>>0,he||pe(ne,j,Z,8,17976931348623157e292,-17976931348623157e292),O.write(ne,j,Z,ue,52,8),Z+8}a.prototype.writeDoubleLE=function(j,Z,ue){return _e(this,j,Z,!0,ue)},a.prototype.writeDoubleBE=function(j,Z,ue){return _e(this,j,Z,!1,ue)},a.prototype.copy=function(j,Z,ue,he){if(!a.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ue||(ue=0),!he&&he!==0&&(he=this.length),Z>=j.length&&(Z=j.length),Z||(Z=0),he>0&&he<ue&&(he=ue),he===ue||j.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),j.length-Z<he-ue&&(he=j.length-Z+ue);const Ee=he-ue;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,ue,he):Uint8Array.prototype.set.call(j,this.subarray(ue,he),Z),Ee},a.prototype.fill=function(j,Z,ue,he){if(typeof j=="string"){if(typeof Z=="string"?(he=Z,Z=0,ue=this.length):typeof ue=="string"&&(he=ue,ue=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!a.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(j.length===1){const ge=j.charCodeAt(0);(he==="utf8"&&ge<128||he==="latin1")&&(j=ge)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if(Z<0||this.length<Z||this.length<ue)throw new RangeError("Out of range index");if(ue<=Z)return this;Z=Z>>>0,ue=ue===void 0?this.length:ue>>>0,j||(j=0);let Ee;if(typeof j=="number")for(Ee=Z;Ee<ue;++Ee)this[Ee]=j;else{const ge=a.isBuffer(j)?j:a.from(j,he),Te=ge.length;if(Te===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(Ee=0;Ee<ue-Z;++Ee)this[Ee+Z]=ge[Ee%Te]}return this};const X={};function J(ne,j,Z){X[ne]=class extends Z{constructor(){super();Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(ne,j){return`The "${ne}" argument must be of type number. Received type ${typeof j}`},TypeError),J("ERR_OUT_OF_RANGE",function(ne,j,Z){let ue=`The value of "${ne}" is out of range.`,he=Z;return Number.isInteger(Z)&&Math.abs(Z)>2**32?he=oe(String(Z)):typeof Z=="bigint"&&(he=String(Z),(Z>BigInt(2)**BigInt(32)||Z<-(BigInt(2)**BigInt(32)))&&(he=oe(he)),he+="n"),ue+=` It must be ${j}. Received ${he}`,ue},RangeError);function oe(ne){let j="",Z=ne.length;const ue=ne[0]==="-"?1:0;for(;Z>=ue+4;Z-=3)j=`_${ne.slice(Z-3,Z)}${j}`;return`${ne.slice(0,Z)}${j}`}function be(ne,j,Z){B(j,"offset"),(ne[j]===void 0||ne[j+Z]===void 0)&&q(j,ne.length-(Z+1))}function me(ne,j,Z,ue,he,Ee){if(ne>Z||ne<j){const ge=typeof j=="bigint"?"n":"";let Te;throw Ee>3?j===0||j===BigInt(0)?Te=`>= 0${ge} and < 2${ge} ** ${(Ee+1)*8}${ge}`:Te=`>= -(2${ge} ** ${(Ee+1)*8-1}${ge}) and < 2 ** ${(Ee+1)*8-1}${ge}`:Te=`>= ${j}${ge} and <= ${Z}${ge}`,new X.ERR_OUT_OF_RANGE("value",Te,ne)}be(ue,he,Ee)}function B(ne,j){if(typeof ne!="number")throw new X.ERR_INVALID_ARG_TYPE(j,"number",ne)}function q(ne,j,Z){throw Math.floor(ne)!==ne?(B(ne,Z),new X.ERR_OUT_OF_RANGE(Z||"offset","an integer",ne)):j<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(Z||"offset",`>= ${Z?1:0} and <= ${j}`,ne)}const ae=/[^+/0-9A-Za-z-_]/g;function fe(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(ae,""),ne.length<2)return"";for(;ne.length%4!=0;)ne=ne+"=";return ne}function Ae(ne,j){j=j||Infinity;let Z;const ue=ne.length;let he=null;const Ee=[];for(let ge=0;ge<ue;++ge){if(Z=ne.charCodeAt(ge),Z>55295&&Z<57344){if(!he){if(Z>56319){(j-=3)>-1&&Ee.push(239,191,189);continue}else if(ge+1===ue){(j-=3)>-1&&Ee.push(239,191,189);continue}he=Z;continue}if(Z<56320){(j-=3)>-1&&Ee.push(239,191,189),he=Z;continue}Z=(he-55296<<10|Z-56320)+65536}else he&&(j-=3)>-1&&Ee.push(239,191,189);if(he=null,Z<128){if((j-=1)<0)break;Ee.push(Z)}else if(Z<2048){if((j-=2)<0)break;Ee.push(Z>>6|192,Z&63|128)}else if(Z<65536){if((j-=3)<0)break;Ee.push(Z>>12|224,Z>>6&63|128,Z&63|128)}else if(Z<1114112){if((j-=4)<0)break;Ee.push(Z>>18|240,Z>>12&63|128,Z>>6&63|128,Z&63|128)}else throw new Error("Invalid code point")}return Ee}function ve(ne){const j=[];for(let Z=0;Z<ne.length;++Z)j.push(ne.charCodeAt(Z)&255);return j}function Se(ne,j){let Z,ue,he;const Ee=[];for(let ge=0;ge<ne.length&&!((j-=2)<0);++ge)Z=ne.charCodeAt(ge),ue=Z>>8,he=Z%256,Ee.push(he),Ee.push(ue);return Ee}function nt(ne){return E.toByteArray(fe(ne))}function Ne(ne,j,Z,ue){let he;for(he=0;he<ue&&!(he+Z>=j.length||he>=ne.length);++he)j[he+Z]=ne[he];return he}function xe(ne,j){return ne instanceof j||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===j.name}function ft(ne){return ne!==ne}const Be=function(){const ne="0123456789abcdef",j=new Array(256);for(let Z=0;Z<16;++Z){const ue=Z*16;for(let he=0;he<16;++he)j[ue+he]=ne[Z]+ne[he]}return j}();function Ie(ne){return typeof BigInt=="undefined"?pt:ne}function pt(){throw new Error("BigInt not supported")}},1027:(v,W,k)=>{var E=k(9509).Buffer,O=k(2830).Transform,R=k(2553).s,y=k(5717);function n(u){O.call(this),this.hashMode=typeof u=="string",this.hashMode?this[u]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}y(n,O),n.prototype.update=function(u,a,f){typeof u=="string"&&(u=E.from(u,a));var b=this._update(u);return this.hashMode?this:(f&&(b=this._toString(b,f)),b)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(u,a,f){var b;try{this.hashMode?this._update(u):this.push(this._update(u))}catch(c){b=c}finally{f(b)}},n.prototype._flush=function(u){var a;try{this.push(this.__final())}catch(f){a=f}u(a)},n.prototype._finalOrDigest=function(u){var a=this.__final()||E.alloc(0);return u&&(a=this._toString(a,u,!0)),a},n.prototype._toString=function(u,a,f){if(this._decoder||(this._decoder=new R(a),this._encoding=a),this._encoding!==a)throw new Error("can't switch encodings");var b=this._decoder.write(u);return f&&(b+=this._decoder.end()),b},v.exports=n},6393:(v,W,k)=>{var E=k(6266),O=k(3550);v.exports=function(a){return new y(a)};var R={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};R.p224=R.secp224r1,R.p256=R.secp256r1=R.prime256v1,R.p192=R.secp192r1=R.prime192v1,R.p384=R.secp384r1,R.p521=R.secp521r1;function y(u){this.curveType=R[u],this.curveType||(this.curveType={name:u}),this.curve=new E.ec(this.curveType.name),this.keys=void 0}y.prototype.generateKeys=function(u,a){return this.keys=this.curve.genKeyPair(),this.getPublicKey(u,a)},y.prototype.computeSecret=function(u,a,f){a=a||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,a));var b=this.curve.keyFromPublic(u).getPublic(),c=b.mul(this.keys.getPrivate()).getX();return n(c,f,this.curveType.byteLength)},y.prototype.getPublicKey=function(u,a){var f=this.keys.getPublic(a==="compressed",!0);return a==="hybrid"&&(f[f.length-1]%2?f[0]=7:f[0]=6),n(f,u)},y.prototype.getPrivateKey=function(u){return n(this.keys.getPrivate(),u)},y.prototype.setPublicKey=function(u,a){return a=a||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,a)),this.keys._importPublic(u),this},y.prototype.setPrivateKey=function(u,a){a=a||"utf8",Buffer.isBuffer(u)||(u=new Buffer(u,a));var f=new O(u);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this};function n(u,a,f){Array.isArray(u)||(u=u.toArray());var b=new Buffer(u);if(f&&b.length<f){var c=new Buffer(f-b.length);c.fill(0),b=Buffer.concat([c,b])}return a?b.toString(a):b}},3482:(v,W,k)=>{"use strict";var E=k(5717),O=k(2318),R=k(9785),y=k(9072),n=k(1027);function u(a){n.call(this,"digest"),this._hash=a}E(u,n),u.prototype._update=function(a){this._hash.update(a)},u.prototype._final=function(){return this._hash.digest()},v.exports=function(f){return f=f.toLowerCase(),f==="md5"?new O:f==="rmd160"||f==="ripemd160"?new R:new u(y(f))}},8028:(v,W,k)=>{var E=k(2318);v.exports=function(O){return new E().update(O).digest()}},8355:(v,W,k)=>{"use strict";var E=k(5717),O=k(1031),R=k(1027),y=k(9509).Buffer,n=k(8028),u=k(9785),a=k(9072),f=y.alloc(128);function b(c,l){R.call(this,"digest"),typeof l=="string"&&(l=y.from(l));var T=c==="sha512"||c==="sha384"?128:64;if(this._alg=c,this._key=l,l.length>T){var d=c==="rmd160"?new u:a(c);l=d.update(l).digest()}else l.length<T&&(l=y.concat([l,f],T));for(var m=this._ipad=y.allocUnsafe(T),g=this._opad=y.allocUnsafe(T),S=0;S<T;S++)m[S]=l[S]^54,g[S]=l[S]^92;this._hash=c==="rmd160"?new u:a(c),this._hash.update(m)}E(b,R),b.prototype._update=function(c){this._hash.update(c)},b.prototype._final=function(){var c=this._hash.digest(),l=this._alg==="rmd160"?new u:a(this._alg);return l.update(this._opad).update(c).digest()},v.exports=function(l,T){return l=l.toLowerCase(),l==="rmd160"||l==="ripemd160"?new b("rmd160",T):l==="md5"?new O(n,T):new b(l,T)}},1031:(v,W,k)=>{"use strict";var E=k(5717),O=k(9509).Buffer,R=k(1027),y=O.alloc(128),n=64;function u(a,f){R.call(this,"digest"),typeof f=="string"&&(f=O.from(f)),this._alg=a,this._key=f,f.length>n?f=a(f):f.length<n&&(f=O.concat([f,y],n));for(var b=this._ipad=O.allocUnsafe(n),c=this._opad=O.allocUnsafe(n),l=0;l<n;l++)b[l]=f[l]^54,c[l]=f[l]^92;this._hash=[b]}E(u,R),u.prototype._update=function(a){this._hash.push(a)},u.prototype._final=function(){var a=this._alg(O.concat(this._hash));return this._alg(O.concat([this._opad,a]))},v.exports=u},4098:function(v,W){var k=function(E){function O(){this.fetch=!1,this.DOMException=E.DOMException}return O.prototype=E,new O}(typeof self!="undefined"?self:this);(function(E){var O=function(R){var y={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch(z){return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};function n(z){return z&&DataView.prototype.isPrototypeOf(z)}if(y.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(z){return z&&u.indexOf(Object.prototype.toString.call(z))>-1};function f(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function b(z){return typeof z!="string"&&(z=String(z)),z}function c(z){var A={next:function(){var U=z.shift();return{done:U===void 0,value:U}}};return y.iterable&&(A[Symbol.iterator]=function(){return A}),A}function l(z){this.map={},z instanceof l?z.forEach(function(A,U){this.append(U,A)},this):Array.isArray(z)?z.forEach(function(A){this.append(A[0],A[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(A){this.append(A,z[A])},this)}l.prototype.append=function(z,A){z=f(z),A=b(A);var U=this.map[z];this.map[z]=U?U+", "+A:A},l.prototype.delete=function(z){delete this.map[f(z)]},l.prototype.get=function(z){return z=f(z),this.has(z)?this.map[z]:null},l.prototype.has=function(z){return this.map.hasOwnProperty(f(z))},l.prototype.set=function(z,A){this.map[f(z)]=b(A)},l.prototype.forEach=function(z,A){for(var U in this.map)this.map.hasOwnProperty(U)&&z.call(A,this.map[U],U,this)},l.prototype.keys=function(){var z=[];return this.forEach(function(A,U){z.push(U)}),c(z)},l.prototype.values=function(){var z=[];return this.forEach(function(A){z.push(A)}),c(z)},l.prototype.entries=function(){var z=[];return this.forEach(function(A,U){z.push([U,A])}),c(z)},y.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function T(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function d(z){return new Promise(function(A,U){z.onload=function(){A(z.result)},z.onerror=function(){U(z.error)}})}function m(z){var A=new FileReader,U=d(A);return A.readAsArrayBuffer(z),U}function g(z){var A=new FileReader,U=d(A);return A.readAsText(z),U}function S(z){for(var A=new Uint8Array(z),U=new Array(A.length),M=0;M<A.length;M++)U[M]=String.fromCharCode(A[M]);return U.join("")}function D(z){if(z.slice)return z.slice(0);var A=new Uint8Array(z.byteLength);return A.set(new Uint8Array(z)),A.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(z){this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:y.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:y.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:y.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():y.arrayBuffer&&y.blob&&n(z)?(this._bodyArrayBuffer=D(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):y.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||a(z))?this._bodyArrayBuffer=D(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var z=T(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var z=T(this);if(z)return z;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(ee)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(z){var A=z.toUpperCase();return F.indexOf(A)>-1?A:z}function Q(z,A){A=A||{};var U=A.body;if(z instanceof Q){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,A.headers||(this.headers=new l(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!U&&z._bodyInit!=null&&(U=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new l(A.headers)),this.method=H(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function ee(z){var A=new FormData;return z.trim().split("&").forEach(function(U){if(U){var M=U.split("="),s=M.shift().replace(/\+/g," "),h=M.join("=").replace(/\+/g," ");A.append(decodeURIComponent(s),decodeURIComponent(h))}}),A}function te(z){var A=new l,U=z.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(M){var s=M.split(":"),h=s.shift().trim();if(h){var x=s.join(":").trim();A.append(h,x)}}),A}w.call(Q.prototype);function ie(z,A){A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"OK",this.headers=new l(A.headers),this.url=A.url||"",this._initBody(z)}w.call(ie.prototype),ie.prototype.clone=function(){return new ie(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},ie.error=function(){var z=new ie(null,{status:0,statusText:""});return z.type="error",z};var se=[301,302,303,307,308];ie.redirect=function(z,A){if(se.indexOf(A)===-1)throw new RangeError("Invalid status code");return new ie(null,{status:A,headers:{location:z}})},R.DOMException=E.DOMException;try{new R.DOMException}catch(z){R.DOMException=function(A,U){this.message=A,this.name=U;var M=Error(A);this.stack=M.stack},R.DOMException.prototype=Object.create(Error.prototype),R.DOMException.prototype.constructor=R.DOMException}function le(z,A){return new Promise(function(U,M){var s=new Q(z,A);if(s.signal&&s.signal.aborted)return M(new R.DOMException("Aborted","AbortError"));var h=new XMLHttpRequest;function x(){h.abort()}h.onload=function(){var P={status:h.status,statusText:h.statusText,headers:te(h.getAllResponseHeaders()||"")};P.url="responseURL"in h?h.responseURL:P.headers.get("X-Request-URL");var I="response"in h?h.response:h.responseText;U(new ie(I,P))},h.onerror=function(){M(new TypeError("Network request failed"))},h.ontimeout=function(){M(new TypeError("Network request failed"))},h.onabort=function(){M(new R.DOMException("Aborted","AbortError"))},h.open(s.method,s.url,!0),s.credentials==="include"?h.withCredentials=!0:s.credentials==="omit"&&(h.withCredentials=!1),"responseType"in h&&y.blob&&(h.responseType="blob"),s.headers.forEach(function(P,I){h.setRequestHeader(I,P)}),s.signal&&(s.signal.addEventListener("abort",x),h.onreadystatechange=function(){h.readyState===4&&s.signal.removeEventListener("abort",x)}),h.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})}return le.polyfill=!0,E.fetch||(E.fetch=le,E.Headers=l,E.Request=Q,E.Response=ie),R.Headers=l,R.Request=Q,R.Response=ie,R.fetch=le,R}({})})(k),delete k.fetch.polyfill,W=k.fetch,W.default=k.fetch,W.fetch=k.fetch,W.Headers=k.Headers,W.Request=k.Request,W.Response=k.Response,v.exports=W},5835:(v,W,k)=>{"use strict";var E;E=E=E=k(1798),W.js=k(3482),E=k(8355);var O=k(6042),R=Object.keys(O),y=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(R);E=function(){return y};var n=k(5632);E=n.pbkdf2,E=n.pbkdf2Sync;var u=k(3614);E=u.Cipher,E=u.createCipher,E=u.Cipheriv,E=u.createCipheriv,E=u.Decipher,E=u.createDecipher,E=u.Decipheriv,E=u.createDecipheriv,E=u.getCiphers,E=u.listCiphers;var a=k(2607);E=a.DiffieHellmanGroup,E=a.createDiffieHellmanGroup,E=a.getDiffieHellman,E=a.createDiffieHellman,E=a.DiffieHellman;var f=k(4743);E=f.createSign,E=f.Sign,E=f.createVerify,E=f.Verify,k(6393);var b=k(7900);E=b.publicEncrypt,E=b.privateEncrypt,E=b.publicDecrypt,E=b.privateDecrypt;var c=k(7963);E=c.randomFill,E=c.randomFillSync,E=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},E={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},7484:function(v){(function(W,k){v.exports=k()})(this,function(){"use strict";var W="millisecond",k="second",E="minute",O="hour",R="day",y="week",n="month",u="quarter",a="year",f="date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(ee,te,ie){var se=String(ee);return!se||se.length>=te?ee:""+Array(te+1-se.length).join(ie)+ee},d={s:T,z:function(ee){var te=-ee.utcOffset(),ie=Math.abs(te),se=Math.floor(ie/60),le=ie%60;return(te<=0?"+":"-")+T(se,2,"0")+":"+T(le,2,"0")},m:function ee(te,ie){if(te.date()<ie.date())return-ee(ie,te);var se=12*(ie.year()-te.year())+(ie.month()-te.month()),le=te.clone().add(se,n),z=ie-le<0,A=te.clone().add(se+(z?-1:1),n);return+(-(se+(ie-le)/(z?le-A:A-le))||0)},a:function(ee){return ee<0?Math.ceil(ee)||0:Math.floor(ee)},p:function(ee){return{M:n,y:a,w:y,d:R,D:f,h:O,m:E,s:k,ms:W,Q:u}[ee]||String(ee||"").toLowerCase().replace(/s$/,"")},u:function(ee){return ee===void 0}},m="en",g={};g[m]=l;var S=function(ee){return ee instanceof H},D=function(ee,te,ie){var se;if(!ee)return m;if(typeof ee=="string")g[ee]&&(se=ee),te&&(g[ee]=te,se=ee);else{var le=ee.name;g[le]=ee,se=le}return!ie&&se&&(m=se),se||!ie&&m},w=function(ee,te){if(S(ee))return ee.clone();var ie=typeof te=="object"?te:{};return ie.date=ee,ie.args=arguments,new H(ie)},F=d;F.l=D,F.i=S,F.w=function(ee,te){return w(ee,{locale:te.$L,utc:te.$u,x:te.$x,$offset:te.$offset})};var H=function(){function ee(ie){this.$L=D(ie.locale,null,!0),this.parse(ie)}var te=ee.prototype;return te.parse=function(ie){this.$d=function(se){var le=se.date,z=se.utc;if(le===null)return new Date(NaN);if(F.u(le))return new Date;if(le instanceof Date)return new Date(le);if(typeof le=="string"&&!/Z$/i.test(le)){var A=le.match(b);if(A){var U=A[2]-1||0,M=(A[7]||"0").substring(0,3);return z?new Date(Date.UTC(A[1],U,A[3]||1,A[4]||0,A[5]||0,A[6]||0,M)):new Date(A[1],U,A[3]||1,A[4]||0,A[5]||0,A[6]||0,M)}}return new Date(le)}(ie),this.$x=ie.x||{},this.init()},te.init=function(){var ie=this.$d;this.$y=ie.getFullYear(),this.$M=ie.getMonth(),this.$D=ie.getDate(),this.$W=ie.getDay(),this.$H=ie.getHours(),this.$m=ie.getMinutes(),this.$s=ie.getSeconds(),this.$ms=ie.getMilliseconds()},te.$utils=function(){return F},te.isValid=function(){return this.$d.toString()!=="Invalid Date"},te.isSame=function(ie,se){var le=w(ie);return this.startOf(se)<=le&&le<=this.endOf(se)},te.isAfter=function(ie,se){return w(ie)<this.startOf(se)},te.isBefore=function(ie,se){return this.endOf(se)<w(ie)},te.$g=function(ie,se,le){return F.u(ie)?this[se]:this.set(le,ie)},te.unix=function(){return Math.floor(this.valueOf()/1e3)},te.valueOf=function(){return this.$d.getTime()},te.startOf=function(ie,se){var le=this,z=!!F.u(se)||se,A=F.p(ie),U=function(G,V){var _=F.w(le.$u?Date.UTC(le.$y,V,G):new Date(le.$y,V,G),le);return z?_:_.endOf(R)},M=function(G,V){return F.w(le.toDate()[G].apply(le.toDate("s"),(z?[0,0,0,0]:[23,59,59,999]).slice(V)),le)},s=this.$W,h=this.$M,x=this.$D,P="set"+(this.$u?"UTC":"");switch(A){case a:return z?U(1,0):U(31,11);case n:return z?U(1,h):U(0,h+1);case y:var I=this.$locale().weekStart||0,C=(s<I?s+7:s)-I;return U(z?x-C:x+(6-C),h);case R:case f:return M(P+"Hours",0);case O:return M(P+"Minutes",1);case E:return M(P+"Seconds",2);case k:return M(P+"Milliseconds",3);default:return this.clone()}},te.endOf=function(ie){return this.startOf(ie,!1)},te.$set=function(ie,se){var le,z=F.p(ie),A="set"+(this.$u?"UTC":""),U=(le={},le[R]=A+"Date",le[f]=A+"Date",le[n]=A+"Month",le[a]=A+"FullYear",le[O]=A+"Hours",le[E]=A+"Minutes",le[k]=A+"Seconds",le[W]=A+"Milliseconds",le)[z],M=z===R?this.$D+(se-this.$W):se;if(z===n||z===a){var s=this.clone().set(f,1);s.$d[U](M),s.init(),this.$d=s.set(f,Math.min(this.$D,s.daysInMonth())).$d}else U&&this.$d[U](M);return this.init(),this},te.set=function(ie,se){return this.clone().$set(ie,se)},te.get=function(ie){return this[F.p(ie)]()},te.add=function(ie,se){var le,z=this;ie=Number(ie);var A=F.p(se),U=function(h){var x=w(z);return F.w(x.date(x.date()+Math.round(h*ie)),z)};if(A===n)return this.set(n,this.$M+ie);if(A===a)return this.set(a,this.$y+ie);if(A===R)return U(1);if(A===y)return U(7);var M=(le={},le[E]=6e4,le[O]=36e5,le[k]=1e3,le)[A]||1,s=this.$d.getTime()+ie*M;return F.w(s,this)},te.subtract=function(ie,se){return this.add(-1*ie,se)},te.format=function(ie){var se=this;if(!this.isValid())return"Invalid Date";var le=ie||"YYYY-MM-DDTHH:mm:ssZ",z=F.z(this),A=this.$locale(),U=this.$H,M=this.$m,s=this.$M,h=A.weekdays,x=A.months,P=function(V,_,Y,pe){return V&&(V[_]||V(se,le))||Y[_].substr(0,pe)},I=function(V){return F.s(U%12||12,V,"0")},C=A.meridiem||function(V,_,Y){var pe=V<12?"AM":"PM";return Y?pe.toLowerCase():pe},G={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:F.s(s+1,2,"0"),MMM:P(A.monthsShort,s,x,3),MMMM:P(x,s),D:this.$D,DD:F.s(this.$D,2,"0"),d:String(this.$W),dd:P(A.weekdaysMin,this.$W,h,2),ddd:P(A.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(U),HH:F.s(U,2,"0"),h:I(1),hh:I(2),a:C(U,M,!0),A:C(U,M,!1),m:String(M),mm:F.s(M,2,"0"),s:String(this.$s),ss:F.s(this.$s,2,"0"),SSS:F.s(this.$ms,3,"0"),Z:z};return le.replace(c,function(V,_){return _||G[V]||z.replace(":","")})},te.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},te.diff=function(ie,se,le){var z,A=F.p(se),U=w(ie),M=6e4*(U.utcOffset()-this.utcOffset()),s=this-U,h=F.m(this,U);return h=(z={},z[a]=h/12,z[n]=h,z[u]=h/3,z[y]=(s-M)/6048e5,z[R]=(s-M)/864e5,z[O]=s/36e5,z[E]=s/6e4,z[k]=s/1e3,z)[A]||s,le?h:F.a(h)},te.daysInMonth=function(){return this.endOf(n).$D},te.$locale=function(){return g[this.$L]},te.locale=function(ie,se){if(!ie)return this.$L;var le=this.clone(),z=D(ie,se,!0);return z&&(le.$L=z),le},te.clone=function(){return F.w(this.$d,this)},te.toDate=function(){return new Date(this.valueOf())},te.toJSON=function(){return this.isValid()?this.toISOString():null},te.toISOString=function(){return this.$d.toISOString()},te.toString=function(){return this.$d.toUTCString()},ee}(),Q=H.prototype;return w.prototype=Q,[["$ms",W],["$s",k],["$m",E],["$H",O],["$W",R],["$M",n],["$y",a],["$D",f]].forEach(function(ee){Q[ee[1]]=function(te){return this.$g(te,ee[0],ee[1])}}),w.extend=function(ee,te){return ee.$i||(ee(te,H,w),ee.$i=!0),w},w.locale=D,w.isDayjs=S,w.unix=function(ee){return w(1e3*ee)},w.en=g[m],w.Ls=g,w.p={},w})},4110:function(v){(function(W,k){v.exports=k()})(this,function(){"use strict";return function(W,k,E){W=W||{};var O=k.prototype,R={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function y(u,a,f,b){return O.fromToBase(u,a,f,b)}E.en.relativeTime=R,O.fromToBase=function(u,a,f,b,c){for(var l,T,d,m=f.$locale().relativeTime||R,g=W.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=g.length,D=0;D<S;D+=1){var w=g[D];w.d&&(l=b?E(u).diff(f,w.d,!0):f.diff(u,w.d,!0));var F=(W.rounding||Math.round)(Math.abs(l));if(d=l>0,F<=w.r||!w.r){F<=1&&D>0&&(w=g[D-1]);var H=m[w.l];c&&(F=c(""+F)),T=typeof H=="string"?H.replace("%d",F):H(F,a,w.l,d);break}}if(a)return T;var Q=d?m.future:m.past;return typeof Q=="function"?Q(T):Q.replace("%s",T)},O.to=function(u,a){return y(u,a,this,!0)},O.from=function(u,a){return y(u,a,this)};var n=function(u){return u.$u?E.utc():E()};O.toNow=function(u){return this.to(n(this),u)},O.fromNow=function(u){return this.from(n(this),u)}}})},660:function(v){(function(W,k){v.exports=k()})(this,function(){"use strict";return function(W,k,E){E.updateLocale=function(O,R){var y=E.Ls[O];if(y)return(R?Object.keys(R):[]).forEach(function(n){y[n]=R[n]}),y}}})},5251:(v,W,k)=>{"use strict";W.utils=k(1278),W.Cipher=k(5756),W.DES=k(778),W.CBC=k(9051),W.EDE=k(651)},9051:(v,W,k)=>{"use strict";var E=k(9746),O=k(5717),R={};function y(u){E.equal(u.length,8,"Invalid IV length"),this.iv=new Array(8);for(var a=0;a<this.iv.length;a++)this.iv[a]=u[a]}function n(u){function a(l){u.call(this,l),this._cbcInit()}O(a,u);for(var f=Object.keys(R),b=0;b<f.length;b++){var c=f[b];a.prototype[c]=R[c]}return a.create=function(T){return new a(T)},a}W.instantiate=n,R._cbcInit=function(){var a=new y(this.options.iv);this._cbcState=a},R._update=function(a,f,b,c){var l=this._cbcState,T=this.constructor.super_.prototype,d=l.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)d[m]^=a[f+m];T._update.call(this,d,0,b,c);for(var m=0;m<this.blockSize;m++)d[m]=b[c+m]}else{T._update.call(this,a,f,b,c);for(var m=0;m<this.blockSize;m++)b[c+m]^=d[m];for(var m=0;m<this.blockSize;m++)d[m]=a[f+m]}}},5756:(v,W,k)=>{"use strict";var E=k(9746);function O(R){this.options=R,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}v.exports=O,O.prototype._init=function(){},O.prototype.update=function(y){return y.length===0?[]:this.type==="decrypt"?this._updateDecrypt(y):this._updateEncrypt(y)},O.prototype._buffer=function(y,n){for(var u=Math.min(this.buffer.length-this.bufferOff,y.length-n),a=0;a<u;a++)this.buffer[this.bufferOff+a]=y[n+a];return this.bufferOff+=u,u},O.prototype._flushBuffer=function(y,n){return this._update(this.buffer,0,y,n),this.bufferOff=0,this.blockSize},O.prototype._updateEncrypt=function(y){var n=0,u=0,a=(this.bufferOff+y.length)/this.blockSize|0,f=new Array(a*this.blockSize);this.bufferOff!==0&&(n+=this._buffer(y,n),this.bufferOff===this.buffer.length&&(u+=this._flushBuffer(f,u)));for(var b=y.length-(y.length-n)%this.blockSize;n<b;n+=this.blockSize)this._update(y,n,f,u),u+=this.blockSize;for(;n<y.length;n++,this.bufferOff++)this.buffer[this.bufferOff]=y[n];return f},O.prototype._updateDecrypt=function(y){for(var n=0,u=0,a=Math.ceil((this.bufferOff+y.length)/this.blockSize)-1,f=new Array(a*this.blockSize);a>0;a--)n+=this._buffer(y,n),u+=this._flushBuffer(f,u);return n+=this._buffer(y,n),f},O.prototype.final=function(y){var n;y&&(n=this.update(y));var u;return this.type==="encrypt"?u=this._finalEncrypt():u=this._finalDecrypt(),n?n.concat(u):u},O.prototype._pad=function(y,n){if(n===0)return!1;for(;n<y.length;)y[n++]=0;return!0},O.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var y=new Array(this.blockSize);return this._update(this.buffer,0,y,0),y},O.prototype._unpad=function(y){return y},O.prototype._finalDecrypt=function(){E.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var y=new Array(this.blockSize);return this._flushBuffer(y,0),this._unpad(y)}},778:(v,W,k)=>{"use strict";var E=k(9746),O=k(5717),R=k(1278),y=k(5756);function n(){this.tmp=new Array(2),this.keys=null}function u(f){y.call(this,f);var b=new n;this._desState=b,this.deriveKeys(b,f.key)}O(u,y),v.exports=u,u.create=function(b){return new u(b)};var a=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(b,c){b.keys=new Array(16*2),E.equal(c.length,this.blockSize,"Invalid key length");var l=R.readUInt32BE(c,0),T=R.readUInt32BE(c,4);R.pc1(l,T,b.tmp,0),l=b.tmp[0],T=b.tmp[1];for(var d=0;d<b.keys.length;d+=2){var m=a[d>>>1];l=R.r28shl(l,m),T=R.r28shl(T,m),R.pc2(l,T,b.keys,d)}},u.prototype._update=function(b,c,l,T){var d=this._desState,m=R.readUInt32BE(b,c),g=R.readUInt32BE(b,c+4);R.ip(m,g,d.tmp,0),m=d.tmp[0],g=d.tmp[1],this.type==="encrypt"?this._encrypt(d,m,g,d.tmp,0):this._decrypt(d,m,g,d.tmp,0),m=d.tmp[0],g=d.tmp[1],R.writeUInt32BE(l,m,T),R.writeUInt32BE(l,g,T+4)},u.prototype._pad=function(b,c){for(var l=b.length-c,T=c;T<b.length;T++)b[T]=l;return!0},u.prototype._unpad=function(b){for(var c=b[b.length-1],l=b.length-c;l<b.length;l++)E.equal(b[l],c);return b.slice(0,b.length-c)},u.prototype._encrypt=function(b,c,l,T,d){for(var m=c,g=l,S=0;S<b.keys.length;S+=2){var D=b.keys[S],w=b.keys[S+1];R.expand(g,b.tmp,0),D^=b.tmp[0],w^=b.tmp[1];var F=R.substitute(D,w),H=R.permute(F),Q=g;g=(m^H)>>>0,m=Q}R.rip(g,m,T,d)},u.prototype._decrypt=function(b,c,l,T,d){for(var m=l,g=c,S=b.keys.length-2;S>=0;S-=2){var D=b.keys[S],w=b.keys[S+1];R.expand(m,b.tmp,0),D^=b.tmp[0],w^=b.tmp[1];var F=R.substitute(D,w),H=R.permute(F),Q=m;m=(g^H)>>>0,g=Q}R.rip(m,g,T,d)}},651:(v,W,k)=>{"use strict";var E=k(9746),O=k(5717),R=k(5756),y=k(778);function n(a,f){E.equal(f.length,24,"Invalid key length");var b=f.slice(0,8),c=f.slice(8,16),l=f.slice(16,24);a==="encrypt"?this.ciphers=[y.create({type:"encrypt",key:b}),y.create({type:"decrypt",key:c}),y.create({type:"encrypt",key:l})]:this.ciphers=[y.create({type:"decrypt",key:l}),y.create({type:"encrypt",key:c}),y.create({type:"decrypt",key:b})]}function u(a){R.call(this,a);var f=new n(this.type,this.options.key);this._edeState=f}O(u,R),v.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,b,c,l){var T=this._edeState;T.ciphers[0]._update(f,b,c,l),T.ciphers[1]._update(c,l,c,l),T.ciphers[2]._update(c,l,c,l)},u.prototype._pad=y.prototype._pad,u.prototype._unpad=y.prototype._unpad},1278:(v,W)=>{"use strict";W.readUInt32BE=function(y,n){var u=y[0+n]<<24|y[1+n]<<16|y[2+n]<<8|y[3+n];return u>>>0},W.writeUInt32BE=function(y,n,u){y[0+u]=n>>>24,y[1+u]=n>>>16&255,y[2+u]=n>>>8&255,y[3+u]=n&255},W.ip=function(y,n,u,a){for(var f=0,b=0,c=6;c>=0;c-=2){for(var l=0;l<=24;l+=8)f<<=1,f|=n>>>l+c&1;for(var l=0;l<=24;l+=8)f<<=1,f|=y>>>l+c&1}for(var c=6;c>=0;c-=2){for(var l=1;l<=25;l+=8)b<<=1,b|=n>>>l+c&1;for(var l=1;l<=25;l+=8)b<<=1,b|=y>>>l+c&1}u[a+0]=f>>>0,u[a+1]=b>>>0},W.rip=function(y,n,u,a){for(var f=0,b=0,c=0;c<4;c++)for(var l=24;l>=0;l-=8)f<<=1,f|=n>>>l+c&1,f<<=1,f|=y>>>l+c&1;for(var c=4;c<8;c++)for(var l=24;l>=0;l-=8)b<<=1,b|=n>>>l+c&1,b<<=1,b|=y>>>l+c&1;u[a+0]=f>>>0,u[a+1]=b>>>0},W.pc1=function(y,n,u,a){for(var f=0,b=0,c=7;c>=5;c--){for(var l=0;l<=24;l+=8)f<<=1,f|=n>>l+c&1;for(var l=0;l<=24;l+=8)f<<=1,f|=y>>l+c&1}for(var l=0;l<=24;l+=8)f<<=1,f|=n>>l+c&1;for(var c=1;c<=3;c++){for(var l=0;l<=24;l+=8)b<<=1,b|=n>>l+c&1;for(var l=0;l<=24;l+=8)b<<=1,b|=y>>l+c&1}for(var l=0;l<=24;l+=8)b<<=1,b|=y>>l+c&1;u[a+0]=f>>>0,u[a+1]=b>>>0},W.r28shl=function(y,n){return y<<n&268435455|y>>>28-n};var k=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];W.pc2=function(y,n,u,a){for(var f=0,b=0,c=k.length>>>1,l=0;l<c;l++)f<<=1,f|=y>>>k[l]&1;for(var l=c;l<k.length;l++)b<<=1,b|=n>>>k[l]&1;u[a+0]=f>>>0,u[a+1]=b>>>0},W.expand=function(y,n,u){var a=0,f=0;a=(y&1)<<5|y>>>27;for(var b=23;b>=15;b-=4)a<<=6,a|=y>>>b&63;for(var b=11;b>=3;b-=4)f|=y>>>b&63,f<<=6;f|=(y&31)<<1|y>>>31,n[u+0]=a>>>0,n[u+1]=f>>>0};var E=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];W.substitute=function(y,n){for(var u=0,a=0;a<4;a++){var f=y>>>18-a*6&63,b=E[a*64+f];u<<=4,u|=b}for(var a=0;a<4;a++){var f=n>>>18-a*6&63,b=E[4*64+a*64+f];u<<=4,u|=b}return u>>>0};var O=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];W.permute=function(y){for(var n=0,u=0;u<O.length;u++)n<<=1,n|=y>>>O[u]&1;return n>>>0},W.padSplit=function(y,n,u){for(var a=y.toString(2);a.length<n;)a="0"+a;for(var f=[],b=0;b<n;b+=u)f.push(a.slice(b,b+u));return f.join(" ")}},2607:(v,W,k)=>{var E=k(3590),O=k(1930),R=k(7426);function y(a){var f=new Buffer(O[a].prime,"hex"),b=new Buffer(O[a].gen,"hex");return new R(f,b)}var n={binary:!0,hex:!0,base64:!0};function u(a,f,b,c){return Buffer.isBuffer(f)||n[f]===void 0?u(a,"binary",f,b):(f=f||"binary",c=c||"binary",b=b||new Buffer([2]),Buffer.isBuffer(b)||(b=new Buffer(b,c)),typeof a=="number"?new R(E(a,b),b,!0):(Buffer.isBuffer(a)||(a=new Buffer(a,f)),new R(a,b,!0)))}W.DiffieHellmanGroup=W.createDiffieHellmanGroup=W.getDiffieHellman=y,W.createDiffieHellman=W.DiffieHellman=u},7426:(v,W,k)=>{var E=k(3550),O=k(3047),R=new O,y=new E(24),n=new E(11),u=new E(10),a=new E(3),f=new E(7),b=k(3590),c=k(1798);v.exports=g;function l(D,w){return w=w||"utf8",Buffer.isBuffer(D)||(D=new Buffer(D,w)),this._pub=new E(D),this}function T(D,w){return w=w||"utf8",Buffer.isBuffer(D)||(D=new Buffer(D,w)),this._priv=new E(D),this}var d={};function m(D,w){var F=w.toString("hex"),H=[F,D.toString(16)].join("_");if(H in d)return d[H];var Q=0;if(D.isEven()||!b.simpleSieve||!b.fermatTest(D)||!R.test(D))return Q+=1,F==="02"||F==="05"?Q+=8:Q+=4,d[H]=Q,Q;R.test(D.shrn(1))||(Q+=2);var ee;switch(F){case"02":D.mod(y).cmp(n)&&(Q+=8);break;case"05":ee=D.mod(u),ee.cmp(a)&&ee.cmp(f)&&(Q+=8);break;default:Q+=4}return d[H]=Q,Q}function g(D,w,F){this.setGenerator(w),this.__prime=new E(D),this._prime=E.mont(this.__prime),this._primeLen=D.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=l,this.setPrivateKey=T):this._primeCode=8}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=m(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new E(c(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(D){D=new E(D),D=D.toRed(this._prime);var w=D.redPow(this._priv).fromRed(),F=new Buffer(w.toArray()),H=this.getPrime();if(F.length<H.length){var Q=new Buffer(H.length-F.length);Q.fill(0),F=Buffer.concat([Q,F])}return F},g.prototype.getPublicKey=function(w){return S(this._pub,w)},g.prototype.getPrivateKey=function(w){return S(this._priv,w)},g.prototype.getPrime=function(D){return S(this.__prime,D)},g.prototype.getGenerator=function(D){return S(this._gen,D)},g.prototype.setGenerator=function(D,w){return w=w||"utf8",Buffer.isBuffer(D)||(D=new Buffer(D,w)),this.__gen=D,this._gen=new E(D),this};function S(D,w){var F=new Buffer(D.toArray());return w?F.toString(w):F}},3590:(v,W,k)=>{var E=k(1798);v.exports=Q,Q.simpleSieve=F,Q.fermatTest=H;var O=k(3550),R=new O(24),y=k(3047),n=new y,u=new O(1),a=new O(2),f=new O(5),b=new O(16),c=new O(8),l=new O(10),T=new O(3),d=new O(7),m=new O(11),g=new O(4),S=new O(12),D=null;function w(){if(D!==null)return D;var ee=1048576,te=[];te[0]=2;for(var ie=1,se=3;se<ee;se+=2){for(var le=Math.ceil(Math.sqrt(se)),z=0;z<ie&&te[z]<=le&&se%te[z]!=0;z++);ie!==z&&te[z]<=le||(te[ie++]=se)}return D=te,te}function F(ee){for(var te=w(),ie=0;ie<te.length;ie++)if(ee.modn(te[ie])===0)return ee.cmpn(te[ie])===0;return!0}function H(ee){var te=O.mont(ee);return a.toRed(te).redPow(ee.subn(1)).fromRed().cmpn(1)===0}function Q(ee,te){if(ee<16)return te===2||te===5?new O([140,123]):new O([140,39]);te=new O(te);for(var ie,se;;){for(ie=new O(E(Math.ceil(ee/8)));ie.bitLength()>ee;)ie.ishrn(1);if(ie.isEven()&&ie.iadd(u),ie.testn(1)||ie.iadd(a),te.cmp(a)){if(!te.cmp(f))for(;ie.mod(l).cmp(T);)ie.iadd(g)}else for(;ie.mod(R).cmp(m);)ie.iadd(g);if(se=ie.shrn(1),F(se)&&F(ie)&&H(se)&&H(ie)&&n.test(se)&&n.test(ie))return ie}}},1930:v=>{"use strict";v.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},6266:(v,W,k)=>{"use strict";var E=W;E.version=k(7519).i8,E.utils=k(953),E.rand=k(9931),E.curve=k(8254),E.curves=k(5427),E.ec=k(7954),E.eddsa=k(5980)},4918:(v,W,k)=>{"use strict";var E=k(3550),O=k(953),R=O.getNAF,y=O.getJSF,n=O.assert;function u(f,b){this.type=f,this.p=new E(b.p,16),this.red=b.prime?E.red(b.prime):E.mont(this.p),this.zero=new E(0).toRed(this.red),this.one=new E(1).toRed(this.red),this.two=new E(2).toRed(this.red),this.n=b.n&&new E(b.n,16),this.g=b.g&&this.pointFromJSON(b.g,b.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var c=this.n&&this.p.div(this.n);!c||c.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}v.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(b,c){n(b.precomputed);var l=b._getDoubles(),T=R(c,1,this._bitLength),d=(1<<l.step+1)-(l.step%2==0?2:1);d/=3;var m=[],g,S;for(g=0;g<T.length;g+=l.step){S=0;for(var D=g+l.step-1;D>=g;D--)S=(S<<1)+T[D];m.push(S)}for(var w=this.jpoint(null,null,null),F=this.jpoint(null,null,null),H=d;H>0;H--){for(g=0;g<m.length;g++)S=m[g],S===H?F=F.mixedAdd(l.points[g]):S===-H&&(F=F.mixedAdd(l.points[g].neg()));w=w.add(F)}return w.toP()},u.prototype._wnafMul=function(b,c){var l=4,T=b._getNAFPoints(l);l=T.wnd;for(var d=T.points,m=R(c,l,this._bitLength),g=this.jpoint(null,null,null),S=m.length-1;S>=0;S--){for(var D=0;S>=0&&m[S]===0;S--)D++;if(S>=0&&D++,g=g.dblp(D),S<0)break;var w=m[S];n(w!==0),b.type==="affine"?w>0?g=g.mixedAdd(d[w-1>>1]):g=g.mixedAdd(d[-w-1>>1].neg()):w>0?g=g.add(d[w-1>>1]):g=g.add(d[-w-1>>1].neg())}return b.type==="affine"?g.toP():g},u.prototype._wnafMulAdd=function(b,c,l,T,d){var m=this._wnafT1,g=this._wnafT2,S=this._wnafT3,D=0,w,F,H;for(w=0;w<T;w++){H=c[w];var Q=H._getNAFPoints(b);m[w]=Q.wnd,g[w]=Q.points}for(w=T-1;w>=1;w-=2){var ee=w-1,te=w;if(m[ee]!==1||m[te]!==1){S[ee]=R(l[ee],m[ee],this._bitLength),S[te]=R(l[te],m[te],this._bitLength),D=Math.max(S[ee].length,D),D=Math.max(S[te].length,D);continue}var ie=[c[ee],null,null,c[te]];c[ee].y.cmp(c[te].y)===0?(ie[1]=c[ee].add(c[te]),ie[2]=c[ee].toJ().mixedAdd(c[te].neg())):c[ee].y.cmp(c[te].y.redNeg())===0?(ie[1]=c[ee].toJ().mixedAdd(c[te]),ie[2]=c[ee].add(c[te].neg())):(ie[1]=c[ee].toJ().mixedAdd(c[te]),ie[2]=c[ee].toJ().mixedAdd(c[te].neg()));var se=[-3,-1,-5,-7,0,7,5,1,3],le=y(l[ee],l[te]);for(D=Math.max(le[0].length,D),S[ee]=new Array(D),S[te]=new Array(D),F=0;F<D;F++){var z=le[0][F]|0,A=le[1][F]|0;S[ee][F]=se[(z+1)*3+(A+1)],S[te][F]=0,g[ee]=ie}}var U=this.jpoint(null,null,null),M=this._wnafT4;for(w=D;w>=0;w--){for(var s=0;w>=0;){var h=!0;for(F=0;F<T;F++)M[F]=S[F][w]|0,M[F]!==0&&(h=!1);if(!h)break;s++,w--}if(w>=0&&s++,U=U.dblp(s),w<0)break;for(F=0;F<T;F++){var x=M[F];x!==0&&(x>0?H=g[F][x-1>>1]:x<0&&(H=g[F][-x-1>>1].neg()),H.type==="affine"?U=U.mixedAdd(H):U=U.add(H))}}for(w=0;w<T;w++)g[w]=null;return d?U:U.toP()};function a(f,b){this.curve=f,this.type=b,this.precomputed=null}u.BasePoint=a,a.prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(b,c){b=O.toArray(b,c);var l=this.p.byteLength();if((b[0]===4||b[0]===6||b[0]===7)&&b.length-1==2*l){b[0]===6?n(b[b.length-1]%2==0):b[0]===7&&n(b[b.length-1]%2==1);var T=this.point(b.slice(1,1+l),b.slice(1+l,1+2*l));return T}else if((b[0]===2||b[0]===3)&&b.length-1===l)return this.pointFromX(b.slice(1,1+l),b[0]===3);throw new Error("Unknown point format")},a.prototype.encodeCompressed=function(b){return this.encode(b,!0)},a.prototype._encode=function(b){var c=this.curve.p.byteLength(),l=this.getX().toArray("be",c);return b?[this.getY().isEven()?2:3].concat(l):[4].concat(l,this.getY().toArray("be",c))},a.prototype.encode=function(b,c){return O.encode(this._encode(c),b)},a.prototype.precompute=function(b){if(this.precomputed)return this;var c={doubles:null,naf:null,beta:null};return c.naf=this._getNAFPoints(8),c.doubles=this._getDoubles(4,b),c.beta=this._getBeta(),this.precomputed=c,this},a.prototype._hasDoubles=function(b){if(!this.precomputed)return!1;var c=this.precomputed.doubles;return c?c.points.length>=Math.ceil((b.bitLength()+1)/c.step):!1},a.prototype._getDoubles=function(b,c){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var l=[this],T=this,d=0;d<c;d+=b){for(var m=0;m<b;m++)T=T.dbl();l.push(T)}return{step:b,points:l}},a.prototype._getNAFPoints=function(b){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var c=[this],l=(1<<b)-1,T=l===1?null:this.dbl(),d=1;d<l;d++)c[d]=c[d-1].add(T);return{wnd:b,points:c}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(b){for(var c=this,l=0;l<b;l++)c=c.dbl();return c}},1138:(v,W,k)=>{"use strict";var E=k(953),O=k(3550),R=k(5717),y=k(4918),n=E.assert;function u(f){this.twisted=(f.a|0)!=1,this.mOneA=this.twisted&&(f.a|0)==-1,this.extended=this.mOneA,y.call(this,"edwards",f),this.a=new O(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new O(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new O(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(f.c|0)==1}R(u,y),v.exports=u,u.prototype._mulA=function(b){return this.mOneA?b.redNeg():this.a.redMul(b)},u.prototype._mulC=function(b){return this.oneC?b:this.c.redMul(b)},u.prototype.jpoint=function(b,c,l,T){return this.point(b,c,l,T)},u.prototype.pointFromX=function(b,c){b=new O(b,16),b.red||(b=b.toRed(this.red));var l=b.redSqr(),T=this.c2.redSub(this.a.redMul(l)),d=this.one.redSub(this.c2.redMul(this.d).redMul(l)),m=T.redMul(d.redInvm()),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var S=g.fromRed().isOdd();return(c&&!S||!c&&S)&&(g=g.redNeg()),this.point(b,g)},u.prototype.pointFromY=function(b,c){b=new O(b,16),b.red||(b=b.toRed(this.red));var l=b.redSqr(),T=l.redSub(this.c2),d=l.redMul(this.d).redMul(this.c2).redSub(this.a),m=T.redMul(d.redInvm());if(m.cmp(this.zero)===0){if(c)throw new Error("invalid point");return this.point(this.zero,b)}var g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");return g.fromRed().isOdd()!==c&&(g=g.redNeg()),this.point(g,b)},u.prototype.validate=function(b){if(b.isInfinity())return!0;b.normalize();var c=b.x.redSqr(),l=b.y.redSqr(),T=c.redMul(this.a).redAdd(l),d=this.c2.redMul(this.one.redAdd(this.d.redMul(c).redMul(l)));return T.cmp(d)===0};function a(f,b,c,l,T){y.BasePoint.call(this,f,"projective"),b===null&&c===null&&l===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new O(b,16),this.y=new O(c,16),this.z=l?new O(l,16):this.curve.one,this.t=T&&new O(T,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}R(a,y.BasePoint),u.prototype.pointFromJSON=function(b){return a.fromJSON(this,b)},u.prototype.point=function(b,c,l,T){return new a(this,b,c,l,T)},a.fromJSON=function(b,c){return new a(b,c[0],c[1],c[2])},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},a.prototype._extDbl=function(){var b=this.x.redSqr(),c=this.y.redSqr(),l=this.z.redSqr();l=l.redIAdd(l);var T=this.curve._mulA(b),d=this.x.redAdd(this.y).redSqr().redISub(b).redISub(c),m=T.redAdd(c),g=m.redSub(l),S=T.redSub(c),D=d.redMul(g),w=m.redMul(S),F=d.redMul(S),H=g.redMul(m);return this.curve.point(D,w,H,F)},a.prototype._projDbl=function(){var b=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),l=this.y.redSqr(),T,d,m,g,S,D;if(this.curve.twisted){g=this.curve._mulA(c);var w=g.redAdd(l);this.zOne?(T=b.redSub(c).redSub(l).redMul(w.redSub(this.curve.two)),d=w.redMul(g.redSub(l)),m=w.redSqr().redSub(w).redSub(w)):(S=this.z.redSqr(),D=w.redSub(S).redISub(S),T=b.redSub(c).redISub(l).redMul(D),d=w.redMul(g.redSub(l)),m=w.redMul(D))}else g=c.redAdd(l),S=this.curve._mulC(this.z).redSqr(),D=g.redSub(S).redSub(S),T=this.curve._mulC(b.redISub(g)).redMul(D),d=this.curve._mulC(g).redMul(c.redISub(l)),m=g.redMul(D);return this.curve.point(T,d,m)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},a.prototype._extAdd=function(b){var c=this.y.redSub(this.x).redMul(b.y.redSub(b.x)),l=this.y.redAdd(this.x).redMul(b.y.redAdd(b.x)),T=this.t.redMul(this.curve.dd).redMul(b.t),d=this.z.redMul(b.z.redAdd(b.z)),m=l.redSub(c),g=d.redSub(T),S=d.redAdd(T),D=l.redAdd(c),w=m.redMul(g),F=S.redMul(D),H=m.redMul(D),Q=g.redMul(S);return this.curve.point(w,F,Q,H)},a.prototype._projAdd=function(b){var c=this.z.redMul(b.z),l=c.redSqr(),T=this.x.redMul(b.x),d=this.y.redMul(b.y),m=this.curve.d.redMul(T).redMul(d),g=l.redSub(m),S=l.redAdd(m),D=this.x.redAdd(this.y).redMul(b.x.redAdd(b.y)).redISub(T).redISub(d),w=c.redMul(g).redMul(D),F,H;return this.curve.twisted?(F=c.redMul(S).redMul(d.redSub(this.curve._mulA(T))),H=g.redMul(S)):(F=c.redMul(S).redMul(d.redSub(T)),H=this.curve._mulC(g).redMul(S)),this.curve.point(w,F,H)},a.prototype.add=function(b){return this.isInfinity()?b:b.isInfinity()?this:this.curve.extended?this._extAdd(b):this._projAdd(b)},a.prototype.mul=function(b){return this._hasDoubles(b)?this.curve._fixedNafMul(this,b):this.curve._wnafMul(this,b)},a.prototype.mulAdd=function(b,c,l){return this.curve._wnafMulAdd(1,[this,c],[b,l],2,!1)},a.prototype.jmulAdd=function(b,c,l){return this.curve._wnafMulAdd(1,[this,c],[b,l],2,!0)},a.prototype.normalize=function(){if(this.zOne)return this;var b=this.z.redInvm();return this.x=this.x.redMul(b),this.y=this.y.redMul(b),this.t&&(this.t=this.t.redMul(b)),this.z=this.curve.one,this.zOne=!0,this},a.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},a.prototype.getX=function(){return this.normalize(),this.x.fromRed()},a.prototype.getY=function(){return this.normalize(),this.y.fromRed()},a.prototype.eq=function(b){return this===b||this.getX().cmp(b.getX())===0&&this.getY().cmp(b.getY())===0},a.prototype.eqXToP=function(b){var c=b.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(c)===0)return!0;for(var l=b.clone(),T=this.curve.redN.redMul(this.z);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(c.redIAdd(T),this.x.cmp(c)===0)return!0}},a.prototype.toP=a.prototype.normalize,a.prototype.mixedAdd=a.prototype.add},8254:(v,W,k)=>{"use strict";var E=W;E.base=k(4918),E.short=k(6673),E.mont=k(2881),E.edwards=k(1138)},2881:(v,W,k)=>{"use strict";var E=k(3550),O=k(5717),R=k(4918),y=k(953);function n(a){R.call(this,"mont",a),this.a=new E(a.a,16).toRed(this.red),this.b=new E(a.b,16).toRed(this.red),this.i4=new E(4).toRed(this.red).redInvm(),this.two=new E(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}O(n,R),v.exports=n,n.prototype.validate=function(f){var b=f.normalize().x,c=b.redSqr(),l=c.redMul(b).redAdd(c.redMul(this.a)).redAdd(b),T=l.redSqrt();return T.redSqr().cmp(l)===0};function u(a,f,b){R.BasePoint.call(this,a,"projective"),f===null&&b===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new E(f,16),this.z=new E(b,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}O(u,R.BasePoint),n.prototype.decodePoint=function(f,b){return this.point(y.toArray(f,b),1)},n.prototype.point=function(f,b){return new u(this,f,b)},n.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,b){return new u(f,b[0],b[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z),b=f.redSqr(),c=this.x.redSub(this.z),l=c.redSqr(),T=b.redSub(l),d=b.redMul(l),m=T.redMul(l.redAdd(this.curve.a24.redMul(T)));return this.curve.point(d,m)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,b){var c=this.x.redAdd(this.z),l=this.x.redSub(this.z),T=f.x.redAdd(f.z),d=f.x.redSub(f.z),m=d.redMul(c),g=T.redMul(l),S=b.z.redMul(m.redAdd(g).redSqr()),D=b.x.redMul(m.redISub(g).redSqr());return this.curve.point(S,D)},u.prototype.mul=function(f){for(var b=f.clone(),c=this,l=this.curve.point(null,null),T=this,d=[];b.cmpn(0)!==0;b.iushrn(1))d.push(b.andln(1));for(var m=d.length-1;m>=0;m--)d[m]===0?(c=c.diffAdd(l,T),l=l.dbl()):(l=c.diffAdd(l,T),c=c.dbl());return l},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(v,W,k)=>{"use strict";var E=k(953),O=k(3550),R=k(5717),y=k(4918),n=E.assert;function u(b){y.call(this,"short",b),this.a=new O(b.a,16).toRed(this.red),this.b=new O(b.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(b),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}R(u,y),v.exports=u,u.prototype._getEndomorphism=function(c){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var l,T;if(c.beta)l=new O(c.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);l=d[0].cmp(d[1])<0?d[0]:d[1],l=l.toRed(this.red)}if(c.lambda)T=new O(c.lambda,16);else{var m=this._getEndoRoots(this.n);this.g.mul(m[0]).x.cmp(this.g.x.redMul(l))===0?T=m[0]:(T=m[1],n(this.g.mul(T).x.cmp(this.g.x.redMul(l))===0))}var g;return c.basis?g=c.basis.map(function(S){return{a:new O(S.a,16),b:new O(S.b,16)}}):g=this._getEndoBasis(T),{beta:l,lambda:T,basis:g}}},u.prototype._getEndoRoots=function(c){var l=c===this.p?this.red:O.mont(c),T=new O(2).toRed(l).redInvm(),d=T.redNeg(),m=new O(3).toRed(l).redNeg().redSqrt().redMul(T),g=d.redAdd(m).fromRed(),S=d.redSub(m).fromRed();return[g,S]},u.prototype._getEndoBasis=function(c){for(var l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),T=c,d=this.n.clone(),m=new O(1),g=new O(0),S=new O(0),D=new O(1),w,F,H,Q,ee,te,ie,se=0,le,z;T.cmpn(0)!==0;){var A=d.div(T);le=d.sub(A.mul(T)),z=S.sub(A.mul(m));var U=D.sub(A.mul(g));if(!H&&le.cmp(l)<0)w=ie.neg(),F=m,H=le.neg(),Q=z;else if(H&&++se==2)break;ie=le,d=T,T=le,S=m,m=z,D=g,g=U}ee=le.neg(),te=z;var M=H.sqr().add(Q.sqr()),s=ee.sqr().add(te.sqr());return s.cmp(M)>=0&&(ee=w,te=F),H.negative&&(H=H.neg(),Q=Q.neg()),ee.negative&&(ee=ee.neg(),te=te.neg()),[{a:H,b:Q},{a:ee,b:te}]},u.prototype._endoSplit=function(c){var l=this.endo.basis,T=l[0],d=l[1],m=d.b.mul(c).divRound(this.n),g=T.b.neg().mul(c).divRound(this.n),S=m.mul(T.a),D=g.mul(d.a),w=m.mul(T.b),F=g.mul(d.b),H=c.sub(S).sub(D),Q=w.add(F).neg();return{k1:H,k2:Q}},u.prototype.pointFromX=function(c,l){c=new O(c,16),c.red||(c=c.toRed(this.red));var T=c.redSqr().redMul(c).redIAdd(c.redMul(this.a)).redIAdd(this.b),d=T.redSqrt();if(d.redSqr().redSub(T).cmp(this.zero)!==0)throw new Error("invalid point");var m=d.fromRed().isOdd();return(l&&!m||!l&&m)&&(d=d.redNeg()),this.point(c,d)},u.prototype.validate=function(c){if(c.inf)return!0;var l=c.x,T=c.y,d=this.a.redMul(l),m=l.redSqr().redMul(l).redIAdd(d).redIAdd(this.b);return T.redSqr().redISub(m).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(c,l,T){for(var d=this._endoWnafT1,m=this._endoWnafT2,g=0;g<c.length;g++){var S=this._endoSplit(l[g]),D=c[g],w=D._getBeta();S.k1.negative&&(S.k1.ineg(),D=D.neg(!0)),S.k2.negative&&(S.k2.ineg(),w=w.neg(!0)),d[g*2]=D,d[g*2+1]=w,m[g*2]=S.k1,m[g*2+1]=S.k2}for(var F=this._wnafMulAdd(1,d,m,g*2,T),H=0;H<g*2;H++)d[H]=null,m[H]=null;return F};function a(b,c,l,T){y.BasePoint.call(this,b,"affine"),c===null&&l===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new O(c,16),this.y=new O(l,16),T&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}R(a,y.BasePoint),u.prototype.point=function(c,l,T){return new a(this,c,l,T)},u.prototype.pointFromJSON=function(c,l){return a.fromJSON(this,c,l)},a.prototype._getBeta=function(){if(!!this.curve.endo){var c=this.precomputed;if(c&&c.beta)return c.beta;var l=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(c){var T=this.curve,d=function(m){return T.point(m.x.redMul(T.endo.beta),m.y)};c.beta=l,l.precomputed={beta:null,naf:c.naf&&{wnd:c.naf.wnd,points:c.naf.points.map(d)},doubles:c.doubles&&{step:c.doubles.step,points:c.doubles.points.map(d)}}}return l}},a.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},a.fromJSON=function(c,l,T){typeof l=="string"&&(l=JSON.parse(l));var d=c.point(l[0],l[1],T);if(!l[2])return d;function m(S){return c.point(S[0],S[1],T)}var g=l[2];return d.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[d].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[d].concat(g.naf.points.map(m))}},d},a.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},a.prototype.isInfinity=function(){return this.inf},a.prototype.add=function(c){if(this.inf)return c;if(c.inf)return this;if(this.eq(c))return this.dbl();if(this.neg().eq(c))return this.curve.point(null,null);if(this.x.cmp(c.x)===0)return this.curve.point(null,null);var l=this.y.redSub(c.y);l.cmpn(0)!==0&&(l=l.redMul(this.x.redSub(c.x).redInvm()));var T=l.redSqr().redISub(this.x).redISub(c.x),d=l.redMul(this.x.redSub(T)).redISub(this.y);return this.curve.point(T,d)},a.prototype.dbl=function(){if(this.inf)return this;var c=this.y.redAdd(this.y);if(c.cmpn(0)===0)return this.curve.point(null,null);var l=this.curve.a,T=this.x.redSqr(),d=c.redInvm(),m=T.redAdd(T).redIAdd(T).redIAdd(l).redMul(d),g=m.redSqr().redISub(this.x.redAdd(this.x)),S=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,S)},a.prototype.getX=function(){return this.x.fromRed()},a.prototype.getY=function(){return this.y.fromRed()},a.prototype.mul=function(c){return c=new O(c,16),this.isInfinity()?this:this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve.endo?this.curve._endoWnafMulAdd([this],[c]):this.curve._wnafMul(this,c)},a.prototype.mulAdd=function(c,l,T){var d=[this,l],m=[c,T];return this.curve.endo?this.curve._endoWnafMulAdd(d,m):this.curve._wnafMulAdd(1,d,m,2)},a.prototype.jmulAdd=function(c,l,T){var d=[this,l],m=[c,T];return this.curve.endo?this.curve._endoWnafMulAdd(d,m,!0):this.curve._wnafMulAdd(1,d,m,2,!0)},a.prototype.eq=function(c){return this===c||this.inf===c.inf&&(this.inf||this.x.cmp(c.x)===0&&this.y.cmp(c.y)===0)},a.prototype.neg=function(c){if(this.inf)return this;var l=this.curve.point(this.x,this.y.redNeg());if(c&&this.precomputed){var T=this.precomputed,d=function(m){return m.neg()};l.precomputed={naf:T.naf&&{wnd:T.naf.wnd,points:T.naf.points.map(d)},doubles:T.doubles&&{step:T.doubles.step,points:T.doubles.points.map(d)}}}return l},a.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var c=this.curve.jpoint(this.x,this.y,this.curve.one);return c};function f(b,c,l,T){y.BasePoint.call(this,b,"jacobian"),c===null&&l===null&&T===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new O(0)):(this.x=new O(c,16),this.y=new O(l,16),this.z=new O(T,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}R(f,y.BasePoint),u.prototype.jpoint=function(c,l,T){return new f(this,c,l,T)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var c=this.z.redInvm(),l=c.redSqr(),T=this.x.redMul(l),d=this.y.redMul(l).redMul(c);return this.curve.point(T,d)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(c){if(this.isInfinity())return c;if(c.isInfinity())return this;var l=c.z.redSqr(),T=this.z.redSqr(),d=this.x.redMul(l),m=c.x.redMul(T),g=this.y.redMul(l.redMul(c.z)),S=c.y.redMul(T.redMul(this.z)),D=d.redSub(m),w=g.redSub(S);if(D.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=D.redSqr(),H=F.redMul(D),Q=d.redMul(F),ee=w.redSqr().redIAdd(H).redISub(Q).redISub(Q),te=w.redMul(Q.redISub(ee)).redISub(g.redMul(H)),ie=this.z.redMul(c.z).redMul(D);return this.curve.jpoint(ee,te,ie)},f.prototype.mixedAdd=function(c){if(this.isInfinity())return c.toJ();if(c.isInfinity())return this;var l=this.z.redSqr(),T=this.x,d=c.x.redMul(l),m=this.y,g=c.y.redMul(l).redMul(this.z),S=T.redSub(d),D=m.redSub(g);if(S.cmpn(0)===0)return D.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=S.redSqr(),F=w.redMul(S),H=T.redMul(w),Q=D.redSqr().redIAdd(F).redISub(H).redISub(H),ee=D.redMul(H.redISub(Q)).redISub(m.redMul(F)),te=this.z.redMul(S);return this.curve.jpoint(Q,ee,te)},f.prototype.dblp=function(c){if(c===0)return this;if(this.isInfinity())return this;if(!c)return this.dbl();var l;if(this.curve.zeroA||this.curve.threeA){var T=this;for(l=0;l<c;l++)T=T.dbl();return T}var d=this.curve.a,m=this.curve.tinv,g=this.x,S=this.y,D=this.z,w=D.redSqr().redSqr(),F=S.redAdd(S);for(l=0;l<c;l++){var H=g.redSqr(),Q=F.redSqr(),ee=Q.redSqr(),te=H.redAdd(H).redIAdd(H).redIAdd(d.redMul(w)),ie=g.redMul(Q),se=te.redSqr().redISub(ie.redAdd(ie)),le=ie.redISub(se),z=te.redMul(le);z=z.redIAdd(z).redISub(ee);var A=F.redMul(D);l+1<c&&(w=w.redMul(ee)),g=se,D=A,F=z}return this.curve.jpoint(g,F.redMul(m),D)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var c,l,T;if(this.zOne){var d=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),S=this.x.redAdd(m).redSqr().redISub(d).redISub(g);S=S.redIAdd(S);var D=d.redAdd(d).redIAdd(d),w=D.redSqr().redISub(S).redISub(S),F=g.redIAdd(g);F=F.redIAdd(F),F=F.redIAdd(F),c=w,l=D.redMul(S.redISub(w)).redISub(F),T=this.y.redAdd(this.y)}else{var H=this.x.redSqr(),Q=this.y.redSqr(),ee=Q.redSqr(),te=this.x.redAdd(Q).redSqr().redISub(H).redISub(ee);te=te.redIAdd(te);var ie=H.redAdd(H).redIAdd(H),se=ie.redSqr(),le=ee.redIAdd(ee);le=le.redIAdd(le),le=le.redIAdd(le),c=se.redISub(te).redISub(te),l=ie.redMul(te.redISub(c)).redISub(le),T=this.y.redMul(this.z),T=T.redIAdd(T)}return this.curve.jpoint(c,l,T)},f.prototype._threeDbl=function(){var c,l,T;if(this.zOne){var d=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),S=this.x.redAdd(m).redSqr().redISub(d).redISub(g);S=S.redIAdd(S);var D=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),w=D.redSqr().redISub(S).redISub(S);c=w;var F=g.redIAdd(g);F=F.redIAdd(F),F=F.redIAdd(F),l=D.redMul(S.redISub(w)).redISub(F),T=this.y.redAdd(this.y)}else{var H=this.z.redSqr(),Q=this.y.redSqr(),ee=this.x.redMul(Q),te=this.x.redSub(H).redMul(this.x.redAdd(H));te=te.redAdd(te).redIAdd(te);var ie=ee.redIAdd(ee);ie=ie.redIAdd(ie);var se=ie.redAdd(ie);c=te.redSqr().redISub(se),T=this.y.redAdd(this.z).redSqr().redISub(Q).redISub(H);var le=Q.redSqr();le=le.redIAdd(le),le=le.redIAdd(le),le=le.redIAdd(le),l=te.redMul(ie.redISub(c)).redISub(le)}return this.curve.jpoint(c,l,T)},f.prototype._dbl=function(){var c=this.curve.a,l=this.x,T=this.y,d=this.z,m=d.redSqr().redSqr(),g=l.redSqr(),S=T.redSqr(),D=g.redAdd(g).redIAdd(g).redIAdd(c.redMul(m)),w=l.redAdd(l);w=w.redIAdd(w);var F=w.redMul(S),H=D.redSqr().redISub(F.redAdd(F)),Q=F.redISub(H),ee=S.redSqr();ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var te=D.redMul(Q).redISub(ee),ie=T.redAdd(T).redMul(d);return this.curve.jpoint(H,te,ie)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var c=this.x.redSqr(),l=this.y.redSqr(),T=this.z.redSqr(),d=l.redSqr(),m=c.redAdd(c).redIAdd(c),g=m.redSqr(),S=this.x.redAdd(l).redSqr().redISub(c).redISub(d);S=S.redIAdd(S),S=S.redAdd(S).redIAdd(S),S=S.redISub(g);var D=S.redSqr(),w=d.redIAdd(d);w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w);var F=m.redIAdd(S).redSqr().redISub(g).redISub(D).redISub(w),H=l.redMul(F);H=H.redIAdd(H),H=H.redIAdd(H);var Q=this.x.redMul(D).redISub(H);Q=Q.redIAdd(Q),Q=Q.redIAdd(Q);var ee=this.y.redMul(F.redMul(w.redISub(F)).redISub(S.redMul(D)));ee=ee.redIAdd(ee),ee=ee.redIAdd(ee),ee=ee.redIAdd(ee);var te=this.z.redAdd(S).redSqr().redISub(T).redISub(D);return this.curve.jpoint(Q,ee,te)},f.prototype.mul=function(c,l){return c=new O(c,l),this.curve._wnafMul(this,c)},f.prototype.eq=function(c){if(c.type==="affine")return this.eq(c.toJ());if(this===c)return!0;var l=this.z.redSqr(),T=c.z.redSqr();if(this.x.redMul(T).redISub(c.x.redMul(l)).cmpn(0)!==0)return!1;var d=l.redMul(this.z),m=T.redMul(c.z);return this.y.redMul(m).redISub(c.y.redMul(d)).cmpn(0)===0},f.prototype.eqXToP=function(c){var l=this.z.redSqr(),T=c.toRed(this.curve.red).redMul(l);if(this.x.cmp(T)===0)return!0;for(var d=c.clone(),m=this.curve.redN.redMul(l);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(T.redIAdd(m),this.x.cmp(T)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},5427:(v,W,k)=>{"use strict";var E=W,O=k(3715),R=k(8254),y=k(953),n=y.assert;function u(b){b.type==="short"?this.curve=new R.short(b):b.type==="edwards"?this.curve=new R.edwards(b):this.curve=new R.mont(b),this.g=this.curve.g,this.n=this.curve.n,this.hash=b.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}E.PresetCurve=u;function a(b,c){Object.defineProperty(E,b,{configurable:!0,enumerable:!0,get:function(){var l=new u(c);return Object.defineProperty(E,b,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:O.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:O.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:O.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:O.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:O.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:O.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:O.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var f;try{f=k(1037)}catch(b){f=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:O.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",f]})},7954:(v,W,k)=>{"use strict";var E=k(3550),O=k(2156),R=k(953),y=k(5427),n=k(9931),u=R.assert,a=k(1251),f=k(611);function b(c){if(!(this instanceof b))return new b(c);typeof c=="string"&&(u(Object.prototype.hasOwnProperty.call(y,c),"Unknown curve "+c),c=y[c]),c instanceof y.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}v.exports=b,b.prototype.keyPair=function(l){return new a(this,l)},b.prototype.keyFromPrivate=function(l,T){return a.fromPrivate(this,l,T)},b.prototype.keyFromPublic=function(l,T){return a.fromPublic(this,l,T)},b.prototype.genKeyPair=function(l){l||(l={});for(var T=new O({hash:this.hash,pers:l.pers,persEnc:l.persEnc||"utf8",entropy:l.entropy||n(this.hash.hmacStrength),entropyEnc:l.entropy&&l.entropyEnc||"utf8",nonce:this.n.toArray()}),d=this.n.byteLength(),m=this.n.sub(new E(2));;){var g=new E(T.generate(d));if(!(g.cmp(m)>0))return g.iaddn(1),this.keyFromPrivate(g)}},b.prototype._truncateToN=function(l,T){var d=l.byteLength()*8-this.n.bitLength();return d>0&&(l=l.ushrn(d)),!T&&l.cmp(this.n)>=0?l.sub(this.n):l},b.prototype.sign=function(l,T,d,m){typeof d=="object"&&(m=d,d=null),m||(m={}),T=this.keyFromPrivate(T,d),l=this._truncateToN(new E(l,16));for(var g=this.n.byteLength(),S=T.getPrivate().toArray("be",g),D=l.toArray("be",g),w=new O({hash:this.hash,entropy:S,nonce:D,pers:m.pers,persEnc:m.persEnc||"utf8"}),F=this.n.sub(new E(1)),H=0;;H++){var Q=m.k?m.k(H):new E(w.generate(this.n.byteLength()));if(Q=this._truncateToN(Q,!0),!(Q.cmpn(1)<=0||Q.cmp(F)>=0)){var ee=this.g.mul(Q);if(!ee.isInfinity()){var te=ee.getX(),ie=te.umod(this.n);if(ie.cmpn(0)!==0){var se=Q.invm(this.n).mul(ie.mul(T.getPrivate()).iadd(l));if(se=se.umod(this.n),se.cmpn(0)!==0){var le=(ee.getY().isOdd()?1:0)|(te.cmp(ie)!==0?2:0);return m.canonical&&se.cmp(this.nh)>0&&(se=this.n.sub(se),le^=1),new f({r:ie,s:se,recoveryParam:le})}}}}}},b.prototype.verify=function(l,T,d,m){l=this._truncateToN(new E(l,16)),d=this.keyFromPublic(d,m),T=new f(T,"hex");var g=T.r,S=T.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||S.cmpn(1)<0||S.cmp(this.n)>=0)return!1;var D=S.invm(this.n),w=D.mul(l).umod(this.n),F=D.mul(g).umod(this.n),H;return this.curve._maxwellTrick?(H=this.g.jmulAdd(w,d.getPublic(),F),H.isInfinity()?!1:H.eqXToP(g)):(H=this.g.mulAdd(w,d.getPublic(),F),H.isInfinity()?!1:H.getX().umod(this.n).cmp(g)===0)},b.prototype.recoverPubKey=function(c,l,T,d){u((3&T)===T,"The recovery param is more than two bits"),l=new f(l,d);var m=this.n,g=new E(c),S=l.r,D=l.s,w=T&1,F=T>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");F?S=this.curve.pointFromX(S.add(this.curve.n),w):S=this.curve.pointFromX(S,w);var H=l.r.invm(m),Q=m.sub(g).mul(H).umod(m),ee=D.mul(H).umod(m);return this.g.mulAdd(Q,S,ee)},b.prototype.getKeyRecoveryParam=function(c,l,T,d){if(l=new f(l,d),l.recoveryParam!==null)return l.recoveryParam;for(var m=0;m<4;m++){var g;try{g=this.recoverPubKey(c,l,m)}catch(S){continue}if(g.eq(T))return m}throw new Error("Unable to find valid recovery factor")}},1251:(v,W,k)=>{"use strict";var E=k(3550),O=k(953),R=O.assert;function y(n,u){this.ec=n,this.priv=null,this.pub=null,u.priv&&this._importPrivate(u.priv,u.privEnc),u.pub&&this._importPublic(u.pub,u.pubEnc)}v.exports=y,y.fromPublic=function(u,a,f){return a instanceof y?a:new y(u,{pub:a,pubEnc:f})},y.fromPrivate=function(u,a,f){return a instanceof y?a:new y(u,{priv:a,privEnc:f})},y.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},y.prototype.getPublic=function(u,a){return typeof u=="string"&&(a=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,u):this.pub},y.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},y.prototype._importPrivate=function(u,a){this.priv=new E(u,a||16),this.priv=this.priv.umod(this.ec.curve.n)},y.prototype._importPublic=function(u,a){if(u.x||u.y){this.ec.curve.type==="mont"?R(u.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&R(u.x&&u.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(u.x,u.y);return}this.pub=this.ec.curve.decodePoint(u,a)},y.prototype.derive=function(u){return u.validate()||R(u.validate(),"public point not validated"),u.mul(this.priv).getX()},y.prototype.sign=function(u,a,f){return this.ec.sign(u,this,a,f)},y.prototype.verify=function(u,a){return this.ec.verify(u,a,this)},y.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:(v,W,k)=>{"use strict";var E=k(3550),O=k(953),R=O.assert;function y(b,c){if(b instanceof y)return b;this._importDER(b,c)||(R(b.r&&b.s,"Signature without r or s"),this.r=new E(b.r,16),this.s=new E(b.s,16),b.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=b.recoveryParam)}v.exports=y;function n(){this.place=0}function u(b,c){var l=b[c.place++];if(!(l&128))return l;var T=l&15;if(T===0||T>4)return!1;for(var d=0,m=0,g=c.place;m<T;m++,g++)d<<=8,d|=b[g],d>>>=0;return d<=127?!1:(c.place=g,d)}function a(b){for(var c=0,l=b.length-1;!b[c]&&!(b[c+1]&128)&&c<l;)c++;return c===0?b:b.slice(c)}y.prototype._importDER=function(c,l){c=O.toArray(c,l);var T=new n;if(c[T.place++]!==48)return!1;var d=u(c,T);if(d===!1||d+T.place!==c.length||c[T.place++]!==2)return!1;var m=u(c,T);if(m===!1)return!1;var g=c.slice(T.place,m+T.place);if(T.place+=m,c[T.place++]!==2)return!1;var S=u(c,T);if(S===!1||c.length!==S+T.place)return!1;var D=c.slice(T.place,S+T.place);if(g[0]===0)if(g[1]&128)g=g.slice(1);else return!1;if(D[0]===0)if(D[1]&128)D=D.slice(1);else return!1;return this.r=new E(g),this.s=new E(D),this.recoveryParam=null,!0};function f(b,c){if(c<128){b.push(c);return}var l=1+(Math.log(c)/Math.LN2>>>3);for(b.push(l|128);--l;)b.push(c>>>(l<<3)&255);b.push(c)}y.prototype.toDER=function(c){var l=this.r.toArray(),T=this.s.toArray();for(l[0]&128&&(l=[0].concat(l)),T[0]&128&&(T=[0].concat(T)),l=a(l),T=a(T);!T[0]&&!(T[1]&128);)T=T.slice(1);var d=[2];f(d,l.length),d=d.concat(l),d.push(2),f(d,T.length);var m=d.concat(T),g=[48];return f(g,m.length),g=g.concat(m),O.encode(g,c)}},5980:(v,W,k)=>{"use strict";var E=k(3715),O=k(5427),R=k(953),y=R.assert,n=R.parseBytes,u=k(9087),a=k(3622);function f(b){if(y(b==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(b);b=O[b].curve,this.curve=b,this.g=b.g,this.g.precompute(b.n.bitLength()+1),this.pointClass=b.point().constructor,this.encodingLength=Math.ceil(b.n.bitLength()/8),this.hash=E.sha512}v.exports=f,f.prototype.sign=function(c,l){c=n(c);var T=this.keyFromSecret(l),d=this.hashInt(T.messagePrefix(),c),m=this.g.mul(d),g=this.encodePoint(m),S=this.hashInt(g,T.pubBytes(),c).mul(T.priv()),D=d.add(S).umod(this.curve.n);return this.makeSignature({R:m,S:D,Rencoded:g})},f.prototype.verify=function(c,l,T){c=n(c),l=this.makeSignature(l);var d=this.keyFromPublic(T),m=this.hashInt(l.Rencoded(),d.pubBytes(),c),g=this.g.mul(l.S()),S=l.R().add(d.pub().mul(m));return S.eq(g)},f.prototype.hashInt=function(){for(var c=this.hash(),l=0;l<arguments.length;l++)c.update(arguments[l]);return R.intFromLE(c.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(c){return u.fromPublic(this,c)},f.prototype.keyFromSecret=function(c){return u.fromSecret(this,c)},f.prototype.makeSignature=function(c){return c instanceof a?c:new a(this,c)},f.prototype.encodePoint=function(c){var l=c.getY().toArray("le",this.encodingLength);return l[this.encodingLength-1]|=c.getX().isOdd()?128:0,l},f.prototype.decodePoint=function(c){c=R.parseBytes(c);var l=c.length-1,T=c.slice(0,l).concat(c[l]&~128),d=(c[l]&128)!=0,m=R.intFromLE(T);return this.curve.pointFromY(m,d)},f.prototype.encodeInt=function(c){return c.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(c){return R.intFromLE(c)},f.prototype.isPoint=function(c){return c instanceof this.pointClass}},9087:(v,W,k)=>{"use strict";var E=k(953),O=E.assert,R=E.parseBytes,y=E.cachedProperty;function n(u,a){this.eddsa=u,this._secret=R(a.secret),u.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=R(a.pub)}n.fromPublic=function(a,f){return f instanceof n?f:new n(a,{pub:f})},n.fromSecret=function(a,f){return f instanceof n?f:new n(a,{secret:f})},n.prototype.secret=function(){return this._secret},y(n,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),y(n,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),y(n,"privBytes",function(){var a=this.eddsa,f=this.hash(),b=a.encodingLength-1,c=f.slice(0,a.encodingLength);return c[0]&=248,c[b]&=127,c[b]|=64,c}),y(n,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),y(n,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),y(n,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),n.prototype.sign=function(a){return O(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)},n.prototype.verify=function(a,f){return this.eddsa.verify(a,f,this)},n.prototype.getSecret=function(a){return O(this._secret,"KeyPair is public only"),E.encode(this.secret(),a)},n.prototype.getPublic=function(a){return E.encode(this.pubBytes(),a)},v.exports=n},3622:(v,W,k)=>{"use strict";var E=k(3550),O=k(953),R=O.assert,y=O.cachedProperty,n=O.parseBytes;function u(a,f){this.eddsa=a,typeof f!="object"&&(f=n(f)),Array.isArray(f)&&(f={R:f.slice(0,a.encodingLength),S:f.slice(a.encodingLength)}),R(f.R&&f.S,"Signature without R or S"),a.isPoint(f.R)&&(this._R=f.R),f.S instanceof E&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}y(u,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),y(u,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),y(u,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),y(u,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return O.encode(this.toBytes(),"hex").toUpperCase()},v.exports=u},1037:v=>{v.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:(v,W,k)=>{"use strict";var E=W,O=k(3550),R=k(9746),y=k(4504);E.assert=R,E.toArray=y.toArray,E.zero2=y.zero2,E.toHex=y.toHex,E.encode=y.encode;function n(c,l,T){var d=new Array(Math.max(c.bitLength(),T)+1);d.fill(0);for(var m=1<<l+1,g=c.clone(),S=0;S<d.length;S++){var D,w=g.andln(m-1);g.isOdd()?(w>(m>>1)-1?D=(m>>1)-w:D=w,g.isubn(D)):D=0,d[S]=D,g.iushrn(1)}return d}E.getNAF=n;function u(c,l){var T=[[],[]];c=c.clone(),l=l.clone();for(var d=0,m=0,g;c.cmpn(-d)>0||l.cmpn(-m)>0;){var S=c.andln(3)+d&3,D=l.andln(3)+m&3;S===3&&(S=-1),D===3&&(D=-1);var w;(S&1)==0?w=0:(g=c.andln(7)+d&7,(g===3||g===5)&&D===2?w=-S:w=S),T[0].push(w);var F;(D&1)==0?F=0:(g=l.andln(7)+m&7,(g===3||g===5)&&S===2?F=-D:F=D),T[1].push(F),2*d===w+1&&(d=1-d),2*m===F+1&&(m=1-m),c.iushrn(1),l.iushrn(1)}return T}E.getJSF=u;function a(c,l,T){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=T.call(this)}}E.cachedProperty=a;function f(c){return typeof c=="string"?E.toArray(c,"hex"):c}E.parseBytes=f;function b(c){return new O(c,"hex","le")}E.intFromLE=b},7519:v=>{"use strict";v.exports={i8:"6.5.4"}},7187:v=>{"use strict";var W=typeof Reflect=="object"?Reflect:null,k=W&&typeof W.apply=="function"?W.apply:function(w,F,H){return Function.prototype.apply.call(w,F,H)},E;W&&typeof W.ownKeys=="function"?E=W.ownKeys:Object.getOwnPropertySymbols?E=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:E=function(w){return Object.getOwnPropertyNames(w)};function O(D){console&&console.warn&&console.warn(D)}var R=Number.isNaN||function(w){return w!==w};function y(){y.init.call(this)}v.exports=y,v.exports.once=S,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var n=10;function u(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(D){if(typeof D!="number"||D<0||R(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");n=D}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||R(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function a(D){return D._maxListeners===void 0?y.defaultMaxListeners:D._maxListeners}y.prototype.getMaxListeners=function(){return a(this)},y.prototype.emit=function(w){for(var F=[],H=1;H<arguments.length;H++)F.push(arguments[H]);var Q=w==="error",ee=this._events;if(ee!==void 0)Q=Q&&ee.error===void 0;else if(!Q)return!1;if(Q){var te;if(F.length>0&&(te=F[0]),te instanceof Error)throw te;var ie=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw ie.context=te,ie}var se=ee[w];if(se===void 0)return!1;if(typeof se=="function")k(se,this,F);else for(var le=se.length,z=d(se,le),H=0;H<le;++H)k(z[H],this,F);return!0};function f(D,w,F,H){var Q,ee,te;if(u(F),ee=D._events,ee===void 0?(ee=D._events=Object.create(null),D._eventsCount=0):(ee.newListener!==void 0&&(D.emit("newListener",w,F.listener?F.listener:F),ee=D._events),te=ee[w]),te===void 0)te=ee[w]=F,++D._eventsCount;else if(typeof te=="function"?te=ee[w]=H?[F,te]:[te,F]:H?te.unshift(F):te.push(F),Q=a(D),Q>0&&te.length>Q&&!te.warned){te.warned=!0;var ie=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");ie.name="MaxListenersExceededWarning",ie.emitter=D,ie.type=w,ie.count=te.length,O(ie)}return D}y.prototype.addListener=function(w,F){return f(this,w,F,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(w,F){return f(this,w,F,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(D,w,F){var H={fired:!1,wrapFn:void 0,target:D,type:w,listener:F},Q=b.bind(H);return Q.listener=F,H.wrapFn=Q,Q}y.prototype.once=function(w,F){return u(F),this.on(w,c(this,w,F)),this},y.prototype.prependOnceListener=function(w,F){return u(F),this.prependListener(w,c(this,w,F)),this},y.prototype.removeListener=function(w,F){var H,Q,ee,te,ie;if(u(F),Q=this._events,Q===void 0)return this;if(H=Q[w],H===void 0)return this;if(H===F||H.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete Q[w],Q.removeListener&&this.emit("removeListener",w,H.listener||F));else if(typeof H!="function"){for(ee=-1,te=H.length-1;te>=0;te--)if(H[te]===F||H[te].listener===F){ie=H[te].listener,ee=te;break}if(ee<0)return this;ee===0?H.shift():m(H,ee),H.length===1&&(Q[w]=H[0]),Q.removeListener!==void 0&&this.emit("removeListener",w,ie||F)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(w){var F,H,Q;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[w]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete H[w]),this;if(arguments.length===0){var ee=Object.keys(H),te;for(Q=0;Q<ee.length;++Q)te=ee[Q],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=H[w],typeof F=="function")this.removeListener(w,F);else if(F!==void 0)for(Q=F.length-1;Q>=0;Q--)this.removeListener(w,F[Q]);return this};function l(D,w,F){var H=D._events;if(H===void 0)return[];var Q=H[w];return Q===void 0?[]:typeof Q=="function"?F?[Q.listener||Q]:[Q]:F?g(Q):d(Q,Q.length)}y.prototype.listeners=function(w){return l(this,w,!0)},y.prototype.rawListeners=function(w){return l(this,w,!1)},y.listenerCount=function(D,w){return typeof D.listenerCount=="function"?D.listenerCount(w):T.call(D,w)},y.prototype.listenerCount=T;function T(D){var w=this._events;if(w!==void 0){var F=w[D];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?E(this._events):[]};function d(D,w){for(var F=new Array(w),H=0;H<w;++H)F[H]=D[H];return F}function m(D,w){for(;w+1<D.length;w++)D[w]=D[w+1];D.pop()}function g(D){for(var w=new Array(D.length),F=0;F<w.length;++F)w[F]=D[F].listener||D[F];return w}function S(D,w){return new Promise(function(F,H){function Q(){ee!==void 0&&D.removeListener("error",ee),F([].slice.call(arguments))}var ee;w!=="error"&&(ee=function(ie){D.removeListener(w,Q),H(ie)},D.once("error",ee)),D.once(w,Q)})}},3048:(v,W,k)=>{var E=k(9509).Buffer,O=k(2318);function R(y,n,u,a){if(E.isBuffer(y)||(y=E.from(y,"binary")),n&&(E.isBuffer(n)||(n=E.from(n,"binary")),n.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=u/8,b=E.alloc(f),c=E.alloc(a||0),l=E.alloc(0);f>0||a>0;){var T=new O;T.update(l),T.update(y),n&&T.update(n),l=T.digest();var d=0;if(f>0){var m=b.length-f;d=Math.min(f,l.length),l.copy(b,m,0,d),f-=d}if(d<l.length&&a>0){var g=c.length-a,S=Math.min(a,l.length-d);l.copy(c,g,d,d+S),a-=S}}return l.fill(0),{key:b,iv:c}}v.exports=R},4063:v=>{"use strict";v.exports=function W(k,E){if(k===E)return!0;if(k&&E&&typeof k=="object"&&typeof E=="object"){if(k.constructor!==E.constructor)return!1;var O,R,y;if(Array.isArray(k)){if(O=k.length,O!=E.length)return!1;for(R=O;R--!=0;)if(!W(k[R],E[R]))return!1;return!0}if(k.constructor===RegExp)return k.source===E.source&&k.flags===E.flags;if(k.valueOf!==Object.prototype.valueOf)return k.valueOf()===E.valueOf();if(k.toString!==Object.prototype.toString)return k.toString()===E.toString();if(y=Object.keys(k),O=y.length,O!==Object.keys(E).length)return!1;for(R=O;R--!=0;)if(!Object.prototype.hasOwnProperty.call(E,y[R]))return!1;for(R=O;R--!=0;){var n=y[R];if(!W(k[n],E[n]))return!1}return!0}return k!==k&&E!==E}},5035:v=>{"use strict";v.exports=function(W,k){k||(k={}),typeof k=="function"&&(k={cmp:k});var E=typeof k.cycles=="boolean"?k.cycles:!1,O=k.cmp&&function(y){return function(n){return function(u,a){var f={key:u,value:n[u]},b={key:a,value:n[a]};return y(f,b)}}}(k.cmp),R=[];return function y(n){if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==void 0){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);var u,a;if(Array.isArray(n)){for(a="[",u=0;u<n.length;u++)u&&(a+=","),a+=y(n[u])||"null";return a+"]"}if(n===null)return"null";if(R.indexOf(n)!==-1){if(E)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=R.push(n)-1,b=Object.keys(n).sort(O&&O(n));for(a="",u=0;u<b.length;u++){var c=b[u],l=y(n[c]);!l||(a&&(a+=","),a+=JSON.stringify(c)+":"+l)}return R.splice(f,1),"{"+a+"}"}}(W)}},9967:v=>{var W={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Merged"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HeadRefDeleted"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HeadRefDeletedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Ref"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Ref"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Comment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IssueComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanReact"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Commit"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestCommit"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"committer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authoredDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AssignedEvent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AssignedEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorAssociation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submittedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Reactable"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reactable"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThread"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewThread"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Merged"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Commit"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"HeadRefDeleted"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueTimelineEvents"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"150"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timelineItems"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AssignedEvent"},directives:[]}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewComment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalPosition"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHunk"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"replyTo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalCommit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reactionGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerHasReacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"viewerCanUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanDelete"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPendingReviewId"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"author"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"pullRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PullRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"author"},value:{kind:"Variable",name:{kind:"Name",value:"author"}}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PENDING"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"100"},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewThreads"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isResolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanResolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerCanUnresolve"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffSide"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"line"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"originalLine"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isOutdated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRef"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Ref"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"baseRefName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRefOid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"baseRepository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"merged"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"suggestedReviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuthor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCommenter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestFiles"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerViewedState"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssueWithComments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"pullRequest"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"bio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"company"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributionsCollection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commitContributionsByRepository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"maxRepositories"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"occurredAt"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nameWithOwner"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestMergeability"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PullRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestReviewCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequestReviewComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReviewComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReadyForReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkPullRequestReadyForReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markPullRequestReadyForReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDraft"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddPullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"event"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PullRequestReviewEvent"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitPullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"event"},value:{kind:"Variable",name:{kind:"Name",value:"event"}}},{kind:"ObjectField",name:{kind:"Name",value:"pullRequestReviewId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"ObjectField",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePullRequestReviewInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePullRequestReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequestReview"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewComment"},directives:[]}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RemoveReactionInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reaction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subject"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Reactable"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePullRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePullRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AddCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentEdge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"EditIssueComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssueComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueComment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Comment"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMentionableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mentionableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetAssignableUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignableUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rateLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resetAt"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IssuesWithoutMilestone"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}},{kind:"ObjectField",name:{kind:"Name",value:"milestone"},value:{kind:"NullValue"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MaxIssue"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"CREATED_AT"}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetMilestones"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"milestones"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"12"}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"DUE_DATE"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"filterBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"assignee"},value:{kind:"Variable",name:{kind:"Name",value:"assignee"}}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"direction"},value:{kind:"EnumValue",value:"DESC"}},{kind:"ObjectField",name:{kind:"Name",value:"field"},value:{kind:"EnumValue",value:"UPDATED_AT"}}]}},{kind:"Argument",name:{kind:"Name",value:"states"},value:{kind:"EnumValue",value:"OPEN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Issues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"search"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ISSUE"}},{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pageInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endCursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bodyHTML"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"IntValue",value:"50"}}],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Organization"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"databaseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"milestone"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueOn"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetViewerPermission"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerPermission"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetRepositoryForkDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFork"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetChecks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owner"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"number"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"repository"},arguments:[{kind:"Argument",name:{kind:"Name",value:"owner"},value:{kind:"Variable",name:{kind:"Name",value:"owner"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"number"},value:{kind:"Variable",name:{kind:"Name",value:"number"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statusCheckRollup"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contexts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StatusContext"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheckRun"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conclusion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detailsUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resourcePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkSuite"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"app"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ResolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnresolveReviewThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnresolveReviewThreadInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unresolveReviewThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thread"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThread"},directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"markFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnmarkFileAsViewed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnmarkFileAsViewedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unmarkFileAsViewed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pullRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:14530}};W.loc.source={body:`# /*---------------------------------------------------------------------------------------------
#  *  Copyright (c) Microsoft Corporation. All rights reserved.
#  *  Licensed under the MIT License. See License.txt in the project root for license information.
#  *--------------------------------------------------------------------------------------------*/

fragment Merged on MergedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	mergeRef {
		name
	}
	commit {
		oid
		commitUrl
	}
	url
}

fragment HeadRefDeleted on HeadRefDeletedEvent {
	id
	actor {
		login
		avatarUrl
		url
	}
	createdAt
	headRefName
}

fragment Ref on Ref {
	name
	repository {
		owner {
			login
		}
		url
	}
	target {
		oid
	}
}

fragment Comment on IssueComment {
	id
	databaseId
	authorAssociation
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	url
	body
	bodyHTML
	updatedAt
	createdAt
	viewerCanUpdate
	viewerCanReact
	viewerCanDelete
}

fragment Commit on PullRequestCommit {
	id
	commit {
		author {
			user {
				login
				avatarUrl
				url
				email
			}
		}
		committer {
			avatarUrl
			name
		}
		oid
		message
		authoredDate
	}
	url
}

fragment AssignedEvent on AssignedEvent {
	actor {
		login
		avatarUrl
		url
	}
	user {
		login
		avatarUrl
		url
	}
}

fragment Review on PullRequestReview {
	id
	databaseId
	authorAssociation
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	state
	body
	bodyHTML
	submittedAt
	updatedAt
	createdAt
}

fragment Reactable on Reactable {
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
}

fragment ReviewThread on PullRequestReviewThread {
	id
	isResolved
	viewerCanResolve
	viewerCanUnresolve
	path
	diffSide
	line
	originalLine
	isOutdated
	comments(first: 100) {
		nodes {
			...ReviewComment
		}
	}
}

query TimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Merged
					...Comment
					...Review
					...Commit
					...AssignedEvent
					...HeadRefDeleted
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssueTimelineEvents($owner: String!, $name: String!, $number: Int!, $last: Int = 150) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			timelineItems(last: $last) {
				nodes {
					__typename
					...Comment
					...AssignedEvent
				}
			}
		}
	}
}

fragment ReviewComment on PullRequestReviewComment {
	id
	databaseId
	url
	author {
		login
		avatarUrl
		url
		... on User {
			email
		}
		... on Organization {
			email
		}
	}
	path
	originalPosition
	body
	bodyHTML
	diffHunk
	position
	state
	pullRequestReview {
		databaseId
	}
	commit {
		oid
	}
	replyTo {
		databaseId
	}
	createdAt
	originalCommit {
		oid
	}
	reactionGroups {
		content
		viewerHasReacted
		users {
			totalCount
		}
	}
	viewerCanUpdate
	viewerCanDelete
}

query GetPendingReviewId($pullRequestId: ID!, $author: String!) {
	node(id: $pullRequestId) {
		... on PullRequest {
			reviews(first: 1, author: $author, states: [PENDING]) {
				nodes {
					id
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestComments($owner: String!, $name: String!, $number: Int!, $first: Int = 100) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			reviewThreads(first: $first) {
				nodes {
					id
					isResolved
					viewerCanResolve
					viewerCanUnresolve
					path
					diffSide
					line
					originalLine
					isOutdated
					comments(first: 100) {
						nodes {
							...ReviewComment
						}
					}
				}
			}
		}
	}
}

query PullRequest($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			headRef {
				...Ref
			}
			headRefName
			headRefOid
			headRepository {
				owner {
					login
				}
				url
			}
			baseRef {
				...Ref
			}
			baseRefName
			baseRefOid
			baseRepository {
				owner {
					login
				}
				url
			}
			labels(first: 50) {
				nodes {
					name
				}
			}
			merged
			mergeable
			id
			databaseId
			isDraft
			milestone {
				title
				dueOn
				createdAt
				id
			}
			assignees(first: 10) {
				nodes {
					login
					name
					avatarUrl
					url
					email
				}
			}
			suggestedReviewers {
				isAuthor
				isCommenter
				reviewer {
					login
					avatarUrl
					name
					url
				}
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestFiles($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			files(first: 100) {
				nodes {
					path
					viewerViewedState
				}
				pageInfo {
					hasNextPage
					endCursor
				}
			}
		}
	}
}

query Issue($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
		}
	}
}

query IssueWithComments($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest: issue(number: $number) {
			number
			url
			state
			body
			bodyHTML
			title
			author {
				login
				url
				avatarUrl
				... on User {
					email
				}
				... on Organization {
					email
				}
			}
			createdAt
			updatedAt
			labels(first: 50) {
				nodes {
					name
					color
				}
			}
			id
			databaseId
			comments(first: 50) {
				nodes {
					author {
						login
						url
						avatarUrl
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					body
					databaseId
				}
			}
		}
	}
}

query GetUser($login: String!) {
	user(login: $login) {
		login
		avatarUrl(size: 50)
		bio
		name
		company
		location
		contributionsCollection {
			commitContributionsByRepository(maxRepositories: 50) {
				contributions(first: 1) {
					nodes {
						occurredAt
					}
				}
				repository {
					nameWithOwner
				}
			}
		}
		url
	}
}

query PullRequestMergeability($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			mergeable
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query PullRequestState($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			title
			number
			state
		}
	}
}

mutation AddComment($input: AddPullRequestReviewCommentInput!) {
	addPullRequestReviewComment(input: $input) {
		comment {
			...ReviewComment
		}
	}
}

mutation AddReviewThread($input: AddPullRequestReviewThreadInput!) {
	addPullRequestReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation EditComment($input: UpdatePullRequestReviewCommentInput!) {
	updatePullRequestReviewComment(input: $input) {
		pullRequestReviewComment {
			...ReviewComment
		}
	}
}

mutation ReadyForReview($input: MarkPullRequestReadyForReviewInput!) {
	markPullRequestReadyForReview(input: $input) {
		pullRequest {
			isDraft
		}
	}
}

mutation StartReview($input: AddPullRequestReviewInput!) {
	addPullRequestReview(input: $input) {
		pullRequestReview {
			id
		}
	}
}

mutation SubmitReview($id: ID!, $event: PullRequestReviewEvent!, $body: String) {
	submitPullRequestReview(input: { event: $event, pullRequestReviewId: $id, body: $body }) {
		pullRequestReview {
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
			...Review
		}
	}
}

mutation DeleteReview($input: DeletePullRequestReviewInput!) {
	deletePullRequestReview(input: $input) {
		pullRequestReview {
			databaseId
			comments(first: 100) {
				nodes {
					...ReviewComment
				}
			}
		}
	}
}

mutation AddReaction($input: AddReactionInput!) {
	addReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation DeleteReaction($input: RemoveReactionInput!) {
	removeReaction(input: $input) {
		reaction {
			content
		}
		subject {
			...Reactable
		}
	}
}

mutation UpdatePullRequest($input: UpdatePullRequestInput!) {
	updatePullRequest(input: $input) {
		pullRequest {
			body
			bodyHTML
			title
		}
	}
}

mutation AddIssueComment($input: AddCommentInput!) {
	addComment(input: $input) {
		commentEdge {
			node {
				...Comment
			}
		}
	}
}

mutation EditIssueComment($input: UpdateIssueCommentInput!) {
	updateIssueComment(input: $input) {
		issueComment {
			...Comment
		}
	}
}

query GetMentionableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		mentionableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query GetAssignableUsers($owner: String!, $name: String!, $first: Int!, $after: String) {
	repository(owner: $owner, name: $name) {
		assignableUsers(first: $first, after: $after) {
			nodes {
				login
				avatarUrl
				name
				url
				email
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
	rateLimit {
		limit
		cost
		remaining
		resetAt
	}
}

query IssuesWithoutMilestone($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		issues(
			first: 100
			states: OPEN
			filterBy: { assignee: $assignee, milestone: null }
			orderBy: { direction: DESC, field: UPDATED_AT }
		) {
			edges {
				node {
					... on Issue {
						number
						url
						state
						body
						bodyHTML
						title
						assignees(first: 10) {
							nodes {
								login
								url
								email
							}
						}
						author {
							login
							url
							avatarUrl(size: 50)
							... on User {
								email
							}
							... on Organization {
								email
							}
						}
						createdAt
						updatedAt
						labels(first: 50) {
							nodes {
								name
								color
							}
						}
						id
						databaseId
						milestone {
							title
							dueOn
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query MaxIssue($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		issues(first: 1, orderBy: { direction: DESC, field: CREATED_AT }) {
			edges {
				node {
					... on Issue {
						number
					}
				}
			}
		}
	}
}

query GetMilestones($owner: String!, $name: String!, $assignee: String!) {
	repository(owner: $owner, name: $name) {
		milestones(first: 12, orderBy: { direction: DESC, field: DUE_DATE }, states: OPEN) {
			nodes {
				dueOn
				title
				createdAt
				id
				issues(
					first: 100
					filterBy: { assignee: $assignee }
					orderBy: { direction: DESC, field: UPDATED_AT }
					states: OPEN
				) {
					edges {
						node {
							... on Issue {
								number
								url
								state
								body
								bodyHTML
								title
								assignees(first: 10) {
									nodes {
										avatarUrl
										email
										login
										url
									}
								}
								author {
									login
									url
									avatarUrl(size: 50)
									... on User {
										email
									}
									... on Organization {
										email
									}
								}
								createdAt
								updatedAt
								labels(first: 50) {
									nodes {
										name
										color
									}
								}
								id
								databaseId
								milestone {
									title
									dueOn
								}
							}
						}
					}
				}
			}
			pageInfo {
				hasNextPage
				endCursor
			}
		}
	}
}

query Issues($query: String!) {
	search(first: 100, type: ISSUE, query: $query) {
		issueCount
		pageInfo {
			hasNextPage
			endCursor
		}
		edges {
			node {
				... on Issue {
					number
					url
					state
					body
					bodyHTML
					title
					assignees(first: 10) {
						nodes {
							avatarUrl
							email
							login
							url
						}
					}
					author {
						login
						url
						avatarUrl(size: 50)
						... on User {
							email
						}
						... on Organization {
							email
						}
					}
					createdAt
					updatedAt
					labels(first: 50) {
						nodes {
							name
							color
						}
					}
					id
					databaseId
					milestone {
						title
						dueOn
						id
						createdAt
					}
					repository {
						name
						owner {
							login
						}
						url
					}
				}
			}
		}
	}
}

query GetViewerPermission($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		viewerPermission
	}
}

query GetRepositoryForkDetails($owner: String!, $name: String!) {
	repository(owner: $owner, name: $name) {
		isFork
		parent {
			name
			owner
		}
	}
}

query GetChecks($owner: String!, $name: String!, $number: Int!) {
	repository(owner: $owner, name: $name) {
		pullRequest(number: $number) {
			commits(last: 1) {
				nodes {
					commit {
						statusCheckRollup {
							state
							contexts(first: 100) {
								nodes {
									... on StatusContext {
										id
										state
										targetUrl
										description
										context
										avatarUrl
									}
									... on CheckRun {
										id
										conclusion
										title
										detailsUrl
										name
										resourcePath
										checkSuite {
											app {
												logoUrl
												url
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}

mutation ResolveReviewThread($input: ResolveReviewThreadInput!) {
	resolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation UnresolveReviewThread($input: UnresolveReviewThreadInput!) {
	unresolveReviewThread(input: $input) {
		thread {
			...ReviewThread
		}
	}
}

mutation MarkFileAsViewed($input: MarkFileAsViewedInput!) {
	markFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}

mutation UnmarkFileAsViewed($input: UnmarkFileAsViewedInput!) {
	unmarkFileAsViewed(input: $input) {
		pullRequest {
			id
		}
	}
}`,name:"GraphQL request",locationOffset:{line:1,column:1}};var k={};function E(u){return u.filter(function(a){if(a.kind!=="FragmentDefinition")return!0;var f=a.name.value;return k[f]?!1:(k[f]=!0,!0)})}function O(u,a){if(u.kind==="FragmentSpread")a.add(u.name.value);else if(u.kind==="VariableDefinition"){var f=u.type;f.kind==="NamedType"&&a.add(f.name.value)}u.selectionSet&&u.selectionSet.selections.forEach(function(b){O(b,a)}),u.variableDefinitions&&u.variableDefinitions.forEach(function(b){O(b,a)}),u.definitions&&u.definitions.forEach(function(b){O(b,a)})}var R={};(function(){W.definitions.forEach(function(a){if(a.name){var f=new Set;O(a,f),R[a.name.value]=f}})})();function y(u,a){for(var f=0;f<u.definitions.length;f++){var b=u.definitions[f];if(b.name&&b.name.value==a)return b}}function n(u,a){var f={kind:u.kind,definitions:[y(u,a)]};u.hasOwnProperty("loc")&&(f.loc=u.loc);var b=R[a]||new Set,c=new Set,l=new Set;for(b.forEach(function(d){l.add(d)});l.size>0;){var T=l;l=new Set,T.forEach(function(d){if(!c.has(d)){c.add(d);var m=R[d]||new Set;m.forEach(function(g){l.add(g)})}})}return c.forEach(function(d){var m=y(u,d);m&&f.definitions.push(m)}),f}v.exports=W,v.exports.TimelineEvents=n(W,"TimelineEvents"),v.exports.IssueTimelineEvents=n(W,"IssueTimelineEvents"),v.exports.GetPendingReviewId=n(W,"GetPendingReviewId"),v.exports.PullRequestComments=n(W,"PullRequestComments"),v.exports.PullRequest=n(W,"PullRequest"),v.exports.PullRequestFiles=n(W,"PullRequestFiles"),v.exports.Issue=n(W,"Issue"),v.exports.IssueWithComments=n(W,"IssueWithComments"),v.exports.GetUser=n(W,"GetUser"),v.exports.PullRequestMergeability=n(W,"PullRequestMergeability"),v.exports.PullRequestState=n(W,"PullRequestState"),v.exports.AddComment=n(W,"AddComment"),v.exports.AddReviewThread=n(W,"AddReviewThread"),v.exports.EditComment=n(W,"EditComment"),v.exports.ReadyForReview=n(W,"ReadyForReview"),v.exports.StartReview=n(W,"StartReview"),v.exports.SubmitReview=n(W,"SubmitReview"),v.exports.DeleteReview=n(W,"DeleteReview"),v.exports.AddReaction=n(W,"AddReaction"),v.exports.DeleteReaction=n(W,"DeleteReaction"),v.exports.UpdatePullRequest=n(W,"UpdatePullRequest"),v.exports.AddIssueComment=n(W,"AddIssueComment"),v.exports.EditIssueComment=n(W,"EditIssueComment"),v.exports.GetMentionableUsers=n(W,"GetMentionableUsers"),v.exports.GetAssignableUsers=n(W,"GetAssignableUsers"),v.exports.IssuesWithoutMilestone=n(W,"IssuesWithoutMilestone"),v.exports.MaxIssue=n(W,"MaxIssue"),v.exports.GetMilestones=n(W,"GetMilestones"),v.exports.Issues=n(W,"Issues"),v.exports.GetViewerPermission=n(W,"GetViewerPermission"),v.exports.GetRepositoryForkDetails=n(W,"GetRepositoryForkDetails"),v.exports.GetChecks=n(W,"GetChecks"),v.exports.ResolveReviewThread=n(W,"ResolveReviewThread"),v.exports.UnresolveReviewThread=n(W,"UnresolveReviewThread"),v.exports.MarkFileAsViewed=n(W,"MarkFileAsViewed"),v.exports.UnmarkFileAsViewed=n(W,"UnmarkFileAsViewed")},972:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=y;var E=R(k(7706)),O=R(k(8554));function R(n){return n&&n.__esModule?n:{default:n}}function y(n){var u=n.prototype.toJSON;typeof u=="function"||(0,E.default)(0),n.prototype.inspect=u,O.default&&(n.prototype[O.default]=u)}},8002:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=u;var E=O(k(8554));function O(d){return d&&d.__esModule?d:{default:d}}function R(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(g){return typeof g}:R=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},R(d)}var y=10,n=2;function u(d){return a(d,[])}function a(d,m){switch(R(d)){case"string":return JSON.stringify(d);case"function":return d.name?"[function ".concat(d.name,"]"):"[function]";case"object":return d===null?"null":f(d,m);default:return String(d)}}function f(d,m){if(m.indexOf(d)!==-1)return"[Circular]";var g=[].concat(m,[d]),S=l(d);if(S!==void 0){var D=S.call(d);if(D!==d)return typeof D=="string"?D:a(D,g)}else if(Array.isArray(d))return c(d,g);return b(d,g)}function b(d,m){var g=Object.keys(d);if(g.length===0)return"{}";if(m.length>n)return"["+T(d)+"]";var S=g.map(function(D){var w=a(d[D],m);return D+": "+w});return"{ "+S.join(", ")+" }"}function c(d,m){if(d.length===0)return"[]";if(m.length>n)return"[Array]";for(var g=Math.min(y,d.length),S=d.length-g,D=[],w=0;w<g;++w)D.push(a(d[w],m));return S===1?D.push("... 1 more item"):S>1&&D.push("... ".concat(S," more items")),"["+D.join(", ")+"]"}function l(d){var m=d[String(E.default)];if(typeof m=="function")return m;if(typeof d.inspect=="function")return d.inspect}function T(d){var m=Object.prototype.toString.call(d).replace(/^\[object /,"").replace(/]$/,"");if(m==="Object"&&typeof d.constructor=="function"){var g=d.constructor.name;if(typeof g=="string"&&g!=="")return g}return m}},7706:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=k;function k(E,O){var R=Boolean(E);if(!R)throw new Error(O!=null?O:"Unexpected invariant triggered.")}},8554:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0,E=k;W.default=E},1807:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.isNode=n,W.Token=W.Location=void 0;var E=O(k(972));function O(u){return u&&u.__esModule?u:{default:u}}var R=function(){function u(f,b,c){this.start=f.start,this.end=b.end,this.startToken=f,this.endToken=b,this.source=c}var a=u.prototype;return a.toJSON=function(){return{start:this.start,end:this.end}},u}();W.Location=R,(0,E.default)(R);var y=function(){function u(f,b,c,l,T,d,m){this.kind=f,this.start=b,this.end=c,this.line=l,this.column=T,this.value=m,this.prev=d,this.next=null}var a=u.prototype;return a.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},u}();W.Token=y,(0,E.default)(y);function n(u){return u!=null&&typeof u.kind=="string"}},849:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.dedentBlockStringValue=k,W.getBlockStringIndentation=O,W.printBlockString=R;function k(y){var n=y.split(/\r\n|[\n\r]/g),u=O(y);if(u!==0)for(var a=1;a<n.length;a++)n[a]=n[a].slice(u);for(var f=0;f<n.length&&E(n[f]);)++f;for(var b=n.length;b>f&&E(n[b-1]);)--b;return n.slice(f,b).join(`
`)}function E(y){for(var n=0;n<y.length;++n)if(y[n]!==" "&&y[n]!=="	")return!1;return!0}function O(y){for(var n,u=!0,a=!0,f=0,b=null,c=0;c<y.length;++c)switch(y.charCodeAt(c)){case 13:y.charCodeAt(c+1)===10&&++c;case 10:u=!1,a=!0,f=0;break;case 9:case 32:++f;break;default:a&&!u&&(b===null||f<b)&&(b=f),a=!1}return(n=b)!==null&&n!==void 0?n:0}function R(y){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=y.indexOf(`
`)===-1,f=y[0]===" "||y[0]==="	",b=y[y.length-1]==='"',c=y[y.length-1]==="\\",l=!a||b||c||u,T="";return l&&!(a&&f)&&(T+=`
`+n),T+=n?y.replace(/\n/g,`
`+n):y,l&&(T+=`
`),'"""'+T.replace(/"""/g,'\\"""')+'"""'}},3033:(v,W,k)=>{"use strict";var E;E={value:!0},W.S=y;var O=k(285),R=k(849);function y(m){return(0,O.visit)(m,{leave:u})}var n=80,u={Name:function(g){return g.value},Variable:function(g){return"$"+g.name},Document:function(g){return f(g.definitions,`

`)+`
`},OperationDefinition:function(g){var S=g.operation,D=g.name,w=c("(",f(g.variableDefinitions,", "),")"),F=f(g.directives," "),H=g.selectionSet;return!D&&!F&&!w&&S==="query"?H:f([S,f([D,w]),F,H]," ")},VariableDefinition:function(g){var S=g.variable,D=g.type,w=g.defaultValue,F=g.directives;return S+": "+D+c(" = ",w)+c(" ",f(F," "))},SelectionSet:function(g){var S=g.selections;return b(S)},Field:function(g){var S=g.alias,D=g.name,w=g.arguments,F=g.directives,H=g.selectionSet,Q=c("",S,": ")+D,ee=Q+c("(",f(w,", "),")");return ee.length>n&&(ee=Q+c(`(
`,l(f(w,`
`)),`
)`)),f([ee,f(F," "),H]," ")},Argument:function(g){var S=g.name,D=g.value;return S+": "+D},FragmentSpread:function(g){var S=g.name,D=g.directives;return"..."+S+c(" ",f(D," "))},InlineFragment:function(g){var S=g.typeCondition,D=g.directives,w=g.selectionSet;return f(["...",c("on ",S),f(D," "),w]," ")},FragmentDefinition:function(g){var S=g.name,D=g.typeCondition,w=g.variableDefinitions,F=g.directives,H=g.selectionSet;return"fragment ".concat(S).concat(c("(",f(w,", "),")")," ")+"on ".concat(D," ").concat(c("",f(F," ")," "))+H},IntValue:function(g){var S=g.value;return S},FloatValue:function(g){var S=g.value;return S},StringValue:function(g,S){var D=g.value,w=g.block;return w?(0,R.printBlockString)(D,S==="description"?"":"  "):JSON.stringify(D)},BooleanValue:function(g){var S=g.value;return S?"true":"false"},NullValue:function(){return"null"},EnumValue:function(g){var S=g.value;return S},ListValue:function(g){var S=g.values;return"["+f(S,", ")+"]"},ObjectValue:function(g){var S=g.fields;return"{"+f(S,", ")+"}"},ObjectField:function(g){var S=g.name,D=g.value;return S+": "+D},Directive:function(g){var S=g.name,D=g.arguments;return"@"+S+c("(",f(D,", "),")")},NamedType:function(g){var S=g.name;return S},ListType:function(g){var S=g.type;return"["+S+"]"},NonNullType:function(g){var S=g.type;return S+"!"},SchemaDefinition:a(function(m){var g=m.directives,S=m.operationTypes;return f(["schema",f(g," "),b(S)]," ")}),OperationTypeDefinition:function(g){var S=g.operation,D=g.type;return S+": "+D},ScalarTypeDefinition:a(function(m){var g=m.name,S=m.directives;return f(["scalar",g,f(S," ")]," ")}),ObjectTypeDefinition:a(function(m){var g=m.name,S=m.interfaces,D=m.directives,w=m.fields;return f(["type",g,c("implements ",f(S," & ")),f(D," "),b(w)]," ")}),FieldDefinition:a(function(m){var g=m.name,S=m.arguments,D=m.type,w=m.directives;return g+(d(S)?c(`(
`,l(f(S,`
`)),`
)`):c("(",f(S,", "),")"))+": "+D+c(" ",f(w," "))}),InputValueDefinition:a(function(m){var g=m.name,S=m.type,D=m.defaultValue,w=m.directives;return f([g+": "+S,c("= ",D),f(w," ")]," ")}),InterfaceTypeDefinition:a(function(m){var g=m.name,S=m.interfaces,D=m.directives,w=m.fields;return f(["interface",g,c("implements ",f(S," & ")),f(D," "),b(w)]," ")}),UnionTypeDefinition:a(function(m){var g=m.name,S=m.directives,D=m.types;return f(["union",g,f(S," "),D&&D.length!==0?"= "+f(D," | "):""]," ")}),EnumTypeDefinition:a(function(m){var g=m.name,S=m.directives,D=m.values;return f(["enum",g,f(S," "),b(D)]," ")}),EnumValueDefinition:a(function(m){var g=m.name,S=m.directives;return f([g,f(S," ")]," ")}),InputObjectTypeDefinition:a(function(m){var g=m.name,S=m.directives,D=m.fields;return f(["input",g,f(S," "),b(D)]," ")}),DirectiveDefinition:a(function(m){var g=m.name,S=m.arguments,D=m.repeatable,w=m.locations;return"directive @"+g+(d(S)?c(`(
`,l(f(S,`
`)),`
)`):c("(",f(S,", "),")"))+(D?" repeatable":"")+" on "+f(w," | ")}),SchemaExtension:function(g){var S=g.directives,D=g.operationTypes;return f(["extend schema",f(S," "),b(D)]," ")},ScalarTypeExtension:function(g){var S=g.name,D=g.directives;return f(["extend scalar",S,f(D," ")]," ")},ObjectTypeExtension:function(g){var S=g.name,D=g.interfaces,w=g.directives,F=g.fields;return f(["extend type",S,c("implements ",f(D," & ")),f(w," "),b(F)]," ")},InterfaceTypeExtension:function(g){var S=g.name,D=g.interfaces,w=g.directives,F=g.fields;return f(["extend interface",S,c("implements ",f(D," & ")),f(w," "),b(F)]," ")},UnionTypeExtension:function(g){var S=g.name,D=g.directives,w=g.types;return f(["extend union",S,f(D," "),w&&w.length!==0?"= "+f(w," | "):""]," ")},EnumTypeExtension:function(g){var S=g.name,D=g.directives,w=g.values;return f(["extend enum",S,f(D," "),b(w)]," ")},InputObjectTypeExtension:function(g){var S=g.name,D=g.directives,w=g.fields;return f(["extend input",S,f(D," "),b(w)]," ")}};function a(m){return function(g){return f([g.description,m(g)],`
`)}}function f(m){var g,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(g=m==null?void 0:m.filter(function(D){return D}).join(S))!==null&&g!==void 0?g:""}function b(m){return c(`{
`,l(f(m,`
`)),`
}`)}function c(m,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return g!=null&&g!==""?m+g+S:""}function l(m){return c("  ",m.replace(/\n/g,`
  `))}function T(m){return m.indexOf(`
`)!==-1}function d(m){return m!=null&&m.some(T)}},285:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.visit=u,W.visitInParallel=a,W.getVisitFn=f,W.BREAK=W.QueryDocumentKeys=void 0;var E=R(k(8002)),O=k(1807);function R(b){return b&&b.__esModule?b:{default:b}}var y={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};W.QueryDocumentKeys=y;var n=Object.freeze({});W.BREAK=n;function u(b,c){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y,T=void 0,d=Array.isArray(b),m=[b],g=-1,S=[],D=void 0,w=void 0,F=void 0,H=[],Q=[],ee=b;do{g++;var te=g===m.length,ie=te&&S.length!==0;if(te){if(w=Q.length===0?void 0:H[H.length-1],D=F,F=Q.pop(),ie){if(d)D=D.slice();else{for(var se={},le=0,z=Object.keys(D);le<z.length;le++){var A=z[le];se[A]=D[A]}D=se}for(var U=0,M=0;M<S.length;M++){var s=S[M][0],h=S[M][1];d&&(s-=U),d&&h===null?(D.splice(s,1),U++):D[s]=h}}g=T.index,m=T.keys,S=T.edits,d=T.inArray,T=T.prev}else{if(w=F?d?g:m[g]:void 0,D=F?F[w]:ee,D==null)continue;F&&H.push(w)}var x=void 0;if(!Array.isArray(D)){if(!(0,O.isNode)(D))throw new Error("Invalid AST Node: ".concat((0,E.default)(D),"."));var P=f(c,D.kind,te);if(P){if(x=P.call(c,D,w,F,H,Q),x===n)break;if(x===!1){if(!te){H.pop();continue}}else if(x!==void 0&&(S.push([w,x]),!te))if((0,O.isNode)(x))D=x;else{H.pop();continue}}}if(x===void 0&&ie&&S.push([w,D]),te)H.pop();else{var I;T={inArray:d,index:g,keys:m,edits:S,prev:T},d=Array.isArray(D),m=d?D:(I=l[D.kind])!==null&&I!==void 0?I:[],g=-1,S=[],F&&Q.push(F),F=D}}while(T!==void 0);return S.length!==0&&(ee=S[S.length-1][1]),ee}function a(b){var c=new Array(b.length);return{enter:function(T){for(var d=0;d<b.length;d++)if(c[d]==null){var m=f(b[d],T.kind,!1);if(m){var g=m.apply(b[d],arguments);if(g===!1)c[d]=T;else if(g===n)c[d]=n;else if(g!==void 0)return g}}},leave:function(T){for(var d=0;d<b.length;d++)if(c[d]==null){var m=f(b[d],T.kind,!0);if(m){var g=m.apply(b[d],arguments);if(g===n)c[d]=n;else if(g!==void 0&&g!==!1)return g}}else c[d]===T&&(c[d]=null)}}}function f(b,c,l){var T=b[c];if(T){if(!l&&typeof T=="function")return T;var d=l?T.leave:T.enter;if(typeof d=="function")return d}else{var m=l?b.leave:b.enter;if(m){if(typeof m=="function")return m;var g=m[c];if(typeof g=="function")return g}}}},3349:(v,W,k)=>{"use strict";var E=k(9509).Buffer,O=k(326).Transform,R=k(5717);function y(u,a){if(!E.isBuffer(u)&&typeof u!="string")throw new TypeError(a+" must be a string or a buffer")}function n(u){O.call(this),this._block=E.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}R(n,O),n.prototype._transform=function(u,a,f){var b=null;try{this.update(u,a)}catch(c){b=c}f(b)},n.prototype._flush=function(u){var a=null;try{this.push(this.digest())}catch(f){a=f}u(a)},n.prototype.update=function(u,a){if(y(u,"Data"),this._finalized)throw new Error("Digest already called");E.isBuffer(u)||(u=E.from(u,a));for(var f=this._block,b=0;this._blockOffset+u.length-b>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)f[c++]=u[b++];this._update(),this._blockOffset=0}for(;b<u.length;)f[this._blockOffset++]=u[b++];for(var l=0,T=u.length*8;T>0;++l)this._length[l]+=T,T=this._length[l]/4294967296|0,T>0&&(this._length[l]-=4294967296*T);return this},n.prototype._update=function(){throw new Error("_update is not implemented")},n.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();u!==void 0&&(a=a.toString(u)),this._block.fill(0),this._blockOffset=0;for(var f=0;f<4;++f)this._length[f]=0;return a},n.prototype._digest=function(){throw new Error("_digest is not implemented")},v.exports=n},9786:v=>{"use strict";function W(u,a){u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.__proto__=a}var k={};function E(u,a,f){f||(f=Error);function b(l,T,d){return typeof a=="string"?a:a(l,T,d)}var c=function(l){W(T,l);function T(d,m,g){return l.call(this,b(d,m,g))||this}return T}(f);c.prototype.name=f.name,c.prototype.code=u,k[u]=c}function O(u,a){if(Array.isArray(u)){var f=u.length;return u=u.map(function(b){return String(b)}),f>2?"one of ".concat(a," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(a," ").concat(u[0]," or ").concat(u[1]):"of ".concat(a," ").concat(u[0])}else return"of ".concat(a," ").concat(String(u))}function R(u,a,f){return u.substr(!f||f<0?0:+f,a.length)===a}function y(u,a,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-a.length,f)===a}function n(u,a,f){return typeof f!="number"&&(f=0),f+a.length>u.length?!1:u.indexOf(a,f)!==-1}E("ERR_INVALID_OPT_VALUE",function(u,a){return'The value "'+a+'" is invalid for option "'+u+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(u,a,f){var b;typeof a=="string"&&R(a,"not ")?(b="must not be",a=a.replace(/^not /,"")):b="must be";var c;if(y(u," argument"))c="The ".concat(u," ").concat(b," ").concat(O(a,"type"));else{var l=n(u,".")?"property":"argument";c='The "'.concat(u,'" ').concat(l," ").concat(b," ").concat(O(a,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),v.exports.q=k},2910:(v,W,k)=>{"use strict";var E=Object.keys||function(c){var l=[];for(var T in c)l.push(T);return l};v.exports=a;var O=k(5789),R=k(469);k(5717)(a,O);for(var y=E(R.prototype),n=0;n<y.length;n++){var u=y[n];a.prototype[u]||(a.prototype[u]=R.prototype[u])}function a(c){if(!(this instanceof a))return new a(c);O.call(this,c),R.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(b,this)}function b(c){c.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},8994:(v,W,k)=>{"use strict";v.exports=O;var E=k(421);k(5717)(O,E);function O(R){if(!(this instanceof O))return new O(R);E.call(this,R)}O.prototype._transform=function(R,y,n){n(null,R)}},5789:(v,W,k)=>{"use strict";v.exports=z;var E;z.ReadableState=le;var O=k(7187).EventEmitter,R=function(q,ae){return q.listeners(ae).length},y=k(677),n=k(8764).Buffer,u=k.g.Uint8Array||function(){};function a(B){return n.from(B)}function f(B){return n.isBuffer(B)||B instanceof u}var b=k(1616),c;b&&b.debuglog?c=b.debuglog("stream"):c=function(){};var l=k(8354),T=k(5072),d=k(1222),m=d.getHighWaterMark,g=k(9786).q,S=g.ERR_INVALID_ARG_TYPE,D=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,F=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,H,Q,ee;k(5717)(z,y);var te=T.errorOrDestroy,ie=["error","close","destroy","pause","resume"];function se(B,q,ae){if(typeof B.prependListener=="function")return B.prependListener(q,ae);!B._events||!B._events[q]?B.on(q,ae):Array.isArray(B._events[q])?B._events[q].unshift(ae):B._events[q]=[ae,B._events[q]]}function le(B,q,ae){E=E||k(2910),B=B||{},typeof ae!="boolean"&&(ae=q instanceof E),this.objectMode=!!B.objectMode,ae&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=m(this,B,"readableHighWaterMark",ae),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(H||(H=k(3893).s),this.decoder=new H(B.encoding),this.encoding=B.encoding)}function z(B){if(E=E||k(2910),!(this instanceof z))return new z(B);var q=this instanceof E;this._readableState=new le(B,this,q),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),y.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){!this._readableState||(this._readableState.destroyed=q)}}),z.prototype.destroy=T.destroy,z.prototype._undestroy=T.undestroy,z.prototype._destroy=function(B,q){q(B)},z.prototype.push=function(B,q){var ae=this._readableState,fe;return ae.objectMode?fe=!0:typeof B=="string"&&(q=q||ae.defaultEncoding,q!==ae.encoding&&(B=n.from(B,q),q=""),fe=!0),A(this,B,q,!1,fe)},z.prototype.unshift=function(B){return A(this,B,null,!0,!1)};function A(B,q,ae,fe,Ae){c("readableAddChunk",q);var ve=B._readableState;if(q===null)ve.reading=!1,P(B,ve);else{var Se;if(Ae||(Se=M(ve,q)),Se)te(B,Se);else if(ve.objectMode||q&&q.length>0)if(typeof q!="string"&&!ve.objectMode&&Object.getPrototypeOf(q)!==n.prototype&&(q=a(q)),fe)ve.endEmitted?te(B,new F):U(B,ve,q,!0);else if(ve.ended)te(B,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!ae?(q=ve.decoder.write(q),ve.objectMode||q.length!==0?U(B,ve,q,!1):G(B,ve)):U(B,ve,q,!1)}else fe||(ve.reading=!1,G(B,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function U(B,q,ae,fe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,B.emit("data",ae)):(q.length+=q.objectMode?1:ae.length,fe?q.buffer.unshift(ae):q.buffer.push(ae),q.needReadable&&I(B)),G(B,q)}function M(B,q){var ae;return!f(q)&&typeof q!="string"&&q!==void 0&&!B.objectMode&&(ae=new S("chunk",["string","Buffer","Uint8Array"],q)),ae}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(B){H||(H=k(3893).s);var q=new H(B);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,fe="";ae!==null;)fe+=q.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var s=1073741824;function h(B){return B>=s?B=s:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function x(B,q){return B<=0||q.length===0&&q.ended?0:q.objectMode?1:B!==B?q.flowing&&q.length?q.buffer.head.data.length:q.length:(B>q.highWaterMark&&(q.highWaterMark=h(B)),B<=q.length?B:q.ended?q.length:(q.needReadable=!0,0))}z.prototype.read=function(B){c("read",B),B=parseInt(B,10);var q=this._readableState,ae=B;if(B!==0&&(q.emittedReadable=!1),B===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return c("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?oe(this):I(this),null;if(B=x(B,q),B===0&&q.ended)return q.length===0&&oe(this),null;var fe=q.needReadable;c("need readable",fe),(q.length===0||q.length-B<q.highWaterMark)&&(fe=!0,c("length less than watermark",fe)),q.ended||q.reading?(fe=!1,c("reading or ended",fe)):fe&&(c("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(B=x(ae,q)));var Ae;return B>0?Ae=J(B,q):Ae=null,Ae===null?(q.needReadable=q.length<=q.highWaterMark,B=0):(q.length-=B,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),ae!==B&&q.ended&&oe(this)),Ae!==null&&this.emit("data",Ae),Ae};function P(B,q){if(c("onEofChunk"),!q.ended){if(q.decoder){var ae=q.decoder.end();ae&&ae.length&&(q.buffer.push(ae),q.length+=q.objectMode?1:ae.length)}q.ended=!0,q.sync?I(B):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,C(B)))}}function I(B){var q=B._readableState;c("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(c("emitReadable",q.flowing),q.emittedReadable=!0,process.nextTick(C,B))}function C(B){var q=B._readableState;c("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(B.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,X(B)}function G(B,q){q.readingMore||(q.readingMore=!0,process.nextTick(V,B,q))}function V(B,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var ae=q.length;if(c("maybeReadMore read 0"),B.read(0),ae===q.length)break}q.readingMore=!1}z.prototype._read=function(B){te(this,new w("_read()"))},z.prototype.pipe=function(B,q){var ae=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=B;break;case 1:fe.pipes=[fe.pipes,B];break;default:fe.pipes.push(B);break}fe.pipesCount+=1,c("pipe count=%d opts=%j",fe.pipesCount,q);var Ae=(!q||q.end!==!1)&&B!==process.stdout&&B!==process.stderr,ve=Ae?nt:j;fe.endEmitted?process.nextTick(ve):ae.once("end",ve),B.on("unpipe",Se);function Se(Z,ue){c("onunpipe"),Z===ae&&ue&&ue.hasUnpiped===!1&&(ue.hasUnpiped=!0,ft())}function nt(){c("onend"),B.end()}var Ne=_(ae);B.on("drain",Ne);var xe=!1;function ft(){c("cleanup"),B.removeListener("close",pt),B.removeListener("finish",ne),B.removeListener("drain",Ne),B.removeListener("error",Ie),B.removeListener("unpipe",Se),ae.removeListener("end",nt),ae.removeListener("end",j),ae.removeListener("data",Be),xe=!0,fe.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ne()}ae.on("data",Be);function Be(Z){c("ondata");var ue=B.write(Z);c("dest.write",ue),ue===!1&&((fe.pipesCount===1&&fe.pipes===B||fe.pipesCount>1&&me(fe.pipes,B)!==-1)&&!xe&&(c("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ae.pause())}function Ie(Z){c("onerror",Z),j(),B.removeListener("error",Ie),R(B,"error")===0&&te(B,Z)}se(B,"error",Ie);function pt(){B.removeListener("finish",ne),j()}B.once("close",pt);function ne(){c("onfinish"),B.removeListener("close",pt),j()}B.once("finish",ne);function j(){c("unpipe"),ae.unpipe(B)}return B.emit("pipe",ae),fe.flowing||(c("pipe resume"),ae.resume()),B};function _(B){return function(){var ae=B._readableState;c("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&R(B,"data")&&(ae.flowing=!0,X(B))}}z.prototype.unpipe=function(B){var q=this._readableState,ae={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return B&&B!==q.pipes?this:(B||(B=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,B&&B.emit("unpipe",this,ae),this);if(!B){var fe=q.pipes,Ae=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var ve=0;ve<Ae;ve++)fe[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=me(q.pipes,B);return Se===-1?this:(q.pipes.splice(Se,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),B.emit("unpipe",this,ae),this)},z.prototype.on=function(B,q){var ae=y.prototype.on.call(this,B,q),fe=this._readableState;return B==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):B==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,c("on readable",fe.length,fe.reading),fe.length?I(this):fe.reading||process.nextTick(pe,this)),ae},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(B,q){var ae=y.prototype.removeListener.call(this,B,q);return B==="readable"&&process.nextTick(Y,this),ae},z.prototype.removeAllListeners=function(B){var q=y.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&process.nextTick(Y,this),q};function Y(B){var q=B._readableState;q.readableListening=B.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:B.listenerCount("data")>0&&B.resume()}function pe(B){c("readable nexttick read 0"),B.read(0)}z.prototype.resume=function(){var B=this._readableState;return B.flowing||(c("resume"),B.flowing=!B.readableListening,ye(this,B)),B.paused=!1,this};function ye(B,q){q.resumeScheduled||(q.resumeScheduled=!0,process.nextTick(_e,B,q))}function _e(B,q){c("resume",q.reading),q.reading||B.read(0),q.resumeScheduled=!1,B.emit("resume"),X(B),q.flowing&&!q.reading&&B.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var q=B._readableState;for(c("flow",q.flowing);q.flowing&&B.read()!==null;);}z.prototype.wrap=function(B){var q=this,ae=this._readableState,fe=!1;B.on("end",function(){if(c("wrapped end"),ae.decoder&&!ae.ended){var Se=ae.decoder.end();Se&&Se.length&&q.push(Se)}q.push(null)}),B.on("data",function(Se){if(c("wrapped data"),ae.decoder&&(Se=ae.decoder.write(Se)),!(ae.objectMode&&Se==null)&&!(!ae.objectMode&&(!Se||!Se.length))){var nt=q.push(Se);nt||(fe=!0,B.pause())}});for(var Ae in B)this[Ae]===void 0&&typeof B[Ae]=="function"&&(this[Ae]=function(nt){return function(){return B[nt].apply(B,arguments)}}(Ae));for(var ve=0;ve<ie.length;ve++)B.on(ie[ve],this.emit.bind(this,ie[ve]));return this._read=function(Se){c("wrapped _read",Se),fe&&(fe=!1,B.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return Q===void 0&&(Q=k(527)),Q(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),z._fromList=J,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function J(B,q){if(q.length===0)return null;var ae;return q.objectMode?ae=q.buffer.shift():!B||B>=q.length?(q.decoder?ae=q.buffer.join(""):q.buffer.length===1?ae=q.buffer.first():ae=q.buffer.concat(q.length),q.buffer.clear()):ae=q.buffer.consume(B,q.decoder),ae}function oe(B){var q=B._readableState;c("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,process.nextTick(be,q,B))}function be(B,q){if(c("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,q.readable=!1,q.emit("end"),B.autoDestroy)){var ae=q._writableState;(!ae||ae.autoDestroy&&ae.finished)&&q.destroy()}}typeof Symbol=="function"&&(z.from=function(B,q){return ee===void 0&&(ee=k(5327)),ee(z,B,q)});function me(B,q){for(var ae=0,fe=B.length;ae<fe;ae++)if(B[ae]===q)return ae;return-1}},421:(v,W,k)=>{"use strict";v.exports=f;var E=k(9786).q,O=E.ERR_METHOD_NOT_IMPLEMENTED,R=E.ERR_MULTIPLE_CALLBACK,y=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=E.ERR_TRANSFORM_WITH_LENGTH_0,u=k(2910);k(5717)(f,u);function a(l,T){var d=this._transformState;d.transforming=!1;var m=d.writecb;if(m===null)return this.emit("error",new R);d.writechunk=null,d.writecb=null,T!=null&&this.push(T),m(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function f(l){if(!(this instanceof f))return new f(l);u.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",b)}function b(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,d){c(l,T,d)}):c(this,null,null)}f.prototype.push=function(l,T){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,T)},f.prototype._transform=function(l,T,d){d(new O("_transform()"))},f.prototype._write=function(l,T,d){var m=this._transformState;if(m.writecb=d,m.writechunk=l,m.writeencoding=T,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},f.prototype._read=function(l){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},f.prototype._destroy=function(l,T){u.prototype._destroy.call(this,l,function(d){T(d)})};function c(l,T,d){if(T)return l.emit("error",T);if(d!=null&&l.push(d),l._writableState.length)throw new n;if(l._transformState.transforming)throw new y;return l.push(null)}},469:(v,W,k)=>{"use strict";v.exports=le;function E(X,J,oe){this.chunk=X,this.encoding=J,this.callback=oe,this.next=null}function O(X){var J=this;this.next=null,this.entry=null,this.finish=function(){_e(J,X)}}var R;le.WritableState=ie;var y={deprecate:k(4927)},n=k(677),u=k(8764).Buffer,a=k.g.Uint8Array||function(){};function f(X){return u.from(X)}function b(X){return u.isBuffer(X)||X instanceof a}var c=k(5072),l=k(1222),T=l.getHighWaterMark,d=k(9786).q,m=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,S=d.ERR_MULTIPLE_CALLBACK,D=d.ERR_STREAM_CANNOT_PIPE,w=d.ERR_STREAM_DESTROYED,F=d.ERR_STREAM_NULL_VALUES,H=d.ERR_STREAM_WRITE_AFTER_END,Q=d.ERR_UNKNOWN_ENCODING,ee=c.errorOrDestroy;k(5717)(le,n);function te(){}function ie(X,J,oe){R=R||k(2910),X=X||{},typeof oe!="boolean"&&(oe=J instanceof R),this.objectMode=!!X.objectMode,oe&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=T(this,X,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=X.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){P(J,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}ie.prototype.getBuffer=function(){for(var J=this.bufferedRequest,oe=[];J;)oe.push(J),J=J.next;return oe},function(){try{Object.defineProperty(ie.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(X){}}();var se;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(se=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(J){return se.call(this,J)?!0:this!==le?!1:J&&J._writableState instanceof ie}})):se=function(J){return J instanceof this};function le(X){R=R||k(2910);var J=this instanceof R;if(!J&&!se.call(le,this))return new le(X);this._writableState=new ie(X,this,J),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),n.call(this)}le.prototype.pipe=function(){ee(this,new D)};function z(X,J){var oe=new H;ee(X,oe),process.nextTick(J,oe)}function A(X,J,oe,be){var me;return oe===null?me=new F:typeof oe!="string"&&!J.objectMode&&(me=new m("chunk",["string","Buffer"],oe)),me?(ee(X,me),process.nextTick(be,me),!1):!0}le.prototype.write=function(X,J,oe){var be=this._writableState,me=!1,B=!be.objectMode&&b(X);return B&&!u.isBuffer(X)&&(X=f(X)),typeof J=="function"&&(oe=J,J=null),B?J="buffer":J||(J=be.defaultEncoding),typeof oe!="function"&&(oe=te),be.ending?z(this,oe):(B||A(this,be,X,oe))&&(be.pendingcb++,me=M(this,be,B,X,J,oe)),me},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(this,X))},le.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new Q(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(X,J,oe){return!X.objectMode&&X.decodeStrings!==!1&&typeof J=="string"&&(J=u.from(J,oe)),J}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(X,J,oe,be,me,B){if(!oe){var q=U(J,be,me);be!==q&&(oe=!0,me="buffer",be=q)}var ae=J.objectMode?1:be.length;J.length+=ae;var fe=J.length<J.highWaterMark;if(fe||(J.needDrain=!0),J.writing||J.corked){var Ae=J.lastBufferedRequest;J.lastBufferedRequest={chunk:be,encoding:me,isBuf:oe,callback:B,next:null},Ae?Ae.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else s(X,J,!1,ae,be,me,B);return fe}function s(X,J,oe,be,me,B,q){J.writelen=be,J.writecb=q,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new w("write")):oe?X._writev(me,J.onwrite):X._write(me,B,J.onwrite),J.sync=!1}function h(X,J,oe,be,me){--J.pendingcb,oe?(process.nextTick(me,be),process.nextTick(pe,X,J),X._writableState.errorEmitted=!0,ee(X,be)):(me(be),X._writableState.errorEmitted=!0,ee(X,be),pe(X,J))}function x(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function P(X,J){var oe=X._writableState,be=oe.sync,me=oe.writecb;if(typeof me!="function")throw new S;if(x(oe),J)h(X,oe,be,J,me);else{var B=V(oe)||X.destroyed;!B&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&G(X,oe),be?process.nextTick(I,X,oe,B,me):I(X,oe,B,me)}}function I(X,J,oe,be){oe||C(X,J),J.pendingcb--,be(),pe(X,J)}function C(X,J){J.length===0&&J.needDrain&&(J.needDrain=!1,X.emit("drain"))}function G(X,J){J.bufferProcessing=!0;var oe=J.bufferedRequest;if(X._writev&&oe&&oe.next){var be=J.bufferedRequestCount,me=new Array(be),B=J.corkedRequestsFree;B.entry=oe;for(var q=0,ae=!0;oe;)me[q]=oe,oe.isBuf||(ae=!1),oe=oe.next,q+=1;me.allBuffers=ae,s(X,J,!0,J.length,me,"",B.finish),J.pendingcb++,J.lastBufferedRequest=null,B.next?(J.corkedRequestsFree=B.next,B.next=null):J.corkedRequestsFree=new O(J),J.bufferedRequestCount=0}else{for(;oe;){var fe=oe.chunk,Ae=oe.encoding,ve=oe.callback,Se=J.objectMode?1:fe.length;if(s(X,J,!1,Se,fe,Ae,ve),oe=oe.next,J.bufferedRequestCount--,J.writing)break}oe===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=oe,J.bufferProcessing=!1}le.prototype._write=function(X,J,oe){oe(new g("_write()"))},le.prototype._writev=null,le.prototype.end=function(X,J,oe){var be=this._writableState;return typeof X=="function"?(oe=X,X=null,J=null):typeof J=="function"&&(oe=J,J=null),X!=null&&this.write(X,J),be.corked&&(be.corked=1,this.uncork()),be.ending||ye(this,be,oe),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function _(X,J){X._final(function(oe){J.pendingcb--,oe&&ee(X,oe),J.prefinished=!0,X.emit("prefinish"),pe(X,J)})}function Y(X,J){!J.prefinished&&!J.finalCalled&&(typeof X._final=="function"&&!J.destroyed?(J.pendingcb++,J.finalCalled=!0,process.nextTick(_,X,J)):(J.prefinished=!0,X.emit("prefinish")))}function pe(X,J){var oe=V(J);if(oe&&(Y(X,J),J.pendingcb===0&&(J.finished=!0,X.emit("finish"),J.autoDestroy))){var be=X._readableState;(!be||be.autoDestroy&&be.endEmitted)&&X.destroy()}return oe}function ye(X,J,oe){J.ending=!0,pe(X,J),oe&&(J.finished?process.nextTick(oe):X.once("finish",oe)),J.ended=!0,X.writable=!1}function _e(X,J,oe){var be=X.entry;for(X.entry=null;be;){var me=be.callback;J.pendingcb--,me(oe),be=be.next}J.corkedRequestsFree.next=X}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){!this._writableState||(this._writableState.destroyed=J)}}),le.prototype.destroy=c.destroy,le.prototype._undestroy=c.undestroy,le.prototype._destroy=function(X,J){J(X)}},527:(v,W,k)=>{"use strict";var E;function O(w,F,H){return F in w?Object.defineProperty(w,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):w[F]=H,w}var R=k(8640),y=Symbol("lastResolve"),n=Symbol("lastReject"),u=Symbol("error"),a=Symbol("ended"),f=Symbol("lastPromise"),b=Symbol("handlePromise"),c=Symbol("stream");function l(w,F){return{value:w,done:F}}function T(w){var F=w[y];if(F!==null){var H=w[c].read();H!==null&&(w[f]=null,w[y]=null,w[n]=null,F(l(H,!1)))}}function d(w){process.nextTick(T,w)}function m(w,F){return function(H,Q){w.then(function(){if(F[a]){H(l(void 0,!0));return}F[b](H,Q)},Q)}}var g=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((E={get stream(){return this[c]},next:function(){var F=this,H=this[u];if(H!==null)return Promise.reject(H);if(this[a])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(ie,se){process.nextTick(function(){F[u]?se(F[u]):ie(l(void 0,!0))})});var Q=this[f],ee;if(Q)ee=new Promise(m(Q,this));else{var te=this[c].read();if(te!==null)return Promise.resolve(l(te,!1));ee=new Promise(this[b])}return this[f]=ee,ee}},O(E,Symbol.asyncIterator,function(){return this}),O(E,"return",function(){var F=this;return new Promise(function(H,Q){F[c].destroy(null,function(ee){if(ee){Q(ee);return}H(l(void 0,!0))})})}),E),g),D=function(F){var H,Q=Object.create(S,(H={},O(H,c,{value:F,writable:!0}),O(H,y,{value:null,writable:!0}),O(H,n,{value:null,writable:!0}),O(H,u,{value:null,writable:!0}),O(H,a,{value:F._readableState.endEmitted,writable:!0}),O(H,b,{value:function(te,ie){var se=Q[c].read();se?(Q[f]=null,Q[y]=null,Q[n]=null,te(l(se,!1))):(Q[y]=te,Q[n]=ie)},writable:!0}),H));return Q[f]=null,R(F,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=Q[n];te!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,te(ee)),Q[u]=ee;return}var ie=Q[y];ie!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,ie(l(void 0,!0))),Q[a]=!0}),F.on("readable",d.bind(null,Q)),Q};v.exports=D},8354:(v,W,k)=>{"use strict";function E(d,m){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);m&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?E(Object(g),!0).forEach(function(S){R(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):E(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function R(d,m,g){return m in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function y(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function n(d,m){for(var g=0;g<m.length;g++){var S=m[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,m,g){return m&&n(d.prototype,m),g&&n(d,g),d}var a=k(8764),f=a.Buffer,b=k(9386),c=b.inspect,l=c&&c.custom||"inspect";function T(d,m,g){f.prototype.copy.call(d,m,g)}v.exports=function(){function d(){y(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,D=""+S.data;S=S.next;)D+=g+S.data;return D}},{key:"concat",value:function(g){if(this.length===0)return f.alloc(0);for(var S=f.allocUnsafe(g>>>0),D=this.head,w=0;D;)T(D.data,S,w),w+=D.data.length,D=D.next;return S}},{key:"consume",value:function(g,S){var D;return g<this.head.data.length?(D=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?D=this.shift():D=S?this._getString(g):this._getBuffer(g),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,D=1,w=S.data;for(g-=w.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?w+=F:w+=F.slice(0,g),g-=H,g===0){H===F.length?(++D,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++D}return this.length-=D,w}},{key:"_getBuffer",value:function(g){var S=f.allocUnsafe(g),D=this.head,w=1;for(D.data.copy(S),g-=D.data.length;D=D.next;){var F=D.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++w,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=F.slice(H));break}++w}return this.length-=w,S}},{key:l,value:function(g,S){return c(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},5072:v=>{"use strict";function W(n,u){var a=this,f=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return f||b?(u?u(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(R,this,n)):process.nextTick(R,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(c){!u&&c?a._writableState?a._writableState.errorEmitted?process.nextTick(E,a):(a._writableState.errorEmitted=!0,process.nextTick(k,a,c)):process.nextTick(k,a,c):u?(process.nextTick(E,a),u(c)):process.nextTick(E,a)}),this)}function k(n,u){R(n,u),E(n)}function E(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function R(n,u){n.emit("error",u)}function y(n,u){var a=n._readableState,f=n._writableState;a&&a.autoDestroy||f&&f.autoDestroy?n.destroy(u):n.emit("error",u)}v.exports={destroy:W,undestroy:O,errorOrDestroy:y}},8640:(v,W,k)=>{"use strict";var E=k(9786).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var a=!1;return function(){if(!a){a=!0;for(var f=arguments.length,b=new Array(f),c=0;c<f;c++)b[c]=arguments[c];u.apply(this,b)}}}function R(){}function y(u){return u.setHeader&&typeof u.abort=="function"}function n(u,a,f){if(typeof a=="function")return n(u,null,a);a||(a={}),f=O(f||R);var b=a.readable||a.readable!==!1&&u.readable,c=a.writable||a.writable!==!1&&u.writable,l=function(){u.writable||d()},T=u._writableState&&u._writableState.finished,d=function(){c=!1,T=!0,b||f.call(u)},m=u._readableState&&u._readableState.endEmitted,g=function(){b=!1,m=!0,c||f.call(u)},S=function(H){f.call(u,H)},D=function(){var H;if(b&&!m)return(!u._readableState||!u._readableState.ended)&&(H=new E),f.call(u,H);if(c&&!T)return(!u._writableState||!u._writableState.ended)&&(H=new E),f.call(u,H)},w=function(){u.req.on("finish",d)};return y(u)?(u.on("complete",d),u.on("abort",D),u.req?w():u.on("request",w)):c&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),a.error!==!1&&u.on("error",S),u.on("close",D),function(){u.removeListener("complete",d),u.removeListener("abort",D),u.removeListener("request",w),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",D)}}v.exports=n},5327:v=>{v.exports=function(){throw new Error("Readable.from is not available in the browser")}},4218:(v,W,k)=>{"use strict";var E;function O(d){var m=!1;return function(){m||(m=!0,d.apply(void 0,arguments))}}var R=k(9786).q,y=R.ERR_MISSING_ARGS,n=R.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function a(d){return d.setHeader&&typeof d.abort=="function"}function f(d,m,g,S){S=O(S);var D=!1;d.on("close",function(){D=!0}),E===void 0&&(E=k(8640)),E(d,{readable:m,writable:g},function(F){if(F)return S(F);D=!0,S()});var w=!1;return function(F){if(!D&&!w){if(w=!0,a(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new n("pipe"))}}}function b(d){d()}function c(d,m){return d.pipe(m)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function T(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];var S=l(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new y("streams");var D,w=m.map(function(F,H){var Q=H<m.length-1,ee=H>0;return f(F,Q,ee,function(te){D||(D=te),te&&w.forEach(b),!Q&&(w.forEach(b),S(D))})});return m.reduce(c)}v.exports=T},1222:(v,W,k)=>{"use strict";var E=k(9786).q.ERR_INVALID_OPT_VALUE;function O(y,n,u){return y.highWaterMark!=null?y.highWaterMark:n?y[u]:null}function R(y,n,u,a){var f=O(n,a,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var b=a?u:"highWaterMark";throw new E(b,f)}return Math.floor(f)}return y.objectMode?16:16*1024}v.exports={getHighWaterMark:R}},677:(v,W,k)=>{v.exports=k(7187).EventEmitter},326:(v,W,k)=>{W=v.exports=k(5789),W.Stream=W,W.Readable=W,W.Writable=k(469),W.Duplex=k(2910),W.Transform=k(421),W.PassThrough=k(8994),W.finished=k(8640),W.pipeline=k(4218)},3893:(v,W,k)=>{"use strict";var E=k(9509).Buffer,O=E.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(w){if(!w)return"utf8";for(var F;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(F)return;w=(""+w).toLowerCase(),F=!0}}function y(w){var F=R(w);if(typeof F!="string"&&(E.isEncoding===O||!O(w)))throw new Error("Unknown encoding: "+w);return F||w}W.s=n;function n(w){this.encoding=y(w);var F;switch(this.encoding){case"utf16le":this.text=T,this.end=d,F=4;break;case"utf8":this.fillLast=b,F=4;break;case"base64":this.text=m,this.end=g,F=3;break;default:this.write=S,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(F)}n.prototype.write=function(w){if(w.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(w),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<w.length?F?F+this.text(w,H):this.text(w,H):F||""},n.prototype.end=l,n.prototype.text=c,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function u(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function a(w,F,H){var Q=F.length-1;if(Q<H)return 0;var ee=u(F[Q]);return ee>=0?(ee>0&&(w.lastNeed=ee-1),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(w.lastNeed=ee-2),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(ee===2?ee=0:w.lastNeed=ee-3),ee):0))}function f(w,F,H){if((F[0]&192)!=128)return w.lastNeed=0,"\uFFFD";if(w.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return w.lastNeed=1,"\uFFFD";if(w.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return w.lastNeed=2,"\uFFFD"}}function b(w){var F=this.lastTotal-this.lastNeed,H=f(this,w,F);if(H!==void 0)return H;if(this.lastNeed<=w.length)return w.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,F,0,w.length),this.lastNeed-=w.length}function c(w,F){var H=a(this,w,F);if(!this.lastNeed)return w.toString("utf8",F);this.lastTotal=H;var Q=w.length-(H-this.lastNeed);return w.copy(this.lastChar,0,Q),w.toString("utf8",F,Q)}function l(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+"\uFFFD":F}function T(w,F){if((w.length-F)%2==0){var H=w.toString("utf16le",F);if(H){var Q=H.charCodeAt(H.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",F,w.length-1)}function d(w){var F=w&&w.length?this.write(w):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function m(w,F){var H=(w.length-F)%3;return H===0?w.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",F,w.length-H))}function g(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(w){return w.toString(this.encoding)}function D(w){return w&&w.length?this.write(w):""}},3715:(v,W,k)=>{var E=W;E.utils=k(6436),E.common=k(5772),E.sha=k(9041),E.ripemd=k(2949),E.hmac=k(2344),E.sha1=E.sha.sha1,E.sha256=E.sha.sha256,E.sha224=E.sha.sha224,E.sha384=E.sha.sha384,E.sha512=E.sha.sha512,E.ripemd160=E.ripemd.ripemd160},5772:(v,W,k)=>{"use strict";var E=k(6436),O=k(9746);function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}W.BlockHash=R,R.prototype.update=function(n,u){if(n=E.toArray(n,u),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var a=n.length%this._delta8;this.pending=n.slice(n.length-a,n.length),this.pending.length===0&&(this.pending=null),n=E.join32(n,0,n.length-a,this.endian);for(var f=0;f<n.length;f+=this._delta32)this._update(n,f,f+this._delta32)}return this},R.prototype.digest=function(n){return this.update(this._pad()),O(this.pending===null),this._digest(n)},R.prototype._pad=function(){var n=this.pendingTotal,u=this._delta8,a=u-(n+this.padLength)%u,f=new Array(a+this.padLength);f[0]=128;for(var b=1;b<a;b++)f[b]=0;if(n<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)f[b++]=0;f[b++]=0,f[b++]=0,f[b++]=0,f[b++]=0,f[b++]=n>>>24&255,f[b++]=n>>>16&255,f[b++]=n>>>8&255,f[b++]=n&255}else for(f[b++]=n&255,f[b++]=n>>>8&255,f[b++]=n>>>16&255,f[b++]=n>>>24&255,f[b++]=0,f[b++]=0,f[b++]=0,f[b++]=0,c=8;c<this.padLength;c++)f[b++]=0;return f}},2344:(v,W,k)=>{"use strict";var E=k(6436),O=k(9746);function R(y,n,u){if(!(this instanceof R))return new R(y,n,u);this.Hash=y,this.blockSize=y.blockSize/8,this.outSize=y.outSize/8,this.inner=null,this.outer=null,this._init(E.toArray(n,u))}v.exports=R,R.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),O(n.length<=this.blockSize);for(var u=n.length;u<this.blockSize;u++)n.push(0);for(u=0;u<n.length;u++)n[u]^=54;for(this.inner=new this.Hash().update(n),u=0;u<n.length;u++)n[u]^=106;this.outer=new this.Hash().update(n)},R.prototype.update=function(n,u){return this.inner.update(n,u),this},R.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)}},2949:(v,W,k)=>{"use strict";var E=k(6436),O=k(5772),R=E.rotl32,y=E.sum32,n=E.sum32_3,u=E.sum32_4,a=O.BlockHash;function f(){if(!(this instanceof f))return new f;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}E.inherits(f,a),W.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(D,w){for(var F=this.h[0],H=this.h[1],Q=this.h[2],ee=this.h[3],te=this.h[4],ie=F,se=H,le=Q,z=ee,A=te,U=0;U<80;U++){var M=y(R(u(F,b(U,H,Q,ee),D[T[U]+w],c(U)),m[U]),te);F=te,te=ee,ee=R(Q,10),Q=H,H=M,M=y(R(u(ie,b(79-U,se,le,z),D[d[U]+w],l(U)),g[U]),A),ie=A,A=z,z=R(le,10),le=se,se=M}M=n(this.h[1],Q,z),this.h[1]=n(this.h[2],ee,A),this.h[2]=n(this.h[3],te,ie),this.h[3]=n(this.h[4],F,se),this.h[4]=n(this.h[0],H,le),this.h[0]=M},f.prototype._digest=function(D){return D==="hex"?E.toHex32(this.h,"little"):E.split32(this.h,"little")};function b(S,D,w,F){return S<=15?D^w^F:S<=31?D&w|~D&F:S<=47?(D|~w)^F:S<=63?D&F|w&~F:D^(w|~F)}function c(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function l(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}var T=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(v,W,k)=>{"use strict";W.sha1=k(4761),W.sha224=k(799),W.sha256=k(9344),W.sha384=k(772),W.sha512=k(5900)},4761:(v,W,k)=>{"use strict";var E=k(6436),O=k(5772),R=k(7038),y=E.rotl32,n=E.sum32,u=E.sum32_5,a=R.ft_1,f=O.BlockHash,b=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}E.inherits(c,f),v.exports=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(T,d){for(var m=this.W,g=0;g<16;g++)m[g]=T[d+g];for(;g<m.length;g++)m[g]=y(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var S=this.h[0],D=this.h[1],w=this.h[2],F=this.h[3],H=this.h[4];for(g=0;g<m.length;g++){var Q=~~(g/20),ee=u(y(S,5),a(Q,D,w,F),H,m[g],b[Q]);H=F,F=w,w=y(D,30),D=S,S=ee}this.h[0]=n(this.h[0],S),this.h[1]=n(this.h[1],D),this.h[2]=n(this.h[2],w),this.h[3]=n(this.h[3],F),this.h[4]=n(this.h[4],H)},c.prototype._digest=function(T){return T==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},799:(v,W,k)=>{"use strict";var E=k(6436),O=k(9344);function R(){if(!(this instanceof R))return new R;O.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}E.inherits(R,O),v.exports=R,R.blockSize=512,R.outSize=224,R.hmacStrength=192,R.padLength=64,R.prototype._digest=function(n){return n==="hex"?E.toHex32(this.h.slice(0,7),"big"):E.split32(this.h.slice(0,7),"big")}},9344:(v,W,k)=>{"use strict";var E=k(6436),O=k(5772),R=k(7038),y=k(9746),n=E.sum32,u=E.sum32_4,a=E.sum32_5,f=R.ch32,b=R.maj32,c=R.s0_256,l=R.s1_256,T=R.g0_256,d=R.g1_256,m=O.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}E.inherits(S,m),v.exports=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(w,F){for(var H=this.W,Q=0;Q<16;Q++)H[Q]=w[F+Q];for(;Q<H.length;Q++)H[Q]=u(d(H[Q-2]),H[Q-7],T(H[Q-15]),H[Q-16]);var ee=this.h[0],te=this.h[1],ie=this.h[2],se=this.h[3],le=this.h[4],z=this.h[5],A=this.h[6],U=this.h[7];for(y(this.k.length===H.length),Q=0;Q<H.length;Q++){var M=a(U,l(le),f(le,z,A),this.k[Q],H[Q]),s=n(c(ee),b(ee,te,ie));U=A,A=z,z=le,le=n(se,M),se=ie,ie=te,te=ee,ee=n(M,s)}this.h[0]=n(this.h[0],ee),this.h[1]=n(this.h[1],te),this.h[2]=n(this.h[2],ie),this.h[3]=n(this.h[3],se),this.h[4]=n(this.h[4],le),this.h[5]=n(this.h[5],z),this.h[6]=n(this.h[6],A),this.h[7]=n(this.h[7],U)},S.prototype._digest=function(w){return w==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")}},772:(v,W,k)=>{"use strict";var E=k(6436),O=k(5900);function R(){if(!(this instanceof R))return new R;O.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}E.inherits(R,O),v.exports=R,R.blockSize=1024,R.outSize=384,R.hmacStrength=192,R.padLength=128,R.prototype._digest=function(n){return n==="hex"?E.toHex32(this.h.slice(0,12),"big"):E.split32(this.h.slice(0,12),"big")}},5900:(v,W,k)=>{"use strict";var E=k(6436),O=k(5772),R=k(9746),y=E.rotr64_hi,n=E.rotr64_lo,u=E.shr64_hi,a=E.shr64_lo,f=E.sum64,b=E.sum64_hi,c=E.sum64_lo,l=E.sum64_4_hi,T=E.sum64_4_lo,d=E.sum64_5_hi,m=E.sum64_5_lo,g=O.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function D(){if(!(this instanceof D))return new D;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}E.inherits(D,g),v.exports=D,D.blockSize=1024,D.outSize=512,D.hmacStrength=192,D.padLength=128,D.prototype._prepareBlock=function(s,h){for(var x=this.W,P=0;P<32;P++)x[P]=s[h+P];for(;P<x.length;P+=2){var I=A(x[P-4],x[P-3]),C=U(x[P-4],x[P-3]),G=x[P-14],V=x[P-13],_=le(x[P-30],x[P-29]),Y=z(x[P-30],x[P-29]),pe=x[P-32],ye=x[P-31];x[P]=l(I,C,G,V,_,Y,pe,ye),x[P+1]=T(I,C,G,V,_,Y,pe,ye)}},D.prototype._update=function(s,h){this._prepareBlock(s,h);var x=this.W,P=this.h[0],I=this.h[1],C=this.h[2],G=this.h[3],V=this.h[4],_=this.h[5],Y=this.h[6],pe=this.h[7],ye=this.h[8],_e=this.h[9],X=this.h[10],J=this.h[11],oe=this.h[12],be=this.h[13],me=this.h[14],B=this.h[15];R(this.k.length===x.length);for(var q=0;q<x.length;q+=2){var ae=me,fe=B,Ae=ie(ye,_e),ve=se(ye,_e),Se=w(ye,_e,X,J,oe,be),nt=F(ye,_e,X,J,oe,be),Ne=this.k[q],xe=this.k[q+1],ft=x[q],Be=x[q+1],Ie=d(ae,fe,Ae,ve,Se,nt,Ne,xe,ft,Be),pt=m(ae,fe,Ae,ve,Se,nt,Ne,xe,ft,Be);ae=ee(P,I),fe=te(P,I),Ae=H(P,I,C,G,V,_),ve=Q(P,I,C,G,V,_);var ne=b(ae,fe,Ae,ve),j=c(ae,fe,Ae,ve);me=oe,B=be,oe=X,be=J,X=ye,J=_e,ye=b(Y,pe,Ie,pt),_e=c(pe,pe,Ie,pt),Y=V,pe=_,V=C,_=G,C=P,G=I,P=b(Ie,pt,ne,j),I=c(Ie,pt,ne,j)}f(this.h,0,P,I),f(this.h,2,C,G),f(this.h,4,V,_),f(this.h,6,Y,pe),f(this.h,8,ye,_e),f(this.h,10,X,J),f(this.h,12,oe,be),f(this.h,14,me,B)},D.prototype._digest=function(s){return s==="hex"?E.toHex32(this.h,"big"):E.split32(this.h,"big")};function w(M,s,h,x,P){var I=M&h^~M&P;return I<0&&(I+=4294967296),I}function F(M,s,h,x,P,I){var C=s&x^~s&I;return C<0&&(C+=4294967296),C}function H(M,s,h,x,P){var I=M&h^M&P^h&P;return I<0&&(I+=4294967296),I}function Q(M,s,h,x,P,I){var C=s&x^s&I^x&I;return C<0&&(C+=4294967296),C}function ee(M,s){var h=y(M,s,28),x=y(s,M,2),P=y(s,M,7),I=h^x^P;return I<0&&(I+=4294967296),I}function te(M,s){var h=n(M,s,28),x=n(s,M,2),P=n(s,M,7),I=h^x^P;return I<0&&(I+=4294967296),I}function ie(M,s){var h=y(M,s,14),x=y(M,s,18),P=y(s,M,9),I=h^x^P;return I<0&&(I+=4294967296),I}function se(M,s){var h=n(M,s,14),x=n(M,s,18),P=n(s,M,9),I=h^x^P;return I<0&&(I+=4294967296),I}function le(M,s){var h=y(M,s,1),x=y(M,s,8),P=u(M,s,7),I=h^x^P;return I<0&&(I+=4294967296),I}function z(M,s){var h=n(M,s,1),x=n(M,s,8),P=a(M,s,7),I=h^x^P;return I<0&&(I+=4294967296),I}function A(M,s){var h=y(M,s,19),x=y(s,M,29),P=u(M,s,6),I=h^x^P;return I<0&&(I+=4294967296),I}function U(M,s){var h=n(M,s,19),x=n(s,M,29),P=a(M,s,6),I=h^x^P;return I<0&&(I+=4294967296),I}},7038:(v,W,k)=>{"use strict";var E=k(6436),O=E.rotr32;function R(l,T,d,m){if(l===0)return y(T,d,m);if(l===1||l===3)return u(T,d,m);if(l===2)return n(T,d,m)}W.ft_1=R;function y(l,T,d){return l&T^~l&d}W.ch32=y;function n(l,T,d){return l&T^l&d^T&d}W.maj32=n;function u(l,T,d){return l^T^d}W.p32=u;function a(l){return O(l,2)^O(l,13)^O(l,22)}W.s0_256=a;function f(l){return O(l,6)^O(l,11)^O(l,25)}W.s1_256=f;function b(l){return O(l,7)^O(l,18)^l>>>3}W.g0_256=b;function c(l){return O(l,17)^O(l,19)^l>>>10}W.g1_256=c},6436:(v,W,k)=>{"use strict";var E=k(9746),O=k(5717);W.inherits=O;function R(U,M){return(U.charCodeAt(M)&64512)!=55296||M<0||M+1>=U.length?!1:(U.charCodeAt(M+1)&64512)==56320}function y(U,M){if(Array.isArray(U))return U.slice();if(!U)return[];var s=[];if(typeof U=="string")if(M){if(M==="hex")for(U=U.replace(/[^a-z0-9]+/ig,""),U.length%2!=0&&(U="0"+U),x=0;x<U.length;x+=2)s.push(parseInt(U[x]+U[x+1],16))}else for(var h=0,x=0;x<U.length;x++){var P=U.charCodeAt(x);P<128?s[h++]=P:P<2048?(s[h++]=P>>6|192,s[h++]=P&63|128):R(U,x)?(P=65536+((P&1023)<<10)+(U.charCodeAt(++x)&1023),s[h++]=P>>18|240,s[h++]=P>>12&63|128,s[h++]=P>>6&63|128,s[h++]=P&63|128):(s[h++]=P>>12|224,s[h++]=P>>6&63|128,s[h++]=P&63|128)}else for(x=0;x<U.length;x++)s[x]=U[x]|0;return s}W.toArray=y;function n(U){for(var M="",s=0;s<U.length;s++)M+=f(U[s].toString(16));return M}W.toHex=n;function u(U){var M=U>>>24|U>>>8&65280|U<<8&16711680|(U&255)<<24;return M>>>0}W.htonl=u;function a(U,M){for(var s="",h=0;h<U.length;h++){var x=U[h];M==="little"&&(x=u(x)),s+=b(x.toString(16))}return s}W.toHex32=a;function f(U){return U.length===1?"0"+U:U}W.zero2=f;function b(U){return U.length===7?"0"+U:U.length===6?"00"+U:U.length===5?"000"+U:U.length===4?"0000"+U:U.length===3?"00000"+U:U.length===2?"000000"+U:U.length===1?"0000000"+U:U}W.zero8=b;function c(U,M,s,h){var x=s-M;E(x%4==0);for(var P=new Array(x/4),I=0,C=M;I<P.length;I++,C+=4){var G;h==="big"?G=U[C]<<24|U[C+1]<<16|U[C+2]<<8|U[C+3]:G=U[C+3]<<24|U[C+2]<<16|U[C+1]<<8|U[C],P[I]=G>>>0}return P}W.join32=c;function l(U,M){for(var s=new Array(U.length*4),h=0,x=0;h<U.length;h++,x+=4){var P=U[h];M==="big"?(s[x]=P>>>24,s[x+1]=P>>>16&255,s[x+2]=P>>>8&255,s[x+3]=P&255):(s[x+3]=P>>>24,s[x+2]=P>>>16&255,s[x+1]=P>>>8&255,s[x]=P&255)}return s}W.split32=l;function T(U,M){return U>>>M|U<<32-M}W.rotr32=T;function d(U,M){return U<<M|U>>>32-M}W.rotl32=d;function m(U,M){return U+M>>>0}W.sum32=m;function g(U,M,s){return U+M+s>>>0}W.sum32_3=g;function S(U,M,s,h){return U+M+s+h>>>0}W.sum32_4=S;function D(U,M,s,h,x){return U+M+s+h+x>>>0}W.sum32_5=D;function w(U,M,s,h){var x=U[M],P=U[M+1],I=h+P>>>0,C=(I<h?1:0)+s+x;U[M]=C>>>0,U[M+1]=I}W.sum64=w;function F(U,M,s,h){var x=M+h>>>0,P=(x<M?1:0)+U+s;return P>>>0}W.sum64_hi=F;function H(U,M,s,h){var x=M+h;return x>>>0}W.sum64_lo=H;function Q(U,M,s,h,x,P,I,C){var G=0,V=M;V=V+h>>>0,G+=V<M?1:0,V=V+P>>>0,G+=V<P?1:0,V=V+C>>>0,G+=V<C?1:0;var _=U+s+x+I+G;return _>>>0}W.sum64_4_hi=Q;function ee(U,M,s,h,x,P,I,C){var G=M+h+P+C;return G>>>0}W.sum64_4_lo=ee;function te(U,M,s,h,x,P,I,C,G,V){var _=0,Y=M;Y=Y+h>>>0,_+=Y<M?1:0,Y=Y+P>>>0,_+=Y<P?1:0,Y=Y+C>>>0,_+=Y<C?1:0,Y=Y+V>>>0,_+=Y<V?1:0;var pe=U+s+x+I+G+_;return pe>>>0}W.sum64_5_hi=te;function ie(U,M,s,h,x,P,I,C,G,V){var _=M+h+P+C+V;return _>>>0}W.sum64_5_lo=ie;function se(U,M,s){var h=M<<32-s|U>>>s;return h>>>0}W.rotr64_hi=se;function le(U,M,s){var h=U<<32-s|M>>>s;return h>>>0}W.rotr64_lo=le;function z(U,M,s){return U>>>s}W.shr64_hi=z;function A(U,M,s){var h=U<<32-s|M>>>s;return h>>>0}W.shr64_lo=A},2156:(v,W,k)=>{"use strict";var E=k(3715),O=k(4504),R=k(9746);function y(n){if(!(this instanceof y))return new y(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=O.toArray(n.entropy,n.entropyEnc||"hex"),a=O.toArray(n.nonce,n.nonceEnc||"hex"),f=O.toArray(n.pers,n.persEnc||"hex");R(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,a,f)}v.exports=y,y.prototype._init=function(u,a,f){var b=u.concat(a).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(b),this._reseed=1,this.reseedInterval=281474976710656},y.prototype._hmac=function(){return new E.hmac(this.hash,this.K)},y.prototype._update=function(u){var a=this._hmac().update(this.V).update([0]);u&&(a=a.update(u)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),!!u&&(this.K=this._hmac().update(this.V).update([1]).update(u).digest(),this.V=this._hmac().update(this.V).digest())},y.prototype.reseed=function(u,a,f,b){typeof a!="string"&&(b=f,f=a,a=null),u=O.toArray(u,a),f=O.toArray(f,b),R(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(u.concat(f||[])),this._reseed=1},y.prototype.generate=function(u,a,f,b){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(b=f,f=a,a=null),f&&(f=O.toArray(f,b||"hex"),this._update(f));for(var c=[];c.length<u;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var l=c.slice(0,u);return this._update(f),this._reseed++,O.encode(l,a)}},645:(v,W)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */W.read=function(k,E,O,R,y){var n,u,a=y*8-R-1,f=(1<<a)-1,b=f>>1,c=-7,l=O?y-1:0,T=O?-1:1,d=k[E+l];for(l+=T,n=d&(1<<-c)-1,d>>=-c,c+=a;c>0;n=n*256+k[E+l],l+=T,c-=8);for(u=n&(1<<-c)-1,n>>=-c,c+=R;c>0;u=u*256+k[E+l],l+=T,c-=8);if(n===0)n=1-b;else{if(n===f)return u?NaN:(d?-1:1)*Infinity;u=u+Math.pow(2,R),n=n-b}return(d?-1:1)*u*Math.pow(2,n-R)},W.write=function(k,E,O,R,y,n){var u,a,f,b=n*8-y-1,c=(1<<b)-1,l=c>>1,T=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=R?0:n-1,m=R?1:-1,g=E<0||E===0&&1/E<0?1:0;for(E=Math.abs(E),isNaN(E)||E===Infinity?(a=isNaN(E)?1:0,u=c):(u=Math.floor(Math.log(E)/Math.LN2),E*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+l>=1?E+=T/f:E+=T*Math.pow(2,1-l),E*f>=2&&(u++,f/=2),u+l>=c?(a=0,u=c):u+l>=1?(a=(E*f-1)*Math.pow(2,y),u=u+l):(a=E*Math.pow(2,l-1)*Math.pow(2,y),u=0));y>=8;k[O+d]=a&255,d+=m,a/=256,y-=8);for(u=u<<y|a,b+=y;b>0;k[O+d]=u&255,d+=m,u/=256,b-=8);k[O+d-m]|=g*128}},5717:v=>{typeof Object.create=="function"?v.exports=function(k,E){E&&(k.super_=E,k.prototype=Object.create(E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}))}:v.exports=function(k,E){if(E){k.super_=E;var O=function(){};O.prototype=E.prototype,k.prototype=new O,k.prototype.constructor=k}}},9593:(v,W,k)=>{"use strict";const E=k(4411),O=Symbol("max"),R=Symbol("length"),y=Symbol("lengthCalculator"),n=Symbol("allowStale"),u=Symbol("maxAge"),a=Symbol("dispose"),f=Symbol("noDisposeOnSet"),b=Symbol("lruList"),c=Symbol("cache"),l=Symbol("updateAgeOnGet"),T=()=>1;class d{constructor(Q){if(typeof Q=="number"&&(Q={max:Q}),Q||(Q={}),Q.max&&(typeof Q.max!="number"||Q.max<0))throw new TypeError("max must be a non-negative number");const ee=this[O]=Q.max||Infinity,te=Q.length||T;if(this[y]=typeof te!="function"?T:te,this[n]=Q.stale||!1,Q.maxAge&&typeof Q.maxAge!="number")throw new TypeError("maxAge must be a number");this[u]=Q.maxAge||0,this[a]=Q.dispose,this[f]=Q.noDisposeOnSet||!1,this[l]=Q.updateAgeOnGet||!1,this.reset()}set max(Q){if(typeof Q!="number"||Q<0)throw new TypeError("max must be a non-negative number");this[O]=Q||Infinity,S(this)}get max(){return this[O]}set allowStale(Q){this[n]=!!Q}get allowStale(){return this[n]}set maxAge(Q){if(typeof Q!="number")throw new TypeError("maxAge must be a non-negative number");this[u]=Q,S(this)}get maxAge(){return this[u]}set lengthCalculator(Q){typeof Q!="function"&&(Q=T),Q!==this[y]&&(this[y]=Q,this[R]=0,this[b].forEach(ee=>{ee.length=this[y](ee.value,ee.key),this[R]+=ee.length})),S(this)}get lengthCalculator(){return this[y]}get length(){return this[R]}get itemCount(){return this[b].length}rforEach(Q,ee){ee=ee||this;for(let te=this[b].tail;te!==null;){const ie=te.prev;F(this,Q,te,ee),te=ie}}forEach(Q,ee){ee=ee||this;for(let te=this[b].head;te!==null;){const ie=te.next;F(this,Q,te,ee),te=ie}}keys(){return this[b].toArray().map(Q=>Q.key)}values(){return this[b].toArray().map(Q=>Q.value)}reset(){this[a]&&this[b]&&this[b].length&&this[b].forEach(Q=>this[a](Q.key,Q.value)),this[c]=new Map,this[b]=new E,this[R]=0}dump(){return this[b].map(Q=>g(this,Q)?!1:{k:Q.key,v:Q.value,e:Q.now+(Q.maxAge||0)}).toArray().filter(Q=>Q)}dumpLru(){return this[b]}set(Q,ee,te){if(te=te||this[u],te&&typeof te!="number")throw new TypeError("maxAge must be a number");const ie=te?Date.now():0,se=this[y](ee,Q);if(this[c].has(Q)){if(se>this[O])return D(this,this[c].get(Q)),!1;const A=this[c].get(Q).value;return this[a]&&(this[f]||this[a](Q,A.value)),A.now=ie,A.maxAge=te,A.value=ee,this[R]+=se-A.length,A.length=se,this.get(Q),S(this),!0}const le=new w(Q,ee,se,ie,te);return le.length>this[O]?(this[a]&&this[a](Q,ee),!1):(this[R]+=le.length,this[b].unshift(le),this[c].set(Q,this[b].head),S(this),!0)}has(Q){if(!this[c].has(Q))return!1;const ee=this[c].get(Q).value;return!g(this,ee)}get(Q){return m(this,Q,!0)}peek(Q){return m(this,Q,!1)}pop(){const Q=this[b].tail;return Q?(D(this,Q),Q.value):null}del(Q){D(this,this[c].get(Q))}load(Q){this.reset();const ee=Date.now();for(let te=Q.length-1;te>=0;te--){const ie=Q[te],se=ie.e||0;if(se===0)this.set(ie.k,ie.v);else{const le=se-ee;le>0&&this.set(ie.k,ie.v,le)}}}prune(){this[c].forEach((Q,ee)=>m(this,ee,!1))}}const m=(H,Q,ee)=>{const te=H[c].get(Q);if(te){const ie=te.value;if(g(H,ie)){if(D(H,te),!H[n])return}else ee&&(H[l]&&(te.value.now=Date.now()),H[b].unshiftNode(te));return ie.value}},g=(H,Q)=>{if(!Q||!Q.maxAge&&!H[u])return!1;const ee=Date.now()-Q.now;return Q.maxAge?ee>Q.maxAge:H[u]&&ee>H[u]},S=H=>{if(H[R]>H[O])for(let Q=H[b].tail;H[R]>H[O]&&Q!==null;){const ee=Q.prev;D(H,Q),Q=ee}},D=(H,Q)=>{if(Q){const ee=Q.value;H[a]&&H[a](ee.key,ee.value),H[R]-=ee.length,H[c].delete(ee.key),H[b].removeNode(Q)}};class w{constructor(Q,ee,te,ie,se){this.key=Q,this.value=ee,this.length=te,this.now=ie,this.maxAge=se||0}}const F=(H,Q,ee,te)=>{let ie=ee.value;g(H,ie)&&(D(H,ee),H[n]||(ie=void 0)),ie&&Q.call(te,ie.value,ie.key,H)};v.exports=d},7468:(v,W,k)=>{const E=k(9930),{defaults:O}=k(8644),{inline:R}=k(9709),{findClosingBracket:y,escape:n}=k(621);v.exports=class Yi{constructor(a,f){if(this.options=f||O,this.links=a,this.rules=R.normal,this.options.renderer=this.options.renderer||new E,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=R.pedantic:this.options.gfm&&(this.options.breaks?this.rules=R.breaks:this.rules=R.gfm)}static get rules(){return R}static output(a,f,b){return new Yi(f,b).output(a)}output(a){let f="",b,c,l,T,d,m;for(;a;){if(d=this.rules.escape.exec(a)){a=a.substring(d[0].length),f+=n(d[1]);continue}if(d=this.rules.tag.exec(a)){!this.inLink&&/^<a /i.test(d[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(d[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(d[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(d[0])&&(this.inRawBlock=!1),a=a.substring(d[0].length),f+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):n(d[0]):d[0]);continue}if(d=this.rules.link.exec(a)){const g=y(d[2],"()");if(g>-1){const D=(d[0].indexOf("!")===0?5:4)+d[1].length+g;d[2]=d[2].substring(0,g),d[0]=d[0].substring(0,D).trim(),d[3]=""}a=a.substring(d[0].length),this.inLink=!0,l=d[2],this.options.pedantic?(b=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l),b?(l=b[1],T=b[3]):T=""):T=d[3]?d[3].slice(1,-1):"",l=l.trim().replace(/^<([\s\S]*)>$/,"$1"),f+=this.outputLink(d,{href:Yi.escapes(l),title:Yi.escapes(T)}),this.inLink=!1;continue}if((d=this.rules.reflink.exec(a))||(d=this.rules.nolink.exec(a))){if(a=a.substring(d[0].length),b=(d[2]||d[1]).replace(/\s+/g," "),b=this.links[b.toLowerCase()],!b||!b.href){f+=d[0].charAt(0),a=d[0].substring(1)+a;continue}this.inLink=!0,f+=this.outputLink(d,b),this.inLink=!1;continue}if(d=this.rules.strong.exec(a)){a=a.substring(d[0].length),f+=this.renderer.strong(this.output(d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.em.exec(a)){a=a.substring(d[0].length),f+=this.renderer.em(this.output(d[6]||d[5]||d[4]||d[3]||d[2]||d[1]));continue}if(d=this.rules.code.exec(a)){a=a.substring(d[0].length),f+=this.renderer.codespan(n(d[2].trim(),!0));continue}if(d=this.rules.br.exec(a)){a=a.substring(d[0].length),f+=this.renderer.br();continue}if(d=this.rules.del.exec(a)){a=a.substring(d[0].length),f+=this.renderer.del(this.output(d[1]));continue}if(d=this.rules.autolink.exec(a)){a=a.substring(d[0].length),d[2]==="@"?(c=n(this.mangle(d[1])),l="mailto:"+c):(c=n(d[1]),l=c),f+=this.renderer.link(l,null,c);continue}if(!this.inLink&&(d=this.rules.url.exec(a))){if(d[2]==="@")c=n(d[0]),l="mailto:"+c;else{do m=d[0],d[0]=this.rules._backpedal.exec(d[0])[0];while(m!==d[0]);c=n(d[0]),d[1]==="www."?l="http://"+c:l=c}a=a.substring(d[0].length),f+=this.renderer.link(l,null,c);continue}if(d=this.rules.text.exec(a)){a=a.substring(d[0].length),this.inRawBlock?f+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(d[0]):n(d[0]):d[0]):f+=this.renderer.text(n(this.smartypants(d[0])));continue}if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0))}return f}static escapes(a){return a&&a.replace(Yi.rules._escapes,"$1")}outputLink(a,f){const b=f.href,c=f.title?n(f.title):null;return a[0].charAt(0)!=="!"?this.renderer.link(b,c,this.output(a[1])):this.renderer.image(b,c,n(a[1]))}smartypants(a){return this.options.smartypants?a.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):a}mangle(a){if(!this.options.mangle)return a;const f=a.length;let b="",c=0,l;for(;c<f;c++)l=a.charCodeAt(c),Math.random()>.5&&(l="x"+l.toString(16)),b+="&#"+l+";";return b}}},1092:(v,W,k)=>{const{defaults:E}=k(8644),{block:O}=k(9709),{rtrim:R,splitCells:y,escape:n}=k(621);v.exports=class ju{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||E,this.rules=O.normal,this.options.pedantic?this.rules=O.pedantic:this.options.gfm&&(this.rules=O.gfm)}static get rules(){return O}static lex(a,f){return new ju(f).lex(a)}lex(a){return a=a.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.token(a,!0)}token(a,f){a=a.replace(/^ +$/gm,"");let b,c,l,T,d,m,g,S,D,w,F,H,Q,ee,te,ie;for(;a;){if((l=this.rules.newline.exec(a))&&(a=a.substring(l[0].length),l[0].length>1&&this.tokens.push({type:"space"})),l=this.rules.code.exec(a)){const se=this.tokens[this.tokens.length-1];a=a.substring(l[0].length),se&&se.type==="paragraph"?se.text+=`
`+l[0].trimRight():(l=l[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?l:R(l,`
`)}));continue}if(l=this.rules.fences.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"code",lang:l[2]?l[2].trim():l[2],text:l[3]||""});continue}if(l=this.rules.heading.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"heading",depth:l[1].length,text:l[2]});continue}if((l=this.rules.nptable.exec(a))&&(m={type:"table",header:y(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split(`
`):[]},m.header.length===m.align.length)){for(a=a.substring(l[0].length),F=0;F<m.align.length;F++)/^ *-+: *$/.test(m.align[F])?m.align[F]="right":/^ *:-+: *$/.test(m.align[F])?m.align[F]="center":/^ *:-+ *$/.test(m.align[F])?m.align[F]="left":m.align[F]=null;for(F=0;F<m.cells.length;F++)m.cells[F]=y(m.cells[F],m.header.length);this.tokens.push(m);continue}if(l=this.rules.hr.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"hr"});continue}if(l=this.rules.blockquote.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"blockquote_start"}),l=l[0].replace(/^ *> ?/gm,""),this.token(l,f),this.tokens.push({type:"blockquote_end"});continue}if(l=this.rules.list.exec(a)){for(a=a.substring(l[0].length),T=l[2],ee=T.length>1,g={type:"list_start",ordered:ee,start:ee?+T:"",loose:!1},this.tokens.push(g),l=l[0].match(this.rules.item),S=[],b=!1,Q=l.length,F=0;F<Q;F++)m=l[F],w=m.length,m=m.replace(/^ *([*+-]|\d+\.) */,""),~m.indexOf(`
 `)&&(w-=m.length,m=this.options.pedantic?m.replace(/^ {1,4}/gm,""):m.replace(new RegExp("^ {1,"+w+"}","gm"),"")),F!==Q-1&&(d=O.bullet.exec(l[F+1])[0],(T.length>1?d.length===1:d.length>1||this.options.smartLists&&d!==T)&&(a=l.slice(F+1).join(`
`)+a,F=Q-1)),c=b||/\n\n(?!\s*$)/.test(m),F!==Q-1&&(b=m.charAt(m.length-1)===`
`,c||(c=b)),c&&(g.loose=!0),te=/^\[[ xX]\] /.test(m),ie=void 0,te&&(ie=m[1]!==" ",m=m.replace(/^\[[ xX]\] +/,"")),D={type:"list_item_start",task:te,checked:ie,loose:c},S.push(D),this.tokens.push(D),this.token(m,!1),this.tokens.push({type:"list_item_end"});if(g.loose)for(Q=S.length,F=0;F<Q;F++)S[F].loose=!0;this.tokens.push({type:"list_end"});continue}if(l=this.rules.html.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(l[1]==="pre"||l[1]==="script"||l[1]==="style"),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):n(l[0]):l[0]});continue}if(f&&(l=this.rules.def.exec(a))){a=a.substring(l[0].length),l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),H=l[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[H]||(this.tokens.links[H]={href:l[2],title:l[3]});continue}if((l=this.rules.table.exec(a))&&(m={type:"table",header:y(l[1].replace(/^ *| *\| *$/g,"")),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:l[3]?l[3].replace(/\n$/,"").split(`
`):[]},m.header.length===m.align.length)){for(a=a.substring(l[0].length),F=0;F<m.align.length;F++)/^ *-+: *$/.test(m.align[F])?m.align[F]="right":/^ *:-+: *$/.test(m.align[F])?m.align[F]="center":/^ *:-+ *$/.test(m.align[F])?m.align[F]="left":m.align[F]=null;for(F=0;F<m.cells.length;F++)m.cells[F]=y(m.cells[F].replace(/^ *\| *| *\| *$/g,""),m.header.length);this.tokens.push(m);continue}if(l=this.rules.lheading.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"heading",depth:l[2].charAt(0)==="="?1:2,text:l[1]});continue}if(f&&(l=this.rules.paragraph.exec(a))){a=a.substring(l[0].length),this.tokens.push({type:"paragraph",text:l[1].charAt(l[1].length-1)===`
`?l[1].slice(0,-1):l[1]});continue}if(l=this.rules.text.exec(a)){a=a.substring(l[0].length),this.tokens.push({type:"text",text:l[0]});continue}if(a)throw new Error("Infinite loop on byte: "+a.charCodeAt(0))}return this.tokens}}},9170:(v,W,k)=>{const E=k(9930),O=k(1846),R=k(7468),y=k(1477),{defaults:n}=k(8644),{merge:u,unescape:a}=k(621);v.exports=class zu{constructor(b){this.tokens=[],this.token=null,this.options=b||n,this.options.renderer=this.options.renderer||new E,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new O}static parse(b,c){return new zu(c).parse(b)}parse(b){this.inline=new R(b.links,this.options),this.inlineText=new R(b.links,u({},this.options,{renderer:new y})),this.tokens=b.reverse();let c="";for(;this.next();)c+=this.tok();return c}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let b=this.token.text;for(;this.peek().type==="text";)b+=`
`+this.next().text;return this.inline.output(b)}tok(){let b="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,a(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let c="",l,T,d,m;for(d="",l=0;l<this.token.header.length;l++)d+=this.renderer.tablecell(this.inline.output(this.token.header[l]),{header:!0,align:this.token.align[l]});for(c+=this.renderer.tablerow(d),l=0;l<this.token.cells.length;l++){for(T=this.token.cells[l],d="",m=0;m<T.length;m++)d+=this.renderer.tablecell(this.inline.output(T[m]),{header:!1,align:this.token.align[m]});b+=this.renderer.tablerow(d)}return this.renderer.table(c,b)}case"blockquote_start":{for(b="";this.next().type!=="blockquote_end";)b+=this.tok();return this.renderer.blockquote(b)}case"list_start":{b="";const c=this.token.ordered,l=this.token.start;for(;this.next().type!=="list_end";)b+=this.tok();return this.renderer.list(b,c,l)}case"list_item_start":{b="";const c=this.token.loose,l=this.token.checked,T=this.token.task;if(this.token.task)if(c)if(this.peek().type==="text"){const d=this.peek();d.text=this.renderer.checkbox(l)+" "+d.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(l)});else b+=this.renderer.checkbox(l);for(;this.next().type!=="list_item_end";)b+=!c&&this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(b,T,l)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const c='Token with "'+this.token.type+'" type was not found.';if(this.options.silent)console.log(c);else throw new Error(c)}}}}},9930:(v,W,k)=>{const{defaults:E}=k(8644),{cleanUrl:O,escape:R}=k(621);v.exports=class{constructor(n){this.options=n||E}code(n,u,a){const f=(u||"").match(/\S*/)[0];if(this.options.highlight){const b=this.options.highlight(n,f);b!=null&&b!==n&&(a=!0,n=b)}return f?'<pre><code class="'+this.options.langPrefix+R(f,!0)+'">'+(a?n:R(n,!0))+`</code></pre>
`:"<pre><code>"+(a?n:R(n,!0))+"</code></pre>"}blockquote(n){return`<blockquote>
`+n+`</blockquote>
`}html(n){return n}heading(n,u,a,f){return this.options.headerIds?"<h"+u+' id="'+this.options.headerPrefix+f.slug(a)+'">'+n+"</h"+u+`>
`:"<h"+u+">"+n+"</h"+u+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(n,u,a){const f=u?"ol":"ul",b=u&&a!==1?' start="'+a+'"':"";return"<"+f+b+`>
`+n+"</"+f+`>
`}listitem(n){return"<li>"+n+`</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return"<p>"+n+`</p>
`}table(n,u){return u&&(u="<tbody>"+u+"</tbody>"),`<table>
<thead>
`+n+`</thead>
`+u+`</table>
`}tablerow(n){return`<tr>
`+n+`</tr>
`}tablecell(n,u){const a=u.header?"th":"td";return(u.align?"<"+a+' align="'+u.align+'">':"<"+a+">")+n+"</"+a+`>
`}strong(n){return"<strong>"+n+"</strong>"}em(n){return"<em>"+n+"</em>"}codespan(n){return"<code>"+n+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return"<del>"+n+"</del>"}link(n,u,a){if(n=O(this.options.sanitize,this.options.baseUrl,n),n===null)return a;let f='<a href="'+R(n)+'"';return u&&(f+=' title="'+u+'"'),f+=">"+a+"</a>",f}image(n,u,a){if(n=O(this.options.sanitize,this.options.baseUrl,n),n===null)return a;let f='<img src="'+n+'" alt="'+a+'"';return u&&(f+=' title="'+u+'"'),f+=this.options.xhtml?"/>":">",f}text(n){return n}}},1846:v=>{v.exports=class{constructor(){this.seen={}}slug(k){let E=k.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(E)){const O=E;do this.seen[O]++,E=O+"-"+this.seen[O];while(this.seen.hasOwnProperty(E))}return this.seen[E]=0,E}}},1477:v=>{v.exports=class{strong(k){return k}em(k){return k}codespan(k){return k}del(k){return k}html(k){return k}text(k){return k}link(k,E,O){return""+O}image(k,E,O){return""+O}br(){return""}}},8644:v=>{function W(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function k(E){v.exports.defaults=E}v.exports={defaults:W(),getDefaults:W,changeDefaults:k}},621:v=>{const W=/[&<>"']/,k=/[&<>"']/g,E=/[<>"']|&(?!#?\w+;)/,O=/[<>"']|&(?!#?\w+;)/g,R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=ie=>R[ie];function n(ie,se){if(se){if(W.test(ie))return ie.replace(k,y)}else if(E.test(ie))return ie.replace(O,y);return ie}const u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function a(ie){return ie.replace(u,(se,le)=>(le=le.toLowerCase(),le==="colon"?":":le.charAt(0)==="#"?le.charAt(1)==="x"?String.fromCharCode(parseInt(le.substring(2),16)):String.fromCharCode(+le.substring(1)):""))}const f=/(^|[^\[])\^/g;function b(ie,se){ie=ie.source||ie,se=se||"";const le={replace:(z,A)=>(A=A.source||A,A=A.replace(f,"$1"),ie=ie.replace(z,A),le),getRegex:()=>new RegExp(ie,se)};return le}const c=/[^\w:]/g,l=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function T(ie,se,le){if(ie){let z;try{z=decodeURIComponent(a(le)).replace(c,"").toLowerCase()}catch(A){return null}if(z.indexOf("javascript:")===0||z.indexOf("vbscript:")===0||z.indexOf("data:")===0)return null}se&&!l.test(le)&&(le=D(se,le));try{le=encodeURI(le).replace(/%25/g,"%")}catch(z){return null}return le}const d={},m=/^[^:]+:\/*[^/]*$/,g=/^([^:]+:)[\s\S]*$/,S=/^([^:]+:\/*[^/]*)[\s\S]*$/;function D(ie,se){d[" "+ie]||(m.test(ie)?d[" "+ie]=ie+"/":d[" "+ie]=Q(ie,"/",!0)),ie=d[" "+ie];const le=ie.indexOf(":")===-1;return se.substring(0,2)==="//"?le?se:ie.replace(g,"$1")+se:se.charAt(0)==="/"?le?se:ie.replace(S,"$1")+se:ie+se}const w={exec:function(){}};function F(ie){let se=1,le,z;for(;se<arguments.length;se++){le=arguments[se];for(z in le)Object.prototype.hasOwnProperty.call(le,z)&&(ie[z]=le[z])}return ie}function H(ie,se){const le=ie.replace(/\|/g,(U,M,s)=>{let h=!1,x=M;for(;--x>=0&&s[x]==="\\";)h=!h;return h?"|":" |"}),z=le.split(/ \|/);let A=0;if(z.length>se)z.splice(se);else for(;z.length<se;)z.push("");for(;A<z.length;A++)z[A]=z[A].trim().replace(/\\\|/g,"|");return z}function Q(ie,se,le){const z=ie.length;if(z===0)return"";let A=0;for(;A<z;){const U=ie.charAt(z-A-1);if(U===se&&!le)A++;else if(U!==se&&le)A++;else break}return ie.substr(0,z-A)}function ee(ie,se){if(ie.indexOf(se[1])===-1)return-1;const le=ie.length;let z=0,A=0;for(;A<le;A++)if(ie[A]==="\\")A++;else if(ie[A]===se[0])z++;else if(ie[A]===se[1]&&(z--,z<0))return A;return-1}function te(ie){ie&&ie.sanitize&&!ie.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}v.exports={escape:n,unescape:a,edit:b,cleanUrl:T,resolveUrl:D,noopTest:w,merge:F,splitCells:H,rtrim:Q,findClosingBracket:ee,checkSanitizeDeprecation:te}},7228:(v,W,k)=>{const E=k(1092),O=k(9170),R=k(9930),y=k(1477),n=k(7468),u=k(1846),{merge:a,checkSanitizeDeprecation:f,escape:b}=k(621),{getDefaults:c,changeDefaults:l,defaults:T}=k(8644);function d(m,g,S){if(typeof m=="undefined"||m===null)throw new Error("marked(): input parameter is undefined or null");if(typeof m!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(m)+", string expected");if(S||typeof g=="function"){S||(S=g,g=null),g=a({},d.defaults,g||{}),f(g);const D=g.highlight;let w,F,H=0;try{w=E.lex(m,g)}catch(ee){return S(ee)}F=w.length;const Q=function(ee){if(ee)return g.highlight=D,S(ee);let te;try{te=O.parse(w,g)}catch(ie){ee=ie}return g.highlight=D,ee?S(ee):S(null,te)};if(!D||D.length<3||(delete g.highlight,!F))return Q();for(;H<w.length;H++)(function(ee){return ee.type!=="code"?--F||Q():D(ee.text,ee.lang,function(te,ie){if(te)return Q(te);if(ie==null||ie===ee.text)return--F||Q();ee.text=ie,ee.escaped=!0,--F||Q()})})(w[H]);return}try{return g=a({},d.defaults,g||{}),f(g),O.parse(E.lex(m,g),g)}catch(D){if(D.message+=`
Please report this to https://github.com/markedjs/marked.`,(g||d.defaults).silent)return"<p>An error occurred:</p><pre>"+b(D.message+"",!0)+"</pre>";throw D}}d.options=d.setOptions=function(m){return a(d.defaults,m),l(d.defaults),d},d.getDefaults=c,d.defaults=T,d.Parser=O,d.parser=O.parse,d.Renderer=R,d.TextRenderer=y,d.Lexer=E,d.lexer=E.lex,d.InlineLexer=n,d.inlineLexer=n.output,d.Slugger=u,d.parse=d,v.exports=d},9709:(v,W,k)=>{const{noopTest:E,edit:O,merge:R}=k(621),y={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:E,table:E,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/};y._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,y._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,y.def=O(y.def).replace("label",y._label).replace("title",y._title).getRegex(),y.bullet=/(?:[*+-]|\d{1,9}\.)/,y.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,y.item=O(y.item,"gm").replace(/bull/g,y.bullet).getRegex(),y.list=O(y.list).replace(/bull/g,y.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+y.def.source+")").getRegex(),y._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y._comment=/<!--(?!-?>)[\s\S]*?-->/,y.html=O(y.html,"i").replace("comment",y._comment).replace("tag",y._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y.paragraph=O(y._paragraph).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex(),y.blockquote=O(y.blockquote).replace("paragraph",y.paragraph).getRegex(),y.normal=R({},y),y.gfm=R({},y.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),y.gfm.nptable=O(y.gfm.nptable).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex(),y.gfm.table=O(y.gfm.table).replace("hr",y.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",y._tag).getRegex(),y.pedantic=R({},y.normal,{html:O(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",y._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:E,paragraph:O(y.normal._paragraph).replace("hr",y.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",y.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const n={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:E,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:E,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};n._punctuation=`!"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~`,n.em=O(n.em).replace(/punctuation/g,n._punctuation).getRegex(),n._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=O(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,n.tag=O(n.tag).replace("comment",y._comment).replace("attribute",n._attribute).getRegex(),n._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,n._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,n._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,n.link=O(n.link).replace("label",n._label).replace("href",n._href).replace("title",n._title).getRegex(),n.reflink=O(n.reflink).replace("label",n._label).getRegex(),n.normal=R({},n),n.pedantic=R({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:O(/^!?\[(label)\]\((.*?)\)/).replace("label",n._label).getRegex(),reflink:O(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",n._label).getRegex()}),n.gfm=R({},n.normal,{escape:O(n.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),n.gfm.url=O(n.gfm.url,"i").replace("email",n.gfm._extended_email).getRegex(),n.breaks=R({},n.gfm,{br:O(n.br).replace("{2,}","*").getRegex(),text:O(n.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),v.exports={block:y,inline:n}},2318:(v,W,k)=>{"use strict";var E=k(5717),O=k(3349),R=k(9509).Buffer,y=new Array(16);function n(){O.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}E(n,O),n.prototype._update=function(){for(var l=y,T=0;T<16;++T)l[T]=this._block.readInt32LE(T*4);var d=this._a,m=this._b,g=this._c,S=this._d;d=a(d,m,g,S,l[0],3614090360,7),S=a(S,d,m,g,l[1],3905402710,12),g=a(g,S,d,m,l[2],606105819,17),m=a(m,g,S,d,l[3],3250441966,22),d=a(d,m,g,S,l[4],4118548399,7),S=a(S,d,m,g,l[5],1200080426,12),g=a(g,S,d,m,l[6],2821735955,17),m=a(m,g,S,d,l[7],4249261313,22),d=a(d,m,g,S,l[8],1770035416,7),S=a(S,d,m,g,l[9],2336552879,12),g=a(g,S,d,m,l[10],4294925233,17),m=a(m,g,S,d,l[11],2304563134,22),d=a(d,m,g,S,l[12],1804603682,7),S=a(S,d,m,g,l[13],4254626195,12),g=a(g,S,d,m,l[14],2792965006,17),m=a(m,g,S,d,l[15],1236535329,22),d=f(d,m,g,S,l[1],4129170786,5),S=f(S,d,m,g,l[6],3225465664,9),g=f(g,S,d,m,l[11],643717713,14),m=f(m,g,S,d,l[0],3921069994,20),d=f(d,m,g,S,l[5],3593408605,5),S=f(S,d,m,g,l[10],38016083,9),g=f(g,S,d,m,l[15],3634488961,14),m=f(m,g,S,d,l[4],3889429448,20),d=f(d,m,g,S,l[9],568446438,5),S=f(S,d,m,g,l[14],3275163606,9),g=f(g,S,d,m,l[3],4107603335,14),m=f(m,g,S,d,l[8],1163531501,20),d=f(d,m,g,S,l[13],2850285829,5),S=f(S,d,m,g,l[2],4243563512,9),g=f(g,S,d,m,l[7],1735328473,14),m=f(m,g,S,d,l[12],2368359562,20),d=b(d,m,g,S,l[5],4294588738,4),S=b(S,d,m,g,l[8],2272392833,11),g=b(g,S,d,m,l[11],1839030562,16),m=b(m,g,S,d,l[14],4259657740,23),d=b(d,m,g,S,l[1],2763975236,4),S=b(S,d,m,g,l[4],1272893353,11),g=b(g,S,d,m,l[7],4139469664,16),m=b(m,g,S,d,l[10],3200236656,23),d=b(d,m,g,S,l[13],681279174,4),S=b(S,d,m,g,l[0],3936430074,11),g=b(g,S,d,m,l[3],3572445317,16),m=b(m,g,S,d,l[6],76029189,23),d=b(d,m,g,S,l[9],3654602809,4),S=b(S,d,m,g,l[12],3873151461,11),g=b(g,S,d,m,l[15],530742520,16),m=b(m,g,S,d,l[2],3299628645,23),d=c(d,m,g,S,l[0],4096336452,6),S=c(S,d,m,g,l[7],1126891415,10),g=c(g,S,d,m,l[14],2878612391,15),m=c(m,g,S,d,l[5],4237533241,21),d=c(d,m,g,S,l[12],1700485571,6),S=c(S,d,m,g,l[3],2399980690,10),g=c(g,S,d,m,l[10],4293915773,15),m=c(m,g,S,d,l[1],2240044497,21),d=c(d,m,g,S,l[8],1873313359,6),S=c(S,d,m,g,l[15],4264355552,10),g=c(g,S,d,m,l[6],2734768916,15),m=c(m,g,S,d,l[13],1309151649,21),d=c(d,m,g,S,l[4],4149444226,6),S=c(S,d,m,g,l[11],3174756917,10),g=c(g,S,d,m,l[2],718787259,15),m=c(m,g,S,d,l[9],3951481745,21),this._a=this._a+d|0,this._b=this._b+m|0,this._c=this._c+g|0,this._d=this._d+S|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var l=R.allocUnsafe(16);return l.writeInt32LE(this._a,0),l.writeInt32LE(this._b,4),l.writeInt32LE(this._c,8),l.writeInt32LE(this._d,12),l};function u(l,T){return l<<T|l>>>32-T}function a(l,T,d,m,g,S,D){return u(l+(T&d|~T&m)+g+S|0,D)+T|0}function f(l,T,d,m,g,S,D){return u(l+(T&m|d&~m)+g+S|0,D)+T|0}function b(l,T,d,m,g,S,D){return u(l+(T^d^m)+g+S|0,D)+T|0}function c(l,T,d,m,g,S,D){return u(l+(d^(T|~m))+g+S|0,D)+T|0}v.exports=n},3047:(v,W,k)=>{var E=k(3550),O=k(9931);function R(y){this.rand=y||new O.Rand}v.exports=R,R.create=function(n){return new R(n)},R.prototype._randbelow=function(n){var u=n.bitLength(),a=Math.ceil(u/8);do var f=new E(this.rand.generate(a));while(f.cmp(n)>=0);return f},R.prototype._randrange=function(n,u){var a=u.sub(n);return n.add(this._randbelow(a))},R.prototype.test=function(n,u,a){var f=n.bitLength(),b=E.mont(n),c=new E(1).toRed(b);u||(u=Math.max(1,f/48|0));for(var l=n.subn(1),T=0;!l.testn(T);T++);for(var d=n.shrn(T),m=l.toRed(b),g=!0;u>0;u--){var S=this._randrange(new E(2),l);a&&a(S);var D=S.toRed(b).redPow(d);if(!(D.cmp(c)===0||D.cmp(m)===0)){for(var w=1;w<T;w++){if(D=D.redSqr(),D.cmp(c)===0)return!1;if(D.cmp(m)===0)break}if(w===T)return!1}}return g},R.prototype.getDivisor=function(n,u){var a=n.bitLength(),f=E.mont(n),b=new E(1).toRed(f);u||(u=Math.max(1,a/48|0));for(var c=n.subn(1),l=0;!c.testn(l);l++);for(var T=n.shrn(l),d=c.toRed(f);u>0;u--){var m=this._randrange(new E(2),c),g=n.gcd(m);if(g.cmpn(1)!==0)return g;var S=m.toRed(f).redPow(T);if(!(S.cmp(b)===0||S.cmp(d)===0)){for(var D=1;D<l;D++){if(S=S.redSqr(),S.cmp(b)===0)return S.fromRed().subn(1).gcd(n);if(S.cmp(d)===0)break}if(D===l)return S=S.redSqr(),S.fromRed().subn(1).gcd(n)}}return!1}},9746:v=>{v.exports=W;function W(k,E){if(!k)throw new Error(E||"Assertion failed")}W.equal=function(E,O,R){if(E!=O)throw new Error(R||"Assertion failed: "+E+" != "+O)}},4504:(v,W)=>{"use strict";var k=W;function E(y,n){if(Array.isArray(y))return y.slice();if(!y)return[];var u=[];if(typeof y!="string"){for(var a=0;a<y.length;a++)u[a]=y[a]|0;return u}if(n==="hex"){y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!=0&&(y="0"+y);for(var a=0;a<y.length;a+=2)u.push(parseInt(y[a]+y[a+1],16))}else for(var a=0;a<y.length;a++){var f=y.charCodeAt(a),b=f>>8,c=f&255;b?u.push(b,c):u.push(c)}return u}k.toArray=E;function O(y){return y.length===1?"0"+y:y}k.zero2=O;function R(y){for(var n="",u=0;u<y.length;u++)n+=O(y[u].toString(16));return n}k.toHex=R,k.encode=function(n,u){return u==="hex"?R(n):n}},447:(v,W,k)=>{var E=k(2479);v.exports=E(O),v.exports.strict=E(R),O.proto=O(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return O(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return R(this)},configurable:!0})});function O(y){var n=function(){return n.called?n.value:(n.called=!0,n.value=y.apply(this,arguments))};return n.called=!1,n}function R(y){var n=function(){if(n.called)throw new Error(n.onceError);return n.called=!0,n.value=y.apply(this,arguments)},u=y.name||"Function wrapped with `once`";return n.onceError=u+" shouldn't be called more than once",n.called=!1,n}},873:v=>{"use strict";v.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},2818:(v,W,k)=>{"use strict";var E=k(9809);W.certificate=k(1934);var O=E.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});W.RSAPrivateKey=O;var R=E.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});W.RSAPublicKey=R;var y=E.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())});W.PublicKey=y;var n=E.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=E.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())});W.PrivateKey=u;var a=E.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});W.EncryptedPrivateKey=a;var f=E.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});W.DSAPrivateKey=f,W.DSAparam=E.define("DSAparam",function(){this.int()});var b=E.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(c),this.key("publicKey").optional().explicit(1).bitstr())});W.ECPrivateKey=b;var c=E.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});W.signature=E.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},1934:(v,W,k)=>{"use strict";var E=k(9809),O=E.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),R=E.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),y=E.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),n=E.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(y),this.key("subjectPublicKey").bitstr())}),u=E.define("RelativeDistinguishedName",function(){this.setof(R)}),a=E.define("RDNSequence",function(){this.seqof(u)}),f=E.define("Name",function(){this.choice({rdnSequence:this.use(a)})}),b=E.define("Validity",function(){this.seq().obj(this.key("notBefore").use(O),this.key("notAfter").use(O))}),c=E.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),l=E.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(y),this.key("issuer").use(f),this.key("validity").use(b),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(c).optional())}),T=E.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(l),this.key("signatureAlgorithm").use(y),this.key("signatureValue").bitstr())});v.exports=T},7631:(v,W,k)=>{var E=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,O=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,y=k(3048),n=k(4696),u=k(9509).Buffer;v.exports=function(a,f){var b=a.toString(),c=b.match(E),l;if(c){var d="aes"+c[1],m=u.from(c[2],"hex"),g=u.from(c[3].replace(/[\r\n]/g,""),"base64"),S=y(f,m.slice(0,8),parseInt(c[1],10)).key,D=[],w=n.createDecipheriv(d,S,m);D.push(w.update(g)),D.push(w.final()),l=u.concat(D)}else{var T=b.match(R);l=u.from(T[2].replace(/[\r\n]/g,""),"base64")}var F=b.match(O)[1];return{tag:F,data:l}}},980:(v,W,k)=>{var E=k(2818),O=k(873),R=k(7631),y=k(4696),n=k(5632),u=k(9509).Buffer;v.exports=a;function a(b){var c;typeof b=="object"&&!u.isBuffer(b)&&(c=b.passphrase,b=b.key),typeof b=="string"&&(b=u.from(b));var l=R(b,c),T=l.tag,d=l.data,m,g;switch(T){case"CERTIFICATE":g=E.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=E.PublicKey.decode(d,"der")),m=g.algorithm.algorithm.join("."),m){case"1.2.840.113549.1.1.1":return E.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=E.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"ENCRYPTED PRIVATE KEY":d=E.EncryptedPrivateKey.decode(d,"der"),d=f(d,c);case"PRIVATE KEY":switch(g=E.PrivateKey.decode(d,"der"),m=g.algorithm.algorithm.join("."),m){case"1.2.840.113549.1.1.1":return E.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:E.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=E.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+m)}case"RSA PUBLIC KEY":return E.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return E.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:E.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return d=E.ECPrivateKey.decode(d,"der"),{curve:d.parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+T)}}a.signature=E.signature;function f(b,c){var l=b.algorithm.decrypt.kde.kdeparams.salt,T=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),d=O[b.algorithm.decrypt.cipher.algo.join(".")],m=b.algorithm.decrypt.cipher.iv,g=b.subjectPrivateKey,S=parseInt(d.split("-")[1],10)/8,D=n.pbkdf2Sync(c,l,T,S,"sha1"),w=y.createDecipheriv(d,D,m),F=[];return F.push(w.update(g)),F.push(w.final()),u.concat(F)}},6470:v=>{"use strict";function W(R){if(typeof R!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(R))}function k(R,y){for(var n="",u=0,a=-1,f=0,b,c=0;c<=R.length;++c){if(c<R.length)b=R.charCodeAt(c);else{if(b===47)break;b=47}if(b===47){if(!(a===c-1||f===1))if(a!==c-1&&f===2){if(n.length<2||u!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",u=0):(n=n.slice(0,l),u=n.length-1-n.lastIndexOf("/")),a=c,f=0;continue}}else if(n.length===2||n.length===1){n="",u=0,a=c,f=0;continue}}y&&(n.length>0?n+="/..":n="..",u=2)}else n.length>0?n+="/"+R.slice(a+1,c):n=R.slice(a+1,c),u=c-a-1;a=c,f=0}else b===46&&f!==-1?++f:f=-1}return n}function E(R,y){var n=y.dir||y.root,u=y.base||(y.name||"")+(y.ext||"");return n?n===y.root?n+u:n+R+u:u}var O={resolve:function(){for(var y="",n=!1,u,a=arguments.length-1;a>=-1&&!n;a--){var f;a>=0?f=arguments[a]:(u===void 0&&(u=process.cwd()),f=u),W(f),f.length!==0&&(y=f+"/"+y,n=f.charCodeAt(0)===47)}return y=k(y,!n),n?y.length>0?"/"+y:"/":y.length>0?y:"."},normalize:function(y){if(W(y),y.length===0)return".";var n=y.charCodeAt(0)===47,u=y.charCodeAt(y.length-1)===47;return y=k(y,!n),y.length===0&&!n&&(y="."),y.length>0&&u&&(y+="/"),n?"/"+y:y},isAbsolute:function(y){return W(y),y.length>0&&y.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var y,n=0;n<arguments.length;++n){var u=arguments[n];W(u),u.length>0&&(y===void 0?y=u:y+="/"+u)}return y===void 0?".":O.normalize(y)},relative:function(y,n){if(W(y),W(n),y===n||(y=O.resolve(y),n=O.resolve(n),y===n))return"";for(var u=1;u<y.length&&y.charCodeAt(u)===47;++u);for(var a=y.length,f=a-u,b=1;b<n.length&&n.charCodeAt(b)===47;++b);for(var c=n.length,l=c-b,T=f<l?f:l,d=-1,m=0;m<=T;++m){if(m===T){if(l>T){if(n.charCodeAt(b+m)===47)return n.slice(b+m+1);if(m===0)return n.slice(b+m)}else f>T&&(y.charCodeAt(u+m)===47?d=m:m===0&&(d=0));break}var g=y.charCodeAt(u+m),S=n.charCodeAt(b+m);if(g!==S)break;g===47&&(d=m)}var D="";for(m=u+d+1;m<=a;++m)(m===a||y.charCodeAt(m)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+n.slice(b+d):(b+=d,n.charCodeAt(b)===47&&++b,n.slice(b))},_makeLong:function(y){return y},dirname:function(y){if(W(y),y.length===0)return".";for(var n=y.charCodeAt(0),u=n===47,a=-1,f=!0,b=y.length-1;b>=1;--b)if(n=y.charCodeAt(b),n===47){if(!f){a=b;break}}else f=!1;return a===-1?u?"/":".":u&&a===1?"//":y.slice(0,a)},basename:function(y,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');W(y);var u=0,a=-1,f=!0,b;if(n!==void 0&&n.length>0&&n.length<=y.length){if(n.length===y.length&&n===y)return"";var c=n.length-1,l=-1;for(b=y.length-1;b>=0;--b){var T=y.charCodeAt(b);if(T===47){if(!f){u=b+1;break}}else l===-1&&(f=!1,l=b+1),c>=0&&(T===n.charCodeAt(c)?--c==-1&&(a=b):(c=-1,a=l))}return u===a?a=l:a===-1&&(a=y.length),y.slice(u,a)}else{for(b=y.length-1;b>=0;--b)if(y.charCodeAt(b)===47){if(!f){u=b+1;break}}else a===-1&&(f=!1,a=b+1);return a===-1?"":y.slice(u,a)}},extname:function(y){W(y);for(var n=-1,u=0,a=-1,f=!0,b=0,c=y.length-1;c>=0;--c){var l=y.charCodeAt(c);if(l===47){if(!f){u=c+1;break}continue}a===-1&&(f=!1,a=c+1),l===46?n===-1?n=c:b!==1&&(b=1):n!==-1&&(b=-1)}return n===-1||a===-1||b===0||b===1&&n===a-1&&n===u+1?"":y.slice(n,a)},format:function(y){if(y===null||typeof y!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof y);return E("/",y)},parse:function(y){W(y);var n={root:"",dir:"",base:"",ext:"",name:""};if(y.length===0)return n;var u=y.charCodeAt(0),a=u===47,f;a?(n.root="/",f=1):f=0;for(var b=-1,c=0,l=-1,T=!0,d=y.length-1,m=0;d>=f;--d){if(u=y.charCodeAt(d),u===47){if(!T){c=d+1;break}continue}l===-1&&(T=!1,l=d+1),u===46?b===-1?b=d:m!==1&&(m=1):b!==-1&&(m=-1)}return b===-1||l===-1||m===0||m===1&&b===l-1&&b===c+1?l!==-1&&(c===0&&a?n.base=n.name=y.slice(1,l):n.base=n.name=y.slice(c,l)):(c===0&&a?(n.name=y.slice(1,b),n.base=y.slice(1,l)):(n.name=y.slice(c,b),n.base=y.slice(c,l)),n.ext=y.slice(b,l)),c>0?n.dir=y.slice(0,c-1):a&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};O.posix=O,v.exports=O},5632:(v,W,k)=>{W.pbkdf2=k(8638),W.pbkdf2Sync=k(1257)},8638:(v,W,k)=>{var E=k(9509).Buffer,O=k(7357),R=k(2368),y=k(1257),n=k(7777),u,a=k.g.crypto&&k.g.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function c(g){if(k.g.process&&!k.g.process.browser||!a||!a.importKey||!a.deriveBits)return Promise.resolve(!1);if(b[g]!==void 0)return b[g];u=u||E.alloc(8);var S=d(u,u,10,128,g).then(function(){return!0}).catch(function(){return!1});return b[g]=S,S}var l;function T(){return l||(k.g.process&&k.g.process.nextTick?l=k.g.process.nextTick:k.g.queueMicrotask?l=k.g.queueMicrotask:k.g.setImmediate?l=k.g.setImmediate:l=k.g.setTimeout,l)}function d(g,S,D,w,F){return a.importKey("raw",g,{name:"PBKDF2"},!1,["deriveBits"]).then(function(H){return a.deriveBits({name:"PBKDF2",salt:S,iterations:D,hash:{name:F}},H,w<<3)}).then(function(H){return E.from(H)})}function m(g,S){g.then(function(D){T()(function(){S(null,D)})},function(D){T()(function(){S(D)})})}v.exports=function(g,S,D,w,F,H){typeof F=="function"&&(H=F,F=void 0),F=F||"sha1";var Q=f[F.toLowerCase()];if(!Q||typeof k.g.Promise!="function"){T()(function(){var ee;try{ee=y(g,S,D,w,F)}catch(te){return H(te)}H(null,ee)});return}if(O(D,w),g=n(g,R,"Password"),S=n(S,R,"Salt"),typeof H!="function")throw new Error("No callback provided to pbkdf2");m(c(Q).then(function(ee){return ee?d(g,S,D,w,Q):y(g,S,D,w,F)}),H)}},2368:(v,W,k)=>{var E;if(k.g.process&&k.g.process.browser)E="utf-8";else if(k.g.process&&k.g.process.version){var O=parseInt(process.version.split(".")[0].slice(1),10);E=O>=6?"utf-8":"binary"}else E="utf-8";v.exports=E},7357:v=>{var W=Math.pow(2,30)-1;v.exports=function(k,E){if(typeof k!="number")throw new TypeError("Iterations not a number");if(k<0)throw new TypeError("Bad iterations");if(typeof E!="number")throw new TypeError("Key length not a number");if(E<0||E>W||E!==E)throw new TypeError("Bad key length")}},1257:(v,W,k)=>{var E=k(8028),O=k(9785),R=k(9072),y=k(9509).Buffer,n=k(7357),u=k(2368),a=k(7777),f=y.alloc(128),b={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function c(d,m,g){var S=l(d),D=d==="sha512"||d==="sha384"?128:64;m.length>D?m=S(m):m.length<D&&(m=y.concat([m,f],D));for(var w=y.allocUnsafe(D+b[d]),F=y.allocUnsafe(D+b[d]),H=0;H<D;H++)w[H]=m[H]^54,F[H]=m[H]^92;var Q=y.allocUnsafe(D+g+4);w.copy(Q,0,0,D),this.ipad1=Q,this.ipad2=w,this.opad=F,this.alg=d,this.blocksize=D,this.hash=S,this.size=b[d]}c.prototype.run=function(d,m){d.copy(m,this.blocksize);var g=this.hash(m);return g.copy(this.opad,this.blocksize),this.hash(this.opad)};function l(d){function m(S){return R(d).update(S).digest()}function g(S){return new O().update(S).digest()}return d==="rmd160"||d==="ripemd160"?g:d==="md5"?E:m}function T(d,m,g,S,D){n(g,S),d=a(d,u,"Password"),m=a(m,u,"Salt"),D=D||"sha1";var w=new c(D,d,m.length),F=y.allocUnsafe(S),H=y.allocUnsafe(m.length+4);m.copy(H,0,0,m.length);for(var Q=0,ee=b[D],te=Math.ceil(S/ee),ie=1;ie<=te;ie++){H.writeUInt32BE(ie,m.length);for(var se=w.run(H,w.ipad1),le=se,z=1;z<g;z++){le=w.run(le,w.ipad2);for(var A=0;A<ee;A++)se[A]^=le[A]}se.copy(F,Q),Q+=ee}return F}v.exports=T},7777:(v,W,k)=>{var E=k(9509).Buffer;v.exports=function(O,R,y){if(E.isBuffer(O))return O;if(typeof O=="string")return E.from(O,R);if(ArrayBuffer.isView(O))return E.from(O.buffer);throw new TypeError(y+" must be a string, a Buffer, a typed array or a DataView")}},7900:(v,W,k)=>{W.publicEncrypt=k(6559),W.privateDecrypt=k(6138),W.privateEncrypt=function(O,R){return W.publicEncrypt(O,R,!0)},W.publicDecrypt=function(O,R){return W.privateDecrypt(O,R,!0)}},9199:(v,W,k)=>{var E=k(3482),O=k(9509).Buffer;v.exports=function(y,n){for(var u=O.alloc(0),a=0,f;u.length<n;)f=R(a++),u=O.concat([u,E("sha1").update(y).update(f).digest()]);return u.slice(0,n)};function R(y){var n=O.allocUnsafe(4);return n.writeUInt32BE(y,0),n}},6138:(v,W,k)=>{var E=k(980),O=k(9199),R=k(7859),y=k(3550),n=k(3663),u=k(3482),a=k(4818),f=k(9509).Buffer;v.exports=function(d,m,g){var S;d.padding?S=d.padding:g?S=1:S=4;var D=E(d),w=D.modulus.byteLength();if(m.length>w||new y(m).cmp(D.modulus)>=0)throw new Error("decryption error");var F;g?F=a(new y(m),D):F=n(m,D);var H=f.alloc(w-F.length);if(F=f.concat([H,F],w),S===4)return b(D,F);if(S===1)return c(D,F,g);if(S===3)return F;throw new Error("unknown padding")};function b(T,d){var m=T.modulus.byteLength(),g=u("sha1").update(f.alloc(0)).digest(),S=g.length;if(d[0]!==0)throw new Error("decryption error");var D=d.slice(1,S+1),w=d.slice(S+1),F=R(D,O(w,S)),H=R(w,O(F,m-S-1));if(l(g,H.slice(0,S)))throw new Error("decryption error");for(var Q=S;H[Q]===0;)Q++;if(H[Q++]!==1)throw new Error("decryption error");return H.slice(Q)}function c(T,d,m){for(var g=d.slice(0,2),S=2,D=0;d[S++]!==0;)if(S>=d.length){D++;break}var w=d.slice(2,S-1);if((g.toString("hex")!=="0002"&&!m||g.toString("hex")!=="0001"&&m)&&D++,w.length<8&&D++,D)throw new Error("decryption error");return d.slice(S)}function l(T,d){T=f.from(T),d=f.from(d);var m=0,g=T.length;T.length!==d.length&&(m++,g=Math.min(T.length,d.length));for(var S=-1;++S<g;)m+=T[S]^d[S];return m}},6559:(v,W,k)=>{var E=k(980),O=k(1798),R=k(3482),y=k(9199),n=k(7859),u=k(3550),a=k(4818),f=k(3663),b=k(9509).Buffer;v.exports=function(m,g,S){var D;m.padding?D=m.padding:S?D=1:D=4;var w=E(m),F;if(D===4)F=c(w,g);else if(D===1)F=l(w,g,S);else if(D===3){if(F=new u(g),F.cmp(w.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return S?f(F,w):a(F,w)};function c(d,m){var g=d.modulus.byteLength(),S=m.length,D=R("sha1").update(b.alloc(0)).digest(),w=D.length,F=2*w;if(S>g-F-2)throw new Error("message too long");var H=b.alloc(g-S-F-2),Q=g-w-1,ee=O(w),te=n(b.concat([D,H,b.alloc(1,1),m],Q),y(ee,Q)),ie=n(ee,y(te,w));return new u(b.concat([b.alloc(1),ie,te],g))}function l(d,m,g){var S=m.length,D=d.modulus.byteLength();if(S>D-11)throw new Error("message too long");var w;return g?w=b.alloc(D-S-3,255):w=T(D-S-3),new u(b.concat([b.from([0,g?1:2]),w,b.alloc(1),m],D))}function T(d){for(var m=b.allocUnsafe(d),g=0,S=O(d*2),D=0,w;g<d;)D===S.length&&(S=O(d*2),D=0),w=S[D++],w&&(m[g++]=w);return m}},4818:(v,W,k)=>{var E=k(3550),O=k(9509).Buffer;function R(y,n){return O.from(y.toRed(E.mont(n.modulus)).redPow(new E(n.publicExponent)).fromRed().toArray())}v.exports=R},7859:v=>{v.exports=function(k,E){for(var O=k.length,R=-1;++R<O;)k[R]^=E[R];return k}},1798:(v,W,k)=>{"use strict";var E=65536,O=4294967295;function R(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var y=k(9509).Buffer,n=k.g.crypto||k.g.msCrypto;n&&n.getRandomValues?v.exports=u:v.exports=R;function u(a,f){if(a>O)throw new RangeError("requested too many random bytes");var b=y.allocUnsafe(a);if(a>0)if(a>E)for(var c=0;c<a;c+=E)n.getRandomValues(b.slice(c,c+E));else n.getRandomValues(b);return typeof f=="function"?process.nextTick(function(){f(null,b)}):b}},7963:(v,W,k)=>{"use strict";function E(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var O=k(9509),R=k(1798),y=O.Buffer,n=O.kMaxLength,u=k.g.crypto||k.g.msCrypto,a=Math.pow(2,32)-1;function f(d,m){if(typeof d!="number"||d!==d)throw new TypeError("offset must be a number");if(d>a||d<0)throw new TypeError("offset must be a uint32");if(d>n||d>m)throw new RangeError("offset out of range")}function b(d,m,g){if(typeof d!="number"||d!==d)throw new TypeError("size must be a number");if(d>a||d<0)throw new TypeError("size must be a uint32");if(d+m>g||d>n)throw new RangeError("buffer too small")}u&&u.getRandomValues||!process.browser?(W.randomFill=c,W.randomFillSync=T):(W.randomFill=E,W.randomFillSync=E);function c(d,m,g,S){if(!y.isBuffer(d)&&!(d instanceof k.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")S=m,m=0,g=d.length;else if(typeof g=="function")S=g,g=d.length-m;else if(typeof S!="function")throw new TypeError('"cb" argument must be a function');return f(m,d.length),b(g,m,d.length),l(d,m,g,S)}function l(d,m,g,S){if(process.browser){var D=d.buffer,w=new Uint8Array(D,m,g);if(u.getRandomValues(w),S){process.nextTick(function(){S(null,d)});return}return d}if(S){R(g,function(H,Q){if(H)return S(H);Q.copy(d,m),S(null,d)});return}var F=R(g);return F.copy(d,m),d}function T(d,m,g){if(typeof m=="undefined"&&(m=0),!y.isBuffer(d)&&!(d instanceof k.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(m,d.length),g===void 0&&(g=d.length-m),b(g,m,d.length),l(d,m,g)}},9785:(v,W,k)=>{"use strict";var E=k(8764).Buffer,O=k(5717),R=k(3349),y=new Array(16),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],b=[0,1518500249,1859775393,2400959708,2840853838],c=[1352829926,1548603684,1836072691,2053994217,0];function l(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}O(l,R),l.prototype._update=function(){for(var w=y,F=0;F<16;++F)w[F]=this._block.readInt32LE(F*4);for(var H=this._a|0,Q=this._b|0,ee=this._c|0,te=this._d|0,ie=this._e|0,se=this._a|0,le=this._b|0,z=this._c|0,A=this._d|0,U=this._e|0,M=0;M<80;M+=1){var s,h;M<16?(s=d(H,Q,ee,te,ie,w[n[M]],b[0],a[M]),h=D(se,le,z,A,U,w[u[M]],c[0],f[M])):M<32?(s=m(H,Q,ee,te,ie,w[n[M]],b[1],a[M]),h=S(se,le,z,A,U,w[u[M]],c[1],f[M])):M<48?(s=g(H,Q,ee,te,ie,w[n[M]],b[2],a[M]),h=g(se,le,z,A,U,w[u[M]],c[2],f[M])):M<64?(s=S(H,Q,ee,te,ie,w[n[M]],b[3],a[M]),h=m(se,le,z,A,U,w[u[M]],c[3],f[M])):(s=D(H,Q,ee,te,ie,w[n[M]],b[4],a[M]),h=d(se,le,z,A,U,w[u[M]],c[4],f[M])),H=ie,ie=te,te=T(ee,10),ee=Q,Q=s,se=U,U=A,A=T(z,10),z=le,le=h}var x=this._b+ee+A|0;this._b=this._c+te+U|0,this._c=this._d+ie+se|0,this._d=this._e+H+le|0,this._e=this._a+Q+z|0,this._a=x},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var w=E.alloc?E.alloc(20):new E(20);return w.writeInt32LE(this._a,0),w.writeInt32LE(this._b,4),w.writeInt32LE(this._c,8),w.writeInt32LE(this._d,12),w.writeInt32LE(this._e,16),w};function T(w,F){return w<<F|w>>>32-F}function d(w,F,H,Q,ee,te,ie,se){return T(w+(F^H^Q)+te+ie|0,se)+ee|0}function m(w,F,H,Q,ee,te,ie,se){return T(w+(F&H|~F&Q)+te+ie|0,se)+ee|0}function g(w,F,H,Q,ee,te,ie,se){return T(w+((F|~H)^Q)+te+ie|0,se)+ee|0}function S(w,F,H,Q,ee,te,ie,se){return T(w+(F&Q|H&~Q)+te+ie|0,se)+ee|0}function D(w,F,H,Q,ee,te,ie,se){return T(w+(F^(H|~Q))+te+ie|0,se)+ee|0}v.exports=l},9509:(v,W,k)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var E=k(8764),O=E.Buffer;function R(n,u){for(var a in n)u[a]=n[a]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?v.exports=E:(R(E,W),W.Buffer=y);function y(n,u,a){return O(n,u,a)}y.prototype=Object.create(O.prototype),R(O,y),y.from=function(n,u,a){if(typeof n=="number")throw new TypeError("Argument must not be a number");return O(n,u,a)},y.alloc=function(n,u,a){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=O(n);return u!==void 0?typeof a=="string"?f.fill(u,a):f.fill(u):f.fill(0),f},y.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return O(n)},y.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(n)}},2399:(v,W,k)=>{"use strict";var E=k(8764),O=E.Buffer,R={},y;for(y in E)!E.hasOwnProperty(y)||y==="SlowBuffer"||y==="Buffer"||(R[y]=E[y]);var n=R.Buffer={};for(y in O)!O.hasOwnProperty(y)||y==="allocUnsafe"||y==="allocUnsafeSlow"||(n[y]=O[y]);if(R.Buffer.prototype=O.prototype,(!n.from||n.from===Uint8Array.from)&&(n.from=function(u,a,f){if(typeof u=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof u);if(u&&typeof u.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof u);return O(u,a,f)}),n.alloc||(n.alloc=function(u,a,f){if(typeof u!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof u);if(u<0||u>=2*(1<<30))throw new RangeError('The value "'+u+'" is invalid for option "size"');var b=O(u);return!a||a.length===0?b.fill(0):typeof f=="string"?b.fill(a,f):b.fill(a),b}),!R.kStringMaxLength)try{R.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(u){}R.constants||(R.constants={MAX_LENGTH:R.kMaxLength},R.kStringMaxLength&&(R.constants.MAX_STRING_LENGTH=R.kStringMaxLength)),v.exports=R},4189:(v,W,k)=>{var E=k(9509).Buffer;function O(R,y){this._block=E.alloc(R),this._finalSize=y,this._blockSize=R,this._len=0}O.prototype.update=function(R,y){typeof R=="string"&&(y=y||"utf8",R=E.from(R,y));for(var n=this._block,u=this._blockSize,a=R.length,f=this._len,b=0;b<a;){for(var c=f%u,l=Math.min(a-b,u-c),T=0;T<l;T++)n[c+T]=R[b+T];f+=l,b+=l,f%u==0&&this._update(n)}return this._len+=a,this},O.prototype.digest=function(R){var y=this._len%this._blockSize;this._block[y]=128,this._block.fill(0,y+1),y>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var u=(n&4294967295)>>>0,a=(n-u)/4294967296;this._block.writeUInt32BE(a,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return R?f.toString(R):f},O.prototype._update=function(){throw new Error("_update must be implemented by subclass")},v.exports=O},9072:(v,W,k)=>{var E=v.exports=function(R){R=R.toLowerCase();var y=E[R];if(!y)throw new Error(R+" is not supported (we accept pull requests)");return new y};E.sha=k(4448),E.sha1=k(8336),E.sha224=k(8432),E.sha256=k(7499),E.sha384=k(1686),E.sha512=k(7816)},4448:(v,W,k)=>{var E=k(5717),O=k(4189),R=k(9509).Buffer,y=[1518500249,1859775393,2400959708|0,3395469782|0],n=new Array(80);function u(){this.init(),this._w=n,O.call(this,64,56)}E(u,O),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a(c){return c<<5|c>>>27}function f(c){return c<<30|c>>>2}function b(c,l,T,d){return c===0?l&T|~l&d:c===2?l&T|l&d|T&d:l^T^d}u.prototype._update=function(c){for(var l=this._w,T=this._a|0,d=this._b|0,m=this._c|0,g=this._d|0,S=this._e|0,D=0;D<16;++D)l[D]=c.readInt32BE(D*4);for(;D<80;++D)l[D]=l[D-3]^l[D-8]^l[D-14]^l[D-16];for(var w=0;w<80;++w){var F=~~(w/20),H=a(T)+b(F,d,m,g)+S+l[w]+y[F]|0;S=g,g=m,m=f(d),d=T,T=H}this._a=T+this._a|0,this._b=d+this._b|0,this._c=m+this._c|0,this._d=g+this._d|0,this._e=S+this._e|0},u.prototype._hash=function(){var c=R.allocUnsafe(20);return c.writeInt32BE(this._a|0,0),c.writeInt32BE(this._b|0,4),c.writeInt32BE(this._c|0,8),c.writeInt32BE(this._d|0,12),c.writeInt32BE(this._e|0,16),c},v.exports=u},8336:(v,W,k)=>{var E=k(5717),O=k(4189),R=k(9509).Buffer,y=[1518500249,1859775393,2400959708|0,3395469782|0],n=new Array(80);function u(){this.init(),this._w=n,O.call(this,64,56)}E(u,O),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function a(l){return l<<1|l>>>31}function f(l){return l<<5|l>>>27}function b(l){return l<<30|l>>>2}function c(l,T,d,m){return l===0?T&d|~T&m:l===2?T&d|T&m|d&m:T^d^m}u.prototype._update=function(l){for(var T=this._w,d=this._a|0,m=this._b|0,g=this._c|0,S=this._d|0,D=this._e|0,w=0;w<16;++w)T[w]=l.readInt32BE(w*4);for(;w<80;++w)T[w]=a(T[w-3]^T[w-8]^T[w-14]^T[w-16]);for(var F=0;F<80;++F){var H=~~(F/20),Q=f(d)+c(H,m,g,S)+D+T[F]+y[H]|0;D=S,S=g,g=b(m),m=d,d=Q}this._a=d+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=S+this._d|0,this._e=D+this._e|0},u.prototype._hash=function(){var l=R.allocUnsafe(20);return l.writeInt32BE(this._a|0,0),l.writeInt32BE(this._b|0,4),l.writeInt32BE(this._c|0,8),l.writeInt32BE(this._d|0,12),l.writeInt32BE(this._e|0,16),l},v.exports=u},8432:(v,W,k)=>{var E=k(5717),O=k(7499),R=k(4189),y=k(9509).Buffer,n=new Array(64);function u(){this.init(),this._w=n,R.call(this,64,56)}E(u,O),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var a=y.allocUnsafe(28);return a.writeInt32BE(this._a,0),a.writeInt32BE(this._b,4),a.writeInt32BE(this._c,8),a.writeInt32BE(this._d,12),a.writeInt32BE(this._e,16),a.writeInt32BE(this._f,20),a.writeInt32BE(this._g,24),a},v.exports=u},7499:(v,W,k)=>{var E=k(5717),O=k(4189),R=k(9509).Buffer,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=new Array(64);function u(){this.init(),this._w=n,O.call(this,64,56)}E(u,O),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function a(d,m,g){return g^d&(m^g)}function f(d,m,g){return d&m|g&(d|m)}function b(d){return(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10)}function c(d){return(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7)}function l(d){return(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3}function T(d){return(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10}u.prototype._update=function(d){for(var m=this._w,g=this._a|0,S=this._b|0,D=this._c|0,w=this._d|0,F=this._e|0,H=this._f|0,Q=this._g|0,ee=this._h|0,te=0;te<16;++te)m[te]=d.readInt32BE(te*4);for(;te<64;++te)m[te]=T(m[te-2])+m[te-7]+l(m[te-15])+m[te-16]|0;for(var ie=0;ie<64;++ie){var se=ee+c(F)+a(F,H,Q)+y[ie]+m[ie]|0,le=b(g)+f(g,S,D)|0;ee=Q,Q=H,H=F,F=w+se|0,w=D,D=S,S=g,g=se+le|0}this._a=g+this._a|0,this._b=S+this._b|0,this._c=D+this._c|0,this._d=w+this._d|0,this._e=F+this._e|0,this._f=H+this._f|0,this._g=Q+this._g|0,this._h=ee+this._h|0},u.prototype._hash=function(){var d=R.allocUnsafe(32);return d.writeInt32BE(this._a,0),d.writeInt32BE(this._b,4),d.writeInt32BE(this._c,8),d.writeInt32BE(this._d,12),d.writeInt32BE(this._e,16),d.writeInt32BE(this._f,20),d.writeInt32BE(this._g,24),d.writeInt32BE(this._h,28),d},v.exports=u},1686:(v,W,k)=>{var E=k(5717),O=k(7816),R=k(4189),y=k(9509).Buffer,n=new Array(160);function u(){this.init(),this._w=n,R.call(this,128,112)}E(u,O),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var a=y.allocUnsafe(48);function f(b,c,l){a.writeInt32BE(b,l),a.writeInt32BE(c,l+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),a},v.exports=u},7816:(v,W,k)=>{var E=k(5717),O=k(4189),R=k(9509).Buffer,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],n=new Array(160);function u(){this.init(),this._w=n,O.call(this,128,112)}E(u,O),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function a(S,D,w){return w^S&(D^w)}function f(S,D,w){return S&D|w&(S|D)}function b(S,D){return(S>>>28|D<<4)^(D>>>2|S<<30)^(D>>>7|S<<25)}function c(S,D){return(S>>>14|D<<18)^(S>>>18|D<<14)^(D>>>9|S<<23)}function l(S,D){return(S>>>1|D<<31)^(S>>>8|D<<24)^S>>>7}function T(S,D){return(S>>>1|D<<31)^(S>>>8|D<<24)^(S>>>7|D<<25)}function d(S,D){return(S>>>19|D<<13)^(D>>>29|S<<3)^S>>>6}function m(S,D){return(S>>>19|D<<13)^(D>>>29|S<<3)^(S>>>6|D<<26)}function g(S,D){return S>>>0<D>>>0?1:0}u.prototype._update=function(S){for(var D=this._w,w=this._ah|0,F=this._bh|0,H=this._ch|0,Q=this._dh|0,ee=this._eh|0,te=this._fh|0,ie=this._gh|0,se=this._hh|0,le=this._al|0,z=this._bl|0,A=this._cl|0,U=this._dl|0,M=this._el|0,s=this._fl|0,h=this._gl|0,x=this._hl|0,P=0;P<32;P+=2)D[P]=S.readInt32BE(P*4),D[P+1]=S.readInt32BE(P*4+4);for(;P<160;P+=2){var I=D[P-15*2],C=D[P-15*2+1],G=l(I,C),V=T(C,I);I=D[P-2*2],C=D[P-2*2+1];var _=d(I,C),Y=m(C,I),pe=D[P-7*2],ye=D[P-7*2+1],_e=D[P-16*2],X=D[P-16*2+1],J=V+ye|0,oe=G+pe+g(J,V)|0;J=J+Y|0,oe=oe+_+g(J,Y)|0,J=J+X|0,oe=oe+_e+g(J,X)|0,D[P]=oe,D[P+1]=J}for(var be=0;be<160;be+=2){oe=D[be],J=D[be+1];var me=f(w,F,H),B=f(le,z,A),q=b(w,le),ae=b(le,w),fe=c(ee,M),Ae=c(M,ee),ve=y[be],Se=y[be+1],nt=a(ee,te,ie),Ne=a(M,s,h),xe=x+Ae|0,ft=se+fe+g(xe,x)|0;xe=xe+Ne|0,ft=ft+nt+g(xe,Ne)|0,xe=xe+Se|0,ft=ft+ve+g(xe,Se)|0,xe=xe+J|0,ft=ft+oe+g(xe,J)|0;var Be=ae+B|0,Ie=q+me+g(Be,ae)|0;se=ie,x=h,ie=te,h=s,te=ee,s=M,M=U+xe|0,ee=Q+ft+g(M,U)|0,Q=H,U=A,H=F,A=z,F=w,z=le,le=xe+Be|0,w=ft+Ie+g(le,xe)|0}this._al=this._al+le|0,this._bl=this._bl+z|0,this._cl=this._cl+A|0,this._dl=this._dl+U|0,this._el=this._el+M|0,this._fl=this._fl+s|0,this._gl=this._gl+h|0,this._hl=this._hl+x|0,this._ah=this._ah+w+g(this._al,le)|0,this._bh=this._bh+F+g(this._bl,z)|0,this._ch=this._ch+H+g(this._cl,A)|0,this._dh=this._dh+Q+g(this._dl,U)|0,this._eh=this._eh+ee+g(this._el,M)|0,this._fh=this._fh+te+g(this._fl,s)|0,this._gh=this._gh+ie+g(this._gl,h)|0,this._hh=this._hh+se+g(this._hl,x)|0},u.prototype._hash=function(){var S=R.allocUnsafe(64);function D(w,F,H){S.writeInt32BE(w,H),S.writeInt32BE(F,H+4)}return D(this._ah,this._al,0),D(this._bh,this._bl,8),D(this._ch,this._cl,16),D(this._dh,this._dl,24),D(this._eh,this._el,32),D(this._fh,this._fl,40),D(this._gh,this._gl,48),D(this._hh,this._hl,56),S},v.exports=u},2830:(v,W,k)=>{v.exports=R;var E=k(7187).EventEmitter,O=k(5717);O(R,E),R.Readable=k(6577),R.Writable=k(323),R.Duplex=k(8656),R.Transform=k(4473),R.PassThrough=k(2366),R.finished=k(1086),R.pipeline=k(6472),R.Stream=R;function R(){E.call(this)}R.prototype.pipe=function(y,n){var u=this;function a(m){y.writable&&y.write(m)===!1&&u.pause&&u.pause()}u.on("data",a);function f(){u.readable&&u.resume&&u.resume()}y.on("drain",f),!y._isStdio&&(!n||n.end!==!1)&&(u.on("end",c),u.on("close",l));var b=!1;function c(){b||(b=!0,y.end())}function l(){b||(b=!0,typeof y.destroy=="function"&&y.destroy())}function T(m){if(d(),E.listenerCount(this,"error")===0)throw m}u.on("error",T),y.on("error",T);function d(){u.removeListener("data",a),y.removeListener("drain",f),u.removeListener("end",c),u.removeListener("close",l),u.removeListener("error",T),y.removeListener("error",T),u.removeListener("end",d),u.removeListener("close",d),y.removeListener("close",d)}return u.on("end",d),u.on("close",d),y.on("close",d),y.emit("pipe",u),y}},8106:v=>{"use strict";function W(u,a){u.prototype=Object.create(a.prototype),u.prototype.constructor=u,u.__proto__=a}var k={};function E(u,a,f){f||(f=Error);function b(l,T,d){return typeof a=="string"?a:a(l,T,d)}var c=function(l){W(T,l);function T(d,m,g){return l.call(this,b(d,m,g))||this}return T}(f);c.prototype.name=f.name,c.prototype.code=u,k[u]=c}function O(u,a){if(Array.isArray(u)){var f=u.length;return u=u.map(function(b){return String(b)}),f>2?"one of ".concat(a," ").concat(u.slice(0,f-1).join(", "),", or ")+u[f-1]:f===2?"one of ".concat(a," ").concat(u[0]," or ").concat(u[1]):"of ".concat(a," ").concat(u[0])}else return"of ".concat(a," ").concat(String(u))}function R(u,a,f){return u.substr(!f||f<0?0:+f,a.length)===a}function y(u,a,f){return(f===void 0||f>u.length)&&(f=u.length),u.substring(f-a.length,f)===a}function n(u,a,f){return typeof f!="number"&&(f=0),f+a.length>u.length?!1:u.indexOf(a,f)!==-1}E("ERR_INVALID_OPT_VALUE",function(u,a){return'The value "'+a+'" is invalid for option "'+u+'"'},TypeError),E("ERR_INVALID_ARG_TYPE",function(u,a,f){var b;typeof a=="string"&&R(a,"not ")?(b="must not be",a=a.replace(/^not /,"")):b="must be";var c;if(y(u," argument"))c="The ".concat(u," ").concat(b," ").concat(O(a,"type"));else{var l=n(u,".")?"property":"argument";c='The "'.concat(u,'" ').concat(l," ").concat(b," ").concat(O(a,"type"))}return c+=". Received type ".concat(typeof f),c},TypeError),E("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),E("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),E("ERR_STREAM_PREMATURE_CLOSE","Premature close"),E("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),E("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),E("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),E("ERR_STREAM_WRITE_AFTER_END","write after end"),E("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),E("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),E("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),v.exports.q=k},8656:(v,W,k)=>{"use strict";var E=Object.keys||function(c){var l=[];for(var T in c)l.push(T);return l};v.exports=a;var O=k(6577),R=k(323);k(5717)(a,O);for(var y=E(R.prototype),n=0;n<y.length;n++){var u=y[n];a.prototype[u]||(a.prototype[u]=R.prototype[u])}function a(c){if(!(this instanceof a))return new a(c);O.call(this,c),R.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",f)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function f(){this._writableState.ended||process.nextTick(b,this)}function b(c){c.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=l,this._writableState.destroyed=l)}})},2366:(v,W,k)=>{"use strict";v.exports=O;var E=k(4473);k(5717)(O,E);function O(R){if(!(this instanceof O))return new O(R);E.call(this,R)}O.prototype._transform=function(R,y,n){n(null,R)}},6577:(v,W,k)=>{"use strict";v.exports=z;var E;z.ReadableState=le;var O=k(7187).EventEmitter,R=function(q,ae){return q.listeners(ae).length},y=k(3194),n=k(8764).Buffer,u=k.g.Uint8Array||function(){};function a(B){return n.from(B)}function f(B){return n.isBuffer(B)||B instanceof u}var b=k(964),c;b&&b.debuglog?c=b.debuglog("stream"):c=function(){};var l=k(9686),T=k(1029),d=k(94),m=d.getHighWaterMark,g=k(8106).q,S=g.ERR_INVALID_ARG_TYPE,D=g.ERR_STREAM_PUSH_AFTER_EOF,w=g.ERR_METHOD_NOT_IMPLEMENTED,F=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,H,Q,ee;k(5717)(z,y);var te=T.errorOrDestroy,ie=["error","close","destroy","pause","resume"];function se(B,q,ae){if(typeof B.prependListener=="function")return B.prependListener(q,ae);!B._events||!B._events[q]?B.on(q,ae):Array.isArray(B._events[q])?B._events[q].unshift(ae):B._events[q]=[ae,B._events[q]]}function le(B,q,ae){E=E||k(8656),B=B||{},typeof ae!="boolean"&&(ae=q instanceof E),this.objectMode=!!B.objectMode,ae&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=m(this,B,"readableHighWaterMark",ae),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(H||(H=k(4729).s),this.decoder=new H(B.encoding),this.encoding=B.encoding)}function z(B){if(E=E||k(8656),!(this instanceof z))return new z(B);var q=this instanceof E;this._readableState=new le(B,this,q),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),y.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){!this._readableState||(this._readableState.destroyed=q)}}),z.prototype.destroy=T.destroy,z.prototype._undestroy=T.undestroy,z.prototype._destroy=function(B,q){q(B)},z.prototype.push=function(B,q){var ae=this._readableState,fe;return ae.objectMode?fe=!0:typeof B=="string"&&(q=q||ae.defaultEncoding,q!==ae.encoding&&(B=n.from(B,q),q=""),fe=!0),A(this,B,q,!1,fe)},z.prototype.unshift=function(B){return A(this,B,null,!0,!1)};function A(B,q,ae,fe,Ae){c("readableAddChunk",q);var ve=B._readableState;if(q===null)ve.reading=!1,P(B,ve);else{var Se;if(Ae||(Se=M(ve,q)),Se)te(B,Se);else if(ve.objectMode||q&&q.length>0)if(typeof q!="string"&&!ve.objectMode&&Object.getPrototypeOf(q)!==n.prototype&&(q=a(q)),fe)ve.endEmitted?te(B,new F):U(B,ve,q,!0);else if(ve.ended)te(B,new D);else{if(ve.destroyed)return!1;ve.reading=!1,ve.decoder&&!ae?(q=ve.decoder.write(q),ve.objectMode||q.length!==0?U(B,ve,q,!1):G(B,ve)):U(B,ve,q,!1)}else fe||(ve.reading=!1,G(B,ve))}return!ve.ended&&(ve.length<ve.highWaterMark||ve.length===0)}function U(B,q,ae,fe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,B.emit("data",ae)):(q.length+=q.objectMode?1:ae.length,fe?q.buffer.unshift(ae):q.buffer.push(ae),q.needReadable&&I(B)),G(B,q)}function M(B,q){var ae;return!f(q)&&typeof q!="string"&&q!==void 0&&!B.objectMode&&(ae=new S("chunk",["string","Buffer","Uint8Array"],q)),ae}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(B){H||(H=k(4729).s);var q=new H(B);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var ae=this._readableState.buffer.head,fe="";ae!==null;)fe+=q.write(ae.data),ae=ae.next;return this._readableState.buffer.clear(),fe!==""&&this._readableState.buffer.push(fe),this._readableState.length=fe.length,this};var s=1073741824;function h(B){return B>=s?B=s:(B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++),B}function x(B,q){return B<=0||q.length===0&&q.ended?0:q.objectMode?1:B!==B?q.flowing&&q.length?q.buffer.head.data.length:q.length:(B>q.highWaterMark&&(q.highWaterMark=h(B)),B<=q.length?B:q.ended?q.length:(q.needReadable=!0,0))}z.prototype.read=function(B){c("read",B),B=parseInt(B,10);var q=this._readableState,ae=B;if(B!==0&&(q.emittedReadable=!1),B===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return c("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?oe(this):I(this),null;if(B=x(B,q),B===0&&q.ended)return q.length===0&&oe(this),null;var fe=q.needReadable;c("need readable",fe),(q.length===0||q.length-B<q.highWaterMark)&&(fe=!0,c("length less than watermark",fe)),q.ended||q.reading?(fe=!1,c("reading or ended",fe)):fe&&(c("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(B=x(ae,q)));var Ae;return B>0?Ae=J(B,q):Ae=null,Ae===null?(q.needReadable=q.length<=q.highWaterMark,B=0):(q.length-=B,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),ae!==B&&q.ended&&oe(this)),Ae!==null&&this.emit("data",Ae),Ae};function P(B,q){if(c("onEofChunk"),!q.ended){if(q.decoder){var ae=q.decoder.end();ae&&ae.length&&(q.buffer.push(ae),q.length+=q.objectMode?1:ae.length)}q.ended=!0,q.sync?I(B):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,C(B)))}}function I(B){var q=B._readableState;c("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(c("emitReadable",q.flowing),q.emittedReadable=!0,process.nextTick(C,B))}function C(B){var q=B._readableState;c("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(B.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,X(B)}function G(B,q){q.readingMore||(q.readingMore=!0,process.nextTick(V,B,q))}function V(B,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var ae=q.length;if(c("maybeReadMore read 0"),B.read(0),ae===q.length)break}q.readingMore=!1}z.prototype._read=function(B){te(this,new w("_read()"))},z.prototype.pipe=function(B,q){var ae=this,fe=this._readableState;switch(fe.pipesCount){case 0:fe.pipes=B;break;case 1:fe.pipes=[fe.pipes,B];break;default:fe.pipes.push(B);break}fe.pipesCount+=1,c("pipe count=%d opts=%j",fe.pipesCount,q);var Ae=(!q||q.end!==!1)&&B!==process.stdout&&B!==process.stderr,ve=Ae?nt:j;fe.endEmitted?process.nextTick(ve):ae.once("end",ve),B.on("unpipe",Se);function Se(Z,ue){c("onunpipe"),Z===ae&&ue&&ue.hasUnpiped===!1&&(ue.hasUnpiped=!0,ft())}function nt(){c("onend"),B.end()}var Ne=_(ae);B.on("drain",Ne);var xe=!1;function ft(){c("cleanup"),B.removeListener("close",pt),B.removeListener("finish",ne),B.removeListener("drain",Ne),B.removeListener("error",Ie),B.removeListener("unpipe",Se),ae.removeListener("end",nt),ae.removeListener("end",j),ae.removeListener("data",Be),xe=!0,fe.awaitDrain&&(!B._writableState||B._writableState.needDrain)&&Ne()}ae.on("data",Be);function Be(Z){c("ondata");var ue=B.write(Z);c("dest.write",ue),ue===!1&&((fe.pipesCount===1&&fe.pipes===B||fe.pipesCount>1&&me(fe.pipes,B)!==-1)&&!xe&&(c("false write response, pause",fe.awaitDrain),fe.awaitDrain++),ae.pause())}function Ie(Z){c("onerror",Z),j(),B.removeListener("error",Ie),R(B,"error")===0&&te(B,Z)}se(B,"error",Ie);function pt(){B.removeListener("finish",ne),j()}B.once("close",pt);function ne(){c("onfinish"),B.removeListener("close",pt),j()}B.once("finish",ne);function j(){c("unpipe"),ae.unpipe(B)}return B.emit("pipe",ae),fe.flowing||(c("pipe resume"),ae.resume()),B};function _(B){return function(){var ae=B._readableState;c("pipeOnDrain",ae.awaitDrain),ae.awaitDrain&&ae.awaitDrain--,ae.awaitDrain===0&&R(B,"data")&&(ae.flowing=!0,X(B))}}z.prototype.unpipe=function(B){var q=this._readableState,ae={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return B&&B!==q.pipes?this:(B||(B=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,B&&B.emit("unpipe",this,ae),this);if(!B){var fe=q.pipes,Ae=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var ve=0;ve<Ae;ve++)fe[ve].emit("unpipe",this,{hasUnpiped:!1});return this}var Se=me(q.pipes,B);return Se===-1?this:(q.pipes.splice(Se,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),B.emit("unpipe",this,ae),this)},z.prototype.on=function(B,q){var ae=y.prototype.on.call(this,B,q),fe=this._readableState;return B==="data"?(fe.readableListening=this.listenerCount("readable")>0,fe.flowing!==!1&&this.resume()):B==="readable"&&!fe.endEmitted&&!fe.readableListening&&(fe.readableListening=fe.needReadable=!0,fe.flowing=!1,fe.emittedReadable=!1,c("on readable",fe.length,fe.reading),fe.length?I(this):fe.reading||process.nextTick(pe,this)),ae},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(B,q){var ae=y.prototype.removeListener.call(this,B,q);return B==="readable"&&process.nextTick(Y,this),ae},z.prototype.removeAllListeners=function(B){var q=y.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&process.nextTick(Y,this),q};function Y(B){var q=B._readableState;q.readableListening=B.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:B.listenerCount("data")>0&&B.resume()}function pe(B){c("readable nexttick read 0"),B.read(0)}z.prototype.resume=function(){var B=this._readableState;return B.flowing||(c("resume"),B.flowing=!B.readableListening,ye(this,B)),B.paused=!1,this};function ye(B,q){q.resumeScheduled||(q.resumeScheduled=!0,process.nextTick(_e,B,q))}function _e(B,q){c("resume",q.reading),q.reading||B.read(0),q.resumeScheduled=!1,B.emit("resume"),X(B),q.flowing&&!q.reading&&B.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function X(B){var q=B._readableState;for(c("flow",q.flowing);q.flowing&&B.read()!==null;);}z.prototype.wrap=function(B){var q=this,ae=this._readableState,fe=!1;B.on("end",function(){if(c("wrapped end"),ae.decoder&&!ae.ended){var Se=ae.decoder.end();Se&&Se.length&&q.push(Se)}q.push(null)}),B.on("data",function(Se){if(c("wrapped data"),ae.decoder&&(Se=ae.decoder.write(Se)),!(ae.objectMode&&Se==null)&&!(!ae.objectMode&&(!Se||!Se.length))){var nt=q.push(Se);nt||(fe=!0,B.pause())}});for(var Ae in B)this[Ae]===void 0&&typeof B[Ae]=="function"&&(this[Ae]=function(nt){return function(){return B[nt].apply(B,arguments)}}(Ae));for(var ve=0;ve<ie.length;ve++)B.on(ie[ve],this.emit.bind(this,ie[ve]));return this._read=function(Se){c("wrapped _read",Se),fe&&(fe=!1,B.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return Q===void 0&&(Q=k(828)),Q(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),z._fromList=J,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function J(B,q){if(q.length===0)return null;var ae;return q.objectMode?ae=q.buffer.shift():!B||B>=q.length?(q.decoder?ae=q.buffer.join(""):q.buffer.length===1?ae=q.buffer.first():ae=q.buffer.concat(q.length),q.buffer.clear()):ae=q.buffer.consume(B,q.decoder),ae}function oe(B){var q=B._readableState;c("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,process.nextTick(be,q,B))}function be(B,q){if(c("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,q.readable=!1,q.emit("end"),B.autoDestroy)){var ae=q._writableState;(!ae||ae.autoDestroy&&ae.finished)&&q.destroy()}}typeof Symbol=="function"&&(z.from=function(B,q){return ee===void 0&&(ee=k(1265)),ee(z,B,q)});function me(B,q){for(var ae=0,fe=B.length;ae<fe;ae++)if(B[ae]===q)return ae;return-1}},4473:(v,W,k)=>{"use strict";v.exports=f;var E=k(8106).q,O=E.ERR_METHOD_NOT_IMPLEMENTED,R=E.ERR_MULTIPLE_CALLBACK,y=E.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=E.ERR_TRANSFORM_WITH_LENGTH_0,u=k(8656);k(5717)(f,u);function a(l,T){var d=this._transformState;d.transforming=!1;var m=d.writecb;if(m===null)return this.emit("error",new R);d.writechunk=null,d.writecb=null,T!=null&&this.push(T),m(l);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function f(l){if(!(this instanceof f))return new f(l);u.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",b)}function b(){var l=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(T,d){c(l,T,d)}):c(this,null,null)}f.prototype.push=function(l,T){return this._transformState.needTransform=!1,u.prototype.push.call(this,l,T)},f.prototype._transform=function(l,T,d){d(new O("_transform()"))},f.prototype._write=function(l,T,d){var m=this._transformState;if(m.writecb=d,m.writechunk=l,m.writeencoding=T,!m.transforming){var g=this._readableState;(m.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},f.prototype._read=function(l){var T=this._transformState;T.writechunk!==null&&!T.transforming?(T.transforming=!0,this._transform(T.writechunk,T.writeencoding,T.afterTransform)):T.needTransform=!0},f.prototype._destroy=function(l,T){u.prototype._destroy.call(this,l,function(d){T(d)})};function c(l,T,d){if(T)return l.emit("error",T);if(d!=null&&l.push(d),l._writableState.length)throw new n;if(l._transformState.transforming)throw new y;return l.push(null)}},323:(v,W,k)=>{"use strict";v.exports=le;function E(X,J,oe){this.chunk=X,this.encoding=J,this.callback=oe,this.next=null}function O(X){var J=this;this.next=null,this.entry=null,this.finish=function(){_e(J,X)}}var R;le.WritableState=ie;var y={deprecate:k(4927)},n=k(3194),u=k(8764).Buffer,a=k.g.Uint8Array||function(){};function f(X){return u.from(X)}function b(X){return u.isBuffer(X)||X instanceof a}var c=k(1029),l=k(94),T=l.getHighWaterMark,d=k(8106).q,m=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,S=d.ERR_MULTIPLE_CALLBACK,D=d.ERR_STREAM_CANNOT_PIPE,w=d.ERR_STREAM_DESTROYED,F=d.ERR_STREAM_NULL_VALUES,H=d.ERR_STREAM_WRITE_AFTER_END,Q=d.ERR_UNKNOWN_ENCODING,ee=c.errorOrDestroy;k(5717)(le,n);function te(){}function ie(X,J,oe){R=R||k(8656),X=X||{},typeof oe!="boolean"&&(oe=J instanceof R),this.objectMode=!!X.objectMode,oe&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=T(this,X,"writableHighWaterMark",oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var be=X.decodeStrings===!1;this.decodeStrings=!be,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){P(J,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}ie.prototype.getBuffer=function(){for(var J=this.bufferedRequest,oe=[];J;)oe.push(J),J=J.next;return oe},function(){try{Object.defineProperty(ie.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(X){}}();var se;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(se=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(J){return se.call(this,J)?!0:this!==le?!1:J&&J._writableState instanceof ie}})):se=function(J){return J instanceof this};function le(X){R=R||k(8656);var J=this instanceof R;if(!J&&!se.call(le,this))return new le(X);this._writableState=new ie(X,this,J),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),n.call(this)}le.prototype.pipe=function(){ee(this,new D)};function z(X,J){var oe=new H;ee(X,oe),process.nextTick(J,oe)}function A(X,J,oe,be){var me;return oe===null?me=new F:typeof oe!="string"&&!J.objectMode&&(me=new m("chunk",["string","Buffer"],oe)),me?(ee(X,me),process.nextTick(be,me),!1):!0}le.prototype.write=function(X,J,oe){var be=this._writableState,me=!1,B=!be.objectMode&&b(X);return B&&!u.isBuffer(X)&&(X=f(X)),typeof J=="function"&&(oe=J,J=null),B?J="buffer":J||(J=be.defaultEncoding),typeof oe!="function"&&(oe=te),be.ending?z(this,oe):(B||A(this,be,X,oe))&&(be.pendingcb++,me=M(this,be,B,X,J,oe)),me},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&G(this,X))},le.prototype.setDefaultEncoding=function(J){if(typeof J=="string"&&(J=J.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((J+"").toLowerCase())>-1))throw new Q(J);return this._writableState.defaultEncoding=J,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(X,J,oe){return!X.objectMode&&X.decodeStrings!==!1&&typeof J=="string"&&(J=u.from(J,oe)),J}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(X,J,oe,be,me,B){if(!oe){var q=U(J,be,me);be!==q&&(oe=!0,me="buffer",be=q)}var ae=J.objectMode?1:be.length;J.length+=ae;var fe=J.length<J.highWaterMark;if(fe||(J.needDrain=!0),J.writing||J.corked){var Ae=J.lastBufferedRequest;J.lastBufferedRequest={chunk:be,encoding:me,isBuf:oe,callback:B,next:null},Ae?Ae.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else s(X,J,!1,ae,be,me,B);return fe}function s(X,J,oe,be,me,B,q){J.writelen=be,J.writecb=q,J.writing=!0,J.sync=!0,J.destroyed?J.onwrite(new w("write")):oe?X._writev(me,J.onwrite):X._write(me,B,J.onwrite),J.sync=!1}function h(X,J,oe,be,me){--J.pendingcb,oe?(process.nextTick(me,be),process.nextTick(pe,X,J),X._writableState.errorEmitted=!0,ee(X,be)):(me(be),X._writableState.errorEmitted=!0,ee(X,be),pe(X,J))}function x(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function P(X,J){var oe=X._writableState,be=oe.sync,me=oe.writecb;if(typeof me!="function")throw new S;if(x(oe),J)h(X,oe,be,J,me);else{var B=V(oe)||X.destroyed;!B&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&G(X,oe),be?process.nextTick(I,X,oe,B,me):I(X,oe,B,me)}}function I(X,J,oe,be){oe||C(X,J),J.pendingcb--,be(),pe(X,J)}function C(X,J){J.length===0&&J.needDrain&&(J.needDrain=!1,X.emit("drain"))}function G(X,J){J.bufferProcessing=!0;var oe=J.bufferedRequest;if(X._writev&&oe&&oe.next){var be=J.bufferedRequestCount,me=new Array(be),B=J.corkedRequestsFree;B.entry=oe;for(var q=0,ae=!0;oe;)me[q]=oe,oe.isBuf||(ae=!1),oe=oe.next,q+=1;me.allBuffers=ae,s(X,J,!0,J.length,me,"",B.finish),J.pendingcb++,J.lastBufferedRequest=null,B.next?(J.corkedRequestsFree=B.next,B.next=null):J.corkedRequestsFree=new O(J),J.bufferedRequestCount=0}else{for(;oe;){var fe=oe.chunk,Ae=oe.encoding,ve=oe.callback,Se=J.objectMode?1:fe.length;if(s(X,J,!1,Se,fe,Ae,ve),oe=oe.next,J.bufferedRequestCount--,J.writing)break}oe===null&&(J.lastBufferedRequest=null)}J.bufferedRequest=oe,J.bufferProcessing=!1}le.prototype._write=function(X,J,oe){oe(new g("_write()"))},le.prototype._writev=null,le.prototype.end=function(X,J,oe){var be=this._writableState;return typeof X=="function"?(oe=X,X=null,J=null):typeof J=="function"&&(oe=J,J=null),X!=null&&this.write(X,J),be.corked&&(be.corked=1,this.uncork()),be.ending||ye(this,be,oe),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function V(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function _(X,J){X._final(function(oe){J.pendingcb--,oe&&ee(X,oe),J.prefinished=!0,X.emit("prefinish"),pe(X,J)})}function Y(X,J){!J.prefinished&&!J.finalCalled&&(typeof X._final=="function"&&!J.destroyed?(J.pendingcb++,J.finalCalled=!0,process.nextTick(_,X,J)):(J.prefinished=!0,X.emit("prefinish")))}function pe(X,J){var oe=V(J);if(oe&&(Y(X,J),J.pendingcb===0&&(J.finished=!0,X.emit("finish"),J.autoDestroy))){var be=X._readableState;(!be||be.autoDestroy&&be.endEmitted)&&X.destroy()}return oe}function ye(X,J,oe){J.ending=!0,pe(X,J),oe&&(J.finished?process.nextTick(oe):X.once("finish",oe)),J.ended=!0,X.writable=!1}function _e(X,J,oe){var be=X.entry;for(X.entry=null;be;){var me=be.callback;J.pendingcb--,me(oe),be=be.next}J.corkedRequestsFree.next=X}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(J){!this._writableState||(this._writableState.destroyed=J)}}),le.prototype.destroy=c.destroy,le.prototype._undestroy=c.undestroy,le.prototype._destroy=function(X,J){J(X)}},828:(v,W,k)=>{"use strict";var E;function O(w,F,H){return F in w?Object.defineProperty(w,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):w[F]=H,w}var R=k(1086),y=Symbol("lastResolve"),n=Symbol("lastReject"),u=Symbol("error"),a=Symbol("ended"),f=Symbol("lastPromise"),b=Symbol("handlePromise"),c=Symbol("stream");function l(w,F){return{value:w,done:F}}function T(w){var F=w[y];if(F!==null){var H=w[c].read();H!==null&&(w[f]=null,w[y]=null,w[n]=null,F(l(H,!1)))}}function d(w){process.nextTick(T,w)}function m(w,F){return function(H,Q){w.then(function(){if(F[a]){H(l(void 0,!0));return}F[b](H,Q)},Q)}}var g=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((E={get stream(){return this[c]},next:function(){var F=this,H=this[u];if(H!==null)return Promise.reject(H);if(this[a])return Promise.resolve(l(void 0,!0));if(this[c].destroyed)return new Promise(function(ie,se){process.nextTick(function(){F[u]?se(F[u]):ie(l(void 0,!0))})});var Q=this[f],ee;if(Q)ee=new Promise(m(Q,this));else{var te=this[c].read();if(te!==null)return Promise.resolve(l(te,!1));ee=new Promise(this[b])}return this[f]=ee,ee}},O(E,Symbol.asyncIterator,function(){return this}),O(E,"return",function(){var F=this;return new Promise(function(H,Q){F[c].destroy(null,function(ee){if(ee){Q(ee);return}H(l(void 0,!0))})})}),E),g),D=function(F){var H,Q=Object.create(S,(H={},O(H,c,{value:F,writable:!0}),O(H,y,{value:null,writable:!0}),O(H,n,{value:null,writable:!0}),O(H,u,{value:null,writable:!0}),O(H,a,{value:F._readableState.endEmitted,writable:!0}),O(H,b,{value:function(te,ie){var se=Q[c].read();se?(Q[f]=null,Q[y]=null,Q[n]=null,te(l(se,!1))):(Q[y]=te,Q[n]=ie)},writable:!0}),H));return Q[f]=null,R(F,function(ee){if(ee&&ee.code!=="ERR_STREAM_PREMATURE_CLOSE"){var te=Q[n];te!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,te(ee)),Q[u]=ee;return}var ie=Q[y];ie!==null&&(Q[f]=null,Q[y]=null,Q[n]=null,ie(l(void 0,!0))),Q[a]=!0}),F.on("readable",d.bind(null,Q)),Q};v.exports=D},9686:(v,W,k)=>{"use strict";function E(d,m){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(d);m&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable})),g.push.apply(g,S)}return g}function O(d){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?E(Object(g),!0).forEach(function(S){R(d,S,g[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):E(Object(g)).forEach(function(S){Object.defineProperty(d,S,Object.getOwnPropertyDescriptor(g,S))})}return d}function R(d,m,g){return m in d?Object.defineProperty(d,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[m]=g,d}function y(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function n(d,m){for(var g=0;g<m.length;g++){var S=m[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(d,S.key,S)}}function u(d,m,g){return m&&n(d.prototype,m),g&&n(d,g),d}var a=k(8764),f=a.Buffer,b=k(9862),c=b.inspect,l=c&&c.custom||"inspect";function T(d,m,g){f.prototype.copy.call(d,m,g)}v.exports=function(){function d(){y(this,d),this.head=null,this.tail=null,this.length=0}return u(d,[{key:"push",value:function(g){var S={data:g,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(g){var S={data:g,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var S=this.head,D=""+S.data;S=S.next;)D+=g+S.data;return D}},{key:"concat",value:function(g){if(this.length===0)return f.alloc(0);for(var S=f.allocUnsafe(g>>>0),D=this.head,w=0;D;)T(D.data,S,w),w+=D.data.length,D=D.next;return S}},{key:"consume",value:function(g,S){var D;return g<this.head.data.length?(D=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?D=this.shift():D=S?this._getString(g):this._getBuffer(g),D}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var S=this.head,D=1,w=S.data;for(g-=w.length;S=S.next;){var F=S.data,H=g>F.length?F.length:g;if(H===F.length?w+=F:w+=F.slice(0,g),g-=H,g===0){H===F.length?(++D,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=F.slice(H));break}++D}return this.length-=D,w}},{key:"_getBuffer",value:function(g){var S=f.allocUnsafe(g),D=this.head,w=1;for(D.data.copy(S),g-=D.data.length;D=D.next;){var F=D.data,H=g>F.length?F.length:g;if(F.copy(S,S.length-g,0,H),g-=H,g===0){H===F.length?(++w,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=F.slice(H));break}++w}return this.length-=w,S}},{key:l,value:function(g,S){return c(this,O({},S,{depth:0,customInspect:!1}))}}]),d}()},1029:v=>{"use strict";function W(n,u){var a=this,f=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return f||b?(u?u(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(R,this,n)):process.nextTick(R,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(c){!u&&c?a._writableState?a._writableState.errorEmitted?process.nextTick(E,a):(a._writableState.errorEmitted=!0,process.nextTick(k,a,c)):process.nextTick(k,a,c):u?(process.nextTick(E,a),u(c)):process.nextTick(E,a)}),this)}function k(n,u){R(n,u),E(n)}function E(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function O(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function R(n,u){n.emit("error",u)}function y(n,u){var a=n._readableState,f=n._writableState;a&&a.autoDestroy||f&&f.autoDestroy?n.destroy(u):n.emit("error",u)}v.exports={destroy:W,undestroy:O,errorOrDestroy:y}},1086:(v,W,k)=>{"use strict";var E=k(8106).q.ERR_STREAM_PREMATURE_CLOSE;function O(u){var a=!1;return function(){if(!a){a=!0;for(var f=arguments.length,b=new Array(f),c=0;c<f;c++)b[c]=arguments[c];u.apply(this,b)}}}function R(){}function y(u){return u.setHeader&&typeof u.abort=="function"}function n(u,a,f){if(typeof a=="function")return n(u,null,a);a||(a={}),f=O(f||R);var b=a.readable||a.readable!==!1&&u.readable,c=a.writable||a.writable!==!1&&u.writable,l=function(){u.writable||d()},T=u._writableState&&u._writableState.finished,d=function(){c=!1,T=!0,b||f.call(u)},m=u._readableState&&u._readableState.endEmitted,g=function(){b=!1,m=!0,c||f.call(u)},S=function(H){f.call(u,H)},D=function(){var H;if(b&&!m)return(!u._readableState||!u._readableState.ended)&&(H=new E),f.call(u,H);if(c&&!T)return(!u._writableState||!u._writableState.ended)&&(H=new E),f.call(u,H)},w=function(){u.req.on("finish",d)};return y(u)?(u.on("complete",d),u.on("abort",D),u.req?w():u.on("request",w)):c&&!u._writableState&&(u.on("end",l),u.on("close",l)),u.on("end",g),u.on("finish",d),a.error!==!1&&u.on("error",S),u.on("close",D),function(){u.removeListener("complete",d),u.removeListener("abort",D),u.removeListener("request",w),u.req&&u.req.removeListener("finish",d),u.removeListener("end",l),u.removeListener("close",l),u.removeListener("finish",d),u.removeListener("end",g),u.removeListener("error",S),u.removeListener("close",D)}}v.exports=n},1265:v=>{v.exports=function(){throw new Error("Readable.from is not available in the browser")}},6472:(v,W,k)=>{"use strict";var E;function O(d){var m=!1;return function(){m||(m=!0,d.apply(void 0,arguments))}}var R=k(8106).q,y=R.ERR_MISSING_ARGS,n=R.ERR_STREAM_DESTROYED;function u(d){if(d)throw d}function a(d){return d.setHeader&&typeof d.abort=="function"}function f(d,m,g,S){S=O(S);var D=!1;d.on("close",function(){D=!0}),E===void 0&&(E=k(1086)),E(d,{readable:m,writable:g},function(F){if(F)return S(F);D=!0,S()});var w=!1;return function(F){if(!D&&!w){if(w=!0,a(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();S(F||new n("pipe"))}}}function b(d){d()}function c(d,m){return d.pipe(m)}function l(d){return!d.length||typeof d[d.length-1]!="function"?u:d.pop()}function T(){for(var d=arguments.length,m=new Array(d),g=0;g<d;g++)m[g]=arguments[g];var S=l(m);if(Array.isArray(m[0])&&(m=m[0]),m.length<2)throw new y("streams");var D,w=m.map(function(F,H){var Q=H<m.length-1,ee=H>0;return f(F,Q,ee,function(te){D||(D=te),te&&w.forEach(b),!Q&&(w.forEach(b),S(D))})});return m.reduce(c)}v.exports=T},94:(v,W,k)=>{"use strict";var E=k(8106).q.ERR_INVALID_OPT_VALUE;function O(y,n,u){return y.highWaterMark!=null?y.highWaterMark:n?y[u]:null}function R(y,n,u,a){var f=O(n,a,u);if(f!=null){if(!(isFinite(f)&&Math.floor(f)===f)||f<0){var b=a?u:"highWaterMark";throw new E(b,f)}return Math.floor(f)}return y.objectMode?16:16*1024}v.exports={getHighWaterMark:R}},3194:(v,W,k)=>{v.exports=k(7187).EventEmitter},4729:(v,W,k)=>{"use strict";var E=k(9509).Buffer,O=E.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(w){if(!w)return"utf8";for(var F;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(F)return;w=(""+w).toLowerCase(),F=!0}}function y(w){var F=R(w);if(typeof F!="string"&&(E.isEncoding===O||!O(w)))throw new Error("Unknown encoding: "+w);return F||w}W.s=n;function n(w){this.encoding=y(w);var F;switch(this.encoding){case"utf16le":this.text=T,this.end=d,F=4;break;case"utf8":this.fillLast=b,F=4;break;case"base64":this.text=m,this.end=g,F=3;break;default:this.write=S,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(F)}n.prototype.write=function(w){if(w.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(w),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<w.length?F?F+this.text(w,H):this.text(w,H):F||""},n.prototype.end=l,n.prototype.text=c,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function u(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function a(w,F,H){var Q=F.length-1;if(Q<H)return 0;var ee=u(F[Q]);return ee>=0?(ee>0&&(w.lastNeed=ee-1),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(w.lastNeed=ee-2),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(ee===2?ee=0:w.lastNeed=ee-3),ee):0))}function f(w,F,H){if((F[0]&192)!=128)return w.lastNeed=0,"\uFFFD";if(w.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return w.lastNeed=1,"\uFFFD";if(w.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return w.lastNeed=2,"\uFFFD"}}function b(w){var F=this.lastTotal-this.lastNeed,H=f(this,w,F);if(H!==void 0)return H;if(this.lastNeed<=w.length)return w.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,F,0,w.length),this.lastNeed-=w.length}function c(w,F){var H=a(this,w,F);if(!this.lastNeed)return w.toString("utf8",F);this.lastTotal=H;var Q=w.length-(H-this.lastNeed);return w.copy(this.lastChar,0,Q),w.toString("utf8",F,Q)}function l(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+"\uFFFD":F}function T(w,F){if((w.length-F)%2==0){var H=w.toString("utf16le",F);if(H){var Q=H.charCodeAt(H.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",F,w.length-1)}function d(w){var F=w&&w.length?this.write(w):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function m(w,F){var H=(w.length-F)%3;return H===0?w.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",F,w.length-H))}function g(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(w){return w.toString(this.encoding)}function D(w){return w&&w.length?this.write(w):""}},2553:(v,W,k)=>{"use strict";var E=k(396).Buffer,O=E.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function R(w){if(!w)return"utf8";for(var F;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(F)return;w=(""+w).toLowerCase(),F=!0}}function y(w){var F=R(w);if(typeof F!="string"&&(E.isEncoding===O||!O(w)))throw new Error("Unknown encoding: "+w);return F||w}W.s=n;function n(w){this.encoding=y(w);var F;switch(this.encoding){case"utf16le":this.text=T,this.end=d,F=4;break;case"utf8":this.fillLast=b,F=4;break;case"base64":this.text=m,this.end=g,F=3;break;default:this.write=S,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=E.allocUnsafe(F)}n.prototype.write=function(w){if(w.length===0)return"";var F,H;if(this.lastNeed){if(F=this.fillLast(w),F===void 0)return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<w.length?F?F+this.text(w,H):this.text(w,H):F||""},n.prototype.end=l,n.prototype.text=c,n.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function u(w){return w<=127?0:w>>5==6?2:w>>4==14?3:w>>3==30?4:w>>6==2?-1:-2}function a(w,F,H){var Q=F.length-1;if(Q<H)return 0;var ee=u(F[Q]);return ee>=0?(ee>0&&(w.lastNeed=ee-1),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(w.lastNeed=ee-2),ee):--Q<H||ee===-2?0:(ee=u(F[Q]),ee>=0?(ee>0&&(ee===2?ee=0:w.lastNeed=ee-3),ee):0))}function f(w,F,H){if((F[0]&192)!=128)return w.lastNeed=0,"\uFFFD";if(w.lastNeed>1&&F.length>1){if((F[1]&192)!=128)return w.lastNeed=1,"\uFFFD";if(w.lastNeed>2&&F.length>2&&(F[2]&192)!=128)return w.lastNeed=2,"\uFFFD"}}function b(w){var F=this.lastTotal-this.lastNeed,H=f(this,w,F);if(H!==void 0)return H;if(this.lastNeed<=w.length)return w.copy(this.lastChar,F,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,F,0,w.length),this.lastNeed-=w.length}function c(w,F){var H=a(this,w,F);if(!this.lastNeed)return w.toString("utf8",F);this.lastTotal=H;var Q=w.length-(H-this.lastNeed);return w.copy(this.lastChar,0,Q),w.toString("utf8",F,Q)}function l(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+"\uFFFD":F}function T(w,F){if((w.length-F)%2==0){var H=w.toString("utf16le",F);if(H){var Q=H.charCodeAt(H.length-1);if(Q>=55296&&Q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",F,w.length-1)}function d(w){var F=w&&w.length?this.write(w):"";if(this.lastNeed){var H=this.lastTotal-this.lastNeed;return F+this.lastChar.toString("utf16le",0,H)}return F}function m(w,F){var H=(w.length-F)%3;return H===0?w.toString("base64",F):(this.lastNeed=3-H,this.lastTotal=3,H===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",F,w.length-H))}function g(w){var F=w&&w.length?this.write(w):"";return this.lastNeed?F+this.lastChar.toString("base64",0,3-this.lastNeed):F}function S(w){return w.toString(this.encoding)}function D(w){return w&&w.length?this.write(w):""}},396:(v,W,k)=>{var E=k(8764),O=E.Buffer;function R(n,u){for(var a in n)u[a]=n[a]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?v.exports=E:(R(E,W),W.Buffer=y);function y(n,u,a){return O(n,u,a)}R(O,y),y.from=function(n,u,a){if(typeof n=="number")throw new TypeError("Argument must not be a number");return O(n,u,a)},y.alloc=function(n,u,a){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=O(n);return u!==void 0?typeof a=="string"?f.fill(u,a):f.fill(u):f.fill(0),f},y.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return O(n)},y.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return E.SlowBuffer(n)}},7121:(v,W,k)=>{"use strict";k.d(W,{Z:()=>y});function E(n){var u,a=n.Symbol;return typeof a=="function"?a.observable?u=a.observable:(u=a("observable"),a.observable=u):u="@@observable",u}v=k.hmd(v);var O;typeof self!="undefined"?O=self:typeof window!="undefined"?O=window:typeof k.g!="undefined"?O=k.g:O=v;var R=E(O);const y=R},4802:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});var E=k(6363);W.ExperimentationService=E.ExperimentationService},6363:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(4067),O=k(4234),R=k(5975);class y extends R.ExperimentationServiceAutoPolling{constructor(u){super(u.telemetry,u.filterProviders||[],u.refetchInterval!=null?u.refetchInterval:0,u.featuresTelemetryPropertyName,u.assignmentContextTelemetryPropertyName,u.telemetryEventName,u.storageKey,u.keyValueStorage);this.options=u,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new E.TasApiFeatureProvider(new O.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}}W.ExperimentationService=y,y.REFRESH_RATE_IN_MINUTES=30},5975:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(7987),O=k(3334);class R extends E.ExperimentationServiceBase{constructor(n,u,a,f,b,c,l,T){super(n,f,b,c,l,T);if(this.telemetry=n,this.filterProviders=u,this.refreshRateMs=a,this.featuresTelemetryPropertyName=f,this.assignmentContextTelemetryPropertyName=b,this.telemetryEventName=c,this.storageKey=l,this.storage=T,a<1e3&&a!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");a>0&&(this.pollingService=new O.PollingService(a),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(n=!1){if(this.pollingService){this.pollingService.StopPolling();let u=await super.getFeaturesAsync(n);return this.pollingService.StartPolling(),u}else return await super.getFeaturesAsync(n)}}W.ExperimentationServiceAutoPolling=R},7987:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(7002);class O{constructor(y,n,u,a,f,b){this.telemetry=y,this.featuresTelemetryPropertyName=n,this.assignmentContextTelemetryPropertyName=u,this.telemetryEventName=a,this.storageKey=f,this.storage=b,this.featuresConsumed=!1,this.initializePromise=this.loadCachePromise,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(b=new E.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData()}get features(){return this._features}set features(y){this._features=y,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(y=!1){if(this.fetchPromise!=null)return await this.fetchPromise,this.features;if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async u=>await u.getFeatures()));let n=await this.fetchPromise;return this.fetchPromise=void 0,this.updateFeatures(n,y),this.features}updateFeatures(y,n=!1){let u={features:[],assignmentContext:"",configs:[]};for(let a of y){for(let f of a.features)u.features.includes(f)||u.features.push(f);for(let f of a.configs){const b=u.configs.find(c=>c.Id===f.Id);b?b.Parameters=Object.assign(Object.assign({},b.Parameters),f.Parameters):u.configs.push(f)}u.assignmentContext+=a.assignmentContext}(n||!this.featuresConsumed)&&(this.features=u),this.storage&&this.storage.setValue(this.storageKey,u)}async loadCachedFeatureData(){let y;this.storage&&(y=await this.storage.getValue(this.storageKey),y!==void 0&&y.configs===void 0&&(y.configs=[])),this.features.features.length===0&&(this.features=y||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(y){return this.featuresConsumed=!0,this.PostEventToTelemetry(y),this.features.features.includes(y)}async isCachedFlightEnabled(y){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(y),this.features.features.includes(y)}async isFlightEnabledAsync(y){const n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(y),n.features.includes(y)}getTreatmentVariable(y,n){var u;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${y}.${n}`),(u=this.features.configs.find(f=>f.Id===y))===null||u===void 0?void 0:u.Parameters[n]}async getTreatmentVariableAsync(y,n){return await this.getFeaturesAsync(!0),this.getTreatmentVariable(y,n)}PostEventToTelemetry(y){this.cachedTelemetryEvents.includes(y)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",y]])),this.cachedTelemetryEvents.push(y))}invokeInit(){this.init()}addFeatureProvider(...y){if(!(y==null||this.featureProviders==null))for(let n of y)this.featureProviders.push(n)}}W.ExperimentationServiceBase=O},69:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});class k{constructor(O){this.telemetry=O,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let O=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,O}}W.BaseFeatureProvider=k},4e3:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(69);class O extends E.BaseFeatureProvider{constructor(y,n){super(y);this.telemetry=y,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let y=new Map;for(let n of this.filterProviders){let u=n.getFilters();for(let a of u.keys()){let f=u.get(a);y.set(a,f)}}return y}PostEventToTelemetry(y){if(this.cachedTelemetryEvents.includes(y))return;const n=JSON.stringify(y);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(y)}}W.FilteredFeatureProvider=O},4067:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(4e3);class O extends E.FilteredFeatureProvider{constructor(y,n,u){super(n,u);this.httpClient=y,this.telemetry=n,this.filterProviders=u}async fetch(){let y=this.getFilters(),n={};for(let c of y.keys()){const l=y.get(c);n[c]=l}let u=await this.httpClient.get({headers:n});y.keys.length>0&&this.PostEventToTelemetry(n);let a=u.data,f=a.Configs,b=[];for(let c of f)if(!!c.Parameters)for(let l of Object.keys(c.Parameters)){const T=l+(c.Parameters[l]?"":"cf");b.includes(T)||b.push(T)}return{features:b,assignmentContext:a.AssignmentContext,configs:f}}}W.TasApiFeatureProvider=O},4234:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(9669);class O{constructor(y){this.endpoint=y}get(y){return E.default.get(this.endpoint,Object.assign(Object.assign({},y),{proxy:!1}))}}W.AxiosHttpClient=O},7002:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});class k{constructor(){this.storage=new Map}async getValue(O,R){return this.storage.has(O)?await Promise.resolve(this.storage.get(O)):await Promise.resolve(R||void 0)}setValue(O,R){this.storage.set(O,R)}}W.MemoryKeyValueStorage=k},3334:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});class k{constructor(O){this.fetchInterval=O}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(O){this.onTick=O}StartPolling(O=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(O&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}}W.PollingService=k},4927:(v,W,k)=>{v.exports=E;function E(R,y){if(O("noDeprecation"))return R;var n=!1;function u(){if(!n){if(O("throwDeprecation"))throw new Error(y);O("traceDeprecation")?console.trace(y):console.warn(y),n=!0}return R.apply(this,arguments)}return u}function O(R){try{if(!k.g.localStorage)return!1}catch(n){return!1}var y=k.g.localStorage[R];return y==null?!1:String(y).toLowerCase()==="true"}},9035:(v,W,k)=>{"use strict";var E;E={value:!0};var O=k(5654);W.X7=O.getExperimentationService,E=O.getExperimentationServiceAsync;var R=k(2560);W.aU=R.TargetPopulation},5708:(v,W)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});class k{constructor(O){this.mementoGlobalStorage=O}async getValue(O,R){return await this.mementoGlobalStorage.get(O)||R}setValue(O,R){this.mementoGlobalStorage.update(O,R)}}W.MementoKeyValueStorage=k},2560:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(7549);class O{constructor(u,a,f){this.extensionName=u,this.extensionVersion=a,this.targetPopulation=f}static trimVersionSuffix(u){const a=/\-[a-zA-Z0-9]+$/;return u.split(a)[0]}getFilterValue(u){switch(u){case R.ApplicationVersion:return O.trimVersionSuffix(E.version);case R.Build:return E.env.appName;case R.ClientId:return E.env.machineId;case R.ExtensionName:return this.extensionName;case R.ExtensionVersion:return O.trimVersionSuffix(this.extensionVersion);case R.Language:return E.env.language;case R.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let u=new Map,a=Object.values(R);for(let f of a)u.set(f,this.getFilterValue(f));return u}}W.VSCodeFilterProvider=O;var R;(function(n){n.Market="X-MSEdge-Market",n.CorpNet="X-FD-Corpnet",n.ApplicationVersion="X-VSCode-AppVersion",n.Build="X-VSCode-Build",n.ClientId="X-MSEdge-ClientId",n.ExtensionName="X-VSCode-ExtensionName",n.ExtensionVersion="X-VSCode-ExtensionVersion",n.Language="X-VSCode-Language",n.TargetPopulation="X-VSCode-TargetPopulation"})(R=W.Filters||(W.Filters={}));var y;(function(n){n.Team="team",n.Internal="internal",n.Insiders="insider",n.Public="public"})(y=W.TargetPopulation||(W.TargetPopulation={}))},5654:(v,W,k)=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});const E=k(2560),O=k(4802),R=k(5708),y="https://default.exp-tas.com/vscode/ab",n="query-expfeature",u="VSCode.ABExp.Features",a="abexp.assignmentcontext",f="VSCode.ABExp.FeatureData",b=1e3*60*30;function c(T,d,m,g,S,...D){if(!S)throw new Error("Memento storage was not provided.");const F=[new E.VSCodeFilterProvider(T,d,m),...D],H=new R.MementoKeyValueStorage(S);return new O.ExperimentationService({filterProviders:F,telemetry:g,storageKey:f,keyValueStorage:H,featuresTelemetryPropertyName:u,assignmentContextTelemetryPropertyName:a,telemetryEventName:n,endpoint:y,refetchInterval:b})}W.getExperimentationService=c;async function l(T,d,m,g,S,...D){const w=c(T,d,m,g,S,...D);return await w.initializePromise,w}W.getExperimentationServiceAsync=l},2479:v=>{v.exports=W;function W(k,E){if(k&&E)return W(k)(E);if(typeof k!="function")throw new TypeError("need wrapper function");return Object.keys(k).forEach(function(R){O[R]=k[R]}),O;function O(){for(var R=new Array(arguments.length),y=0;y<R.length;y++)R[y]=arguments[y];var n=k.apply(this,R),u=R[R.length-1];return typeof n=="function"&&n!==u&&Object.keys(u).forEach(function(a){n[a]=u[a]}),n}}},9602:v=>{"use strict";v.exports=function(W){W.prototype[Symbol.iterator]=function*(){for(let k=this.head;k;k=k.next)yield k.value}}},4411:(v,W,k)=>{"use strict";v.exports=E,E.Node=n,E.create=E;function E(u){var a=this;if(a instanceof E||(a=new E),a.tail=null,a.head=null,a.length=0,u&&typeof u.forEach=="function")u.forEach(function(c){a.push(c)});else if(arguments.length>0)for(var f=0,b=arguments.length;f<b;f++)a.push(arguments[f]);return a}E.prototype.removeNode=function(u){if(u.list!==this)throw new Error("removing node which does not belong to this list");var a=u.next,f=u.prev;return a&&(a.prev=f),f&&(f.next=a),u===this.head&&(this.head=a),u===this.tail&&(this.tail=f),u.list.length--,u.next=null,u.prev=null,u.list=null,a},E.prototype.unshiftNode=function(u){if(u!==this.head){u.list&&u.list.removeNode(u);var a=this.head;u.list=this,u.next=a,a&&(a.prev=u),this.head=u,this.tail||(this.tail=u),this.length++}},E.prototype.pushNode=function(u){if(u!==this.tail){u.list&&u.list.removeNode(u);var a=this.tail;u.list=this,u.prev=a,a&&(a.next=u),this.tail=u,this.head||(this.head=u),this.length++}},E.prototype.push=function(){for(var u=0,a=arguments.length;u<a;u++)R(this,arguments[u]);return this.length},E.prototype.unshift=function(){for(var u=0,a=arguments.length;u<a;u++)y(this,arguments[u]);return this.length},E.prototype.pop=function(){if(!!this.tail){var u=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,u}},E.prototype.shift=function(){if(!!this.head){var u=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,u}},E.prototype.forEach=function(u,a){a=a||this;for(var f=this.head,b=0;f!==null;b++)u.call(a,f.value,b,this),f=f.next},E.prototype.forEachReverse=function(u,a){a=a||this;for(var f=this.tail,b=this.length-1;f!==null;b--)u.call(a,f.value,b,this),f=f.prev},E.prototype.get=function(u){for(var a=0,f=this.head;f!==null&&a<u;a++)f=f.next;if(a===u&&f!==null)return f.value},E.prototype.getReverse=function(u){for(var a=0,f=this.tail;f!==null&&a<u;a++)f=f.prev;if(a===u&&f!==null)return f.value},E.prototype.map=function(u,a){a=a||this;for(var f=new E,b=this.head;b!==null;)f.push(u.call(a,b.value,this)),b=b.next;return f},E.prototype.mapReverse=function(u,a){a=a||this;for(var f=new E,b=this.tail;b!==null;)f.push(u.call(a,b.value,this)),b=b.prev;return f},E.prototype.reduce=function(u,a){var f,b=this.head;if(arguments.length>1)f=a;else if(this.head)b=this.head.next,f=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=0;b!==null;c++)f=u(f,b.value,c),b=b.next;return f},E.prototype.reduceReverse=function(u,a){var f,b=this.tail;if(arguments.length>1)f=a;else if(this.tail)b=this.tail.prev,f=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var c=this.length-1;b!==null;c--)f=u(f,b.value,c),b=b.prev;return f},E.prototype.toArray=function(){for(var u=new Array(this.length),a=0,f=this.head;f!==null;a++)u[a]=f.value,f=f.next;return u},E.prototype.toArrayReverse=function(){for(var u=new Array(this.length),a=0,f=this.tail;f!==null;a++)u[a]=f.value,f=f.prev;return u},E.prototype.slice=function(u,a){a=a||this.length,a<0&&(a+=this.length),u=u||0,u<0&&(u+=this.length);var f=new E;if(a<u||a<0)return f;u<0&&(u=0),a>this.length&&(a=this.length);for(var b=0,c=this.head;c!==null&&b<u;b++)c=c.next;for(;c!==null&&b<a;b++,c=c.next)f.push(c.value);return f},E.prototype.sliceReverse=function(u,a){a=a||this.length,a<0&&(a+=this.length),u=u||0,u<0&&(u+=this.length);var f=new E;if(a<u||a<0)return f;u<0&&(u=0),a>this.length&&(a=this.length);for(var b=this.length,c=this.tail;c!==null&&b>a;b--)c=c.prev;for(;c!==null&&b>u;b--,c=c.prev)f.push(c.value);return f},E.prototype.splice=function(u,a,...f){u>this.length&&(u=this.length-1),u<0&&(u=this.length+u);for(var b=0,c=this.head;c!==null&&b<u;b++)c=c.next;for(var l=[],b=0;c&&b<a;b++)l.push(c.value),c=this.removeNode(c);c===null&&(c=this.tail),c!==this.head&&c!==this.tail&&(c=c.prev);for(var b=0;b<f.length;b++)c=O(this,c,f[b]);return l},E.prototype.reverse=function(){for(var u=this.head,a=this.tail,f=u;f!==null;f=f.prev){var b=f.prev;f.prev=f.next,f.next=b}return this.head=a,this.tail=u,this};function O(u,a,f){var b=a===u.head?new n(f,null,a,u):new n(f,a,a.next,u);return b.next===null&&(u.tail=b),b.prev===null&&(u.head=b),u.length++,b}function R(u,a){u.tail=new n(a,u.tail,null,u),u.head||(u.head=u.tail),u.length++}function y(u,a){u.head=new n(a,null,u.head,u),u.tail||(u.tail=u.head),u.length++}function n(u,a,f,b){if(!(this instanceof n))return new n(u,a,f,b);this.list=b,this.value=u,a?(a.next=this,this.prev=a):this.prev=null,f?(f.prev=this,this.next=f):this.next=null}try{k(9602)(E)}catch(u){}},9329:(v,W,k)=>{v.exports=k(516).Observable},516:(v,W)=>{"use strict";var k;k={value:!0},W.Observable=void 0;function E(te,ie){if(!(te instanceof ie))throw new TypeError("Cannot call a class as a function")}function O(te,ie){for(var se=0;se<ie.length;se++){var le=ie[se];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(te,le.key,le)}}function R(te,ie,se){return ie&&O(te.prototype,ie),se&&O(te,se),te}var y=function(){return typeof Symbol=="function"},n=function(te){return y()&&Boolean(Symbol[te])},u=function(te){return n(te)?Symbol[te]:"@@"+te};y()&&!n("observable")&&(Symbol.observable=Symbol("observable"));var a=u("iterator"),f=u("observable"),b=u("species");function c(te,ie){var se=te[ie];if(se!=null){if(typeof se!="function")throw new TypeError(se+" is not a function");return se}}function l(te){var ie=te.constructor;return ie!==void 0&&(ie=ie[b],ie===null&&(ie=void 0)),ie!==void 0?ie:ee}function T(te){return te instanceof ee}function d(te){d.log?d.log(te):setTimeout(function(){throw te})}function m(te){Promise.resolve().then(function(){try{te()}catch(ie){d(ie)}})}function g(te){var ie=te._cleanup;if(ie!==void 0&&(te._cleanup=void 0,!!ie))try{if(typeof ie=="function")ie();else{var se=c(ie,"unsubscribe");se&&se.call(ie)}}catch(le){d(le)}}function S(te){te._observer=void 0,te._queue=void 0,te._state="closed"}function D(te){var ie=te._queue;if(!!ie){te._queue=void 0,te._state="ready";for(var se=0;se<ie.length&&(w(te,ie[se].type,ie[se].value),te._state!=="closed");++se);}}function w(te,ie,se){te._state="running";var le=te._observer;try{var z=c(le,ie);switch(ie){case"next":z&&z.call(le,se);break;case"error":if(S(te),z)z.call(le,se);else throw se;break;case"complete":S(te),z&&z.call(le);break}}catch(A){d(A)}te._state==="closed"?g(te):te._state==="running"&&(te._state="ready")}function F(te,ie,se){if(te._state!=="closed"){if(te._state==="buffering"){te._queue.push({type:ie,value:se});return}if(te._state!=="ready"){te._state="buffering",te._queue=[{type:ie,value:se}],m(function(){return D(te)});return}w(te,ie,se)}}var H=function(){function te(ie,se){E(this,te),this._cleanup=void 0,this._observer=ie,this._queue=void 0,this._state="initializing";var le=new Q(this);try{this._cleanup=se.call(void 0,le)}catch(z){le.error(z)}this._state==="initializing"&&(this._state="ready")}return R(te,[{key:"unsubscribe",value:function(){this._state!=="closed"&&(S(this),g(this))}},{key:"closed",get:function(){return this._state==="closed"}}]),te}(),Q=function(){function te(ie){E(this,te),this._subscription=ie}return R(te,[{key:"next",value:function(se){F(this._subscription,"next",se)}},{key:"error",value:function(se){F(this._subscription,"error",se)}},{key:"complete",value:function(){F(this._subscription,"complete")}},{key:"closed",get:function(){return this._subscription._state==="closed"}}]),te}(),ee=function(){function te(ie){if(E(this,te),!(this instanceof te))throw new TypeError("Observable cannot be called as a function");if(typeof ie!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=ie}return R(te,[{key:"subscribe",value:function(se){return(typeof se!="object"||se===null)&&(se={next:se,error:arguments[1],complete:arguments[2]}),new H(se,this._subscriber)}},{key:"forEach",value:function(se){var le=this;return new Promise(function(z,A){if(typeof se!="function"){A(new TypeError(se+" is not a function"));return}function U(){M.unsubscribe(),z()}var M=le.subscribe({next:function(s){try{se(s,U)}catch(h){A(h),M.unsubscribe()}},error:A,complete:z})})}},{key:"map",value:function(se){var le=this;if(typeof se!="function")throw new TypeError(se+" is not a function");var z=l(this);return new z(function(A){return le.subscribe({next:function(U){try{U=se(U)}catch(M){return A.error(M)}A.next(U)},error:function(U){A.error(U)},complete:function(){A.complete()}})})}},{key:"filter",value:function(se){var le=this;if(typeof se!="function")throw new TypeError(se+" is not a function");var z=l(this);return new z(function(A){return le.subscribe({next:function(U){try{if(!se(U))return}catch(M){return A.error(M)}A.next(U)},error:function(U){A.error(U)},complete:function(){A.complete()}})})}},{key:"reduce",value:function(se){var le=this;if(typeof se!="function")throw new TypeError(se+" is not a function");var z=l(this),A=arguments.length>1,U=!1,M=arguments[1],s=M;return new z(function(h){return le.subscribe({next:function(x){var P=!U;if(U=!0,!P||A)try{s=se(s,x)}catch(I){return h.error(I)}else s=x},error:function(x){h.error(x)},complete:function(){if(!U&&!A)return h.error(new TypeError("Cannot reduce an empty sequence"));h.next(s),h.complete()}})})}},{key:"concat",value:function(){for(var se=this,le=arguments.length,z=new Array(le),A=0;A<le;A++)z[A]=arguments[A];var U=l(this);return new U(function(M){var s,h=0;function x(P){s=P.subscribe({next:function(I){M.next(I)},error:function(I){M.error(I)},complete:function(){h===z.length?(s=void 0,M.complete()):x(U.from(z[h++]))}})}return x(se),function(){s&&(s.unsubscribe(),s=void 0)}})}},{key:"flatMap",value:function(se){var le=this;if(typeof se!="function")throw new TypeError(se+" is not a function");var z=l(this);return new z(function(A){var U=[],M=le.subscribe({next:function(h){if(se)try{h=se(h)}catch(P){return A.error(P)}var x=z.from(h).subscribe({next:function(P){A.next(P)},error:function(P){A.error(P)},complete:function(){var P=U.indexOf(x);P>=0&&U.splice(P,1),s()}});U.push(x)},error:function(h){A.error(h)},complete:function(){s()}});function s(){M.closed&&U.length===0&&A.complete()}return function(){U.forEach(function(h){return h.unsubscribe()}),M.unsubscribe()}})}},{key:f,value:function(){return this}}],[{key:"from",value:function(se){var le=typeof this=="function"?this:te;if(se==null)throw new TypeError(se+" is not an object");var z=c(se,f);if(z){var A=z.call(se);if(Object(A)!==A)throw new TypeError(A+" is not an object");return T(A)&&A.constructor===le?A:new le(function(U){return A.subscribe(U)})}if(n("iterator")&&(z=c(se,a),z))return new le(function(U){m(function(){if(!U.closed){var M=!0,s=!1,h=void 0;try{for(var x=z.call(se)[Symbol.iterator](),P;!(M=(P=x.next()).done);M=!0){var I=P.value;if(U.next(I),U.closed)return}}catch(C){s=!0,h=C}finally{try{!M&&x.return!=null&&x.return()}finally{if(s)throw h}}U.complete()}})});if(Array.isArray(se))return new le(function(U){m(function(){if(!U.closed){for(var M=0;M<se.length;++M)if(U.next(se[M]),U.closed)return;U.complete()}})});throw new TypeError(se+" is not observable")}},{key:"of",value:function(){for(var se=arguments.length,le=new Array(se),z=0;z<se;z++)le[z]=arguments[z];var A=typeof this=="function"?this:te;return new A(function(U){m(function(){if(!U.closed){for(var M=0;M<le.length;++M)if(U.next(le[M]),U.closed)return;U.complete()}})})}},{key:b,get:function(){return this}}]),te}();W.Observable=ee,y()&&Object.defineProperty(ee,Symbol("extensions"),{value:{symbol:f,hostReportError:d},configurable:!0})},3730:(v,W)=>{"use strict";var k;k={value:!0};let E=function(){function O(R,y,n){}return O.prototype.updateUserOptIn=function(R){},O.prototype.createAppInsightsClient=function(R){},O.prototype.getCommonProperties=function(){},O.prototype.sendTelemetryEvent=function(R,y,n){},O.prototype.dispose=function(){},O.TELEMETRY_CONFIG_ID="telemetry",O.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",O}();W.Z=E},7549:v=>{"use strict";v.exports=require("vscode")},6601:()=>{},9214:()=>{},1922:()=>{},2363:()=>{},6419:()=>{},6353:()=>{},9386:()=>{},1616:()=>{},9862:()=>{},964:()=>{},1336:()=>{}},Js={};function st(v){var W=Js[v];if(W!==void 0)return W.exports;var k=Js[v]={id:v,loaded:!1,exports:{}};return Wu[v].call(k.exports,k,k.exports,st),k.loaded=!0,k.exports}(()=>{st.n=v=>{var W=v&&v.__esModule?()=>v.default:()=>v;return st.d(W,{a:W}),W}})(),(()=>{st.d=(v,W)=>{for(var k in W)st.o(W,k)&&!st.o(v,k)&&Object.defineProperty(v,k,{enumerable:!0,get:W[k]})}})(),(()=>{st.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(v){if(typeof window=="object")return window}}()})(),(()=>{st.hmd=v=>(v=Object.create(v),v.children||(v.children=[]),Object.defineProperty(v,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+v.id)}}),v)})(),(()=>{st.o=(v,W)=>Object.prototype.hasOwnProperty.call(v,W)})(),(()=>{st.r=v=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})}})(),(()=>{st.nmd=v=>(v.paths=[],v.children||(v.children=[]),v)})();var An={};(()=>{"use strict";st.r(An),st.d(An,{activate:()=>Gp,deactivate:()=>jp});var v=st(7549),W=st(3730),k=Object.defineProperty,E=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),O;(function(t){t[t.Info=0]="Info",t[t.Debug=1]="Debug",t[t.Off=2]="Off"})(O||(O={}));const R="githubPullRequests",y="logLevel";class n{constructor(){E(this,"_outputChannel"),E(this,"_logLevel"),E(this,"_disposable"),this._outputChannel=v.window.createOutputChannel("GitHub Pull Request"),this._disposable=v.workspace.onDidChangeConfiguration(()=>{this.getLogLevel()}),this.getLogLevel()}appendLine(e,r){switch(this._logLevel){case 2:return;case 1:const o=`${new Date().getTime()/1e3}s`,p=r?`${r}> ${e}`:`${e}`;this._outputChannel.appendLine(`[Debug ${o}] ${p}`);return;case 0:default:this._outputChannel.appendLine("[Info] "+(r?`${r}> ${e}`:`${e}`));return}}debug(e,r){this._logLevel===1&&this.appendLine(e,r)}dispose(){this._disposable&&this._disposable.dispose()}getLogLevel(){switch(v.workspace.getConfiguration(R).get(y)){case"debug":this._logLevel=1;break;case"off":this._logLevel=2;break;case"info":default:this._logLevel=0;break}}}const a=new n;var f=st(6470),b=st(7484),c=st.n(b),l=st(4110),T=st.n(l),d=st(660),m=st.n(d),g=Object.defineProperty,S=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);c().extend(T(),{thresholds:[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:6,d:"day"},{l:"w",r:7},{l:"ww",r:3,d:"week"},{l:"M",r:4},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}]}),c().extend(m()),c().updateLocale("en",{relativeTime:{future:"in %s",past:"%s ago",s:"seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}});function D(t,e){const r=Object.create(null);return t.filter(i=>{const o=e(i);return r[o]?!1:(r[o]=!0,!0)})}function w(t){return t.forEach(e=>e.dispose()),[]}function F(t){return{dispose:t}}function H(t){return F(()=>w(t))}function Q(...t){return(e,r=null,i)=>{const o=H(t.map(p=>p(N=>e.call(r,N))));return i&&i.push(o),o}}function ee(t,e){return(r,i=null,o)=>t(p=>e(p)&&r.call(i,p),null,o)}function te(t){return(e,r=null,i)=>{const o=t(p=>(o.dispose(),e.call(r,p)),null,i);return o}}function ie(t){return/^[a-zA-Z]:\\/.test(t)}function se(t,e){return t===e?!0:(t.charAt(t.length-1)!==sep&&(t+=sep),ie(t)&&(t=t.toLowerCase(),e=e.toLowerCase()),e.startsWith(t))}function le(t,e){return t.reduce((r,i)=>{const o=e(i);return r[o]=[...r[o]||[],i],r},Object.create(null))}function z(t){return!!t.errors}function A(t){let e=!0;if(!!t.errors&&Array.isArray(t.errors)){for(const r of t.errors)if(!r.field||!r.value||!r.code){e=!1;break}}else e=!1;return e}function U(t){if(!(t instanceof Error))return typeof t=="string"?t:t.gitErrorCode?`${t.message}. Please check git output for more details`:"Error";let e=t.message,r;if(t.message==="Validation Failed"&&A(t))r=t.errors.map(i=>`Value "${i.value}" cannot be set for field ${i.field} (code: ${i.code})`).join(", ");else if(z(t)&&t.errors)return t.errors.map(i=>typeof i=="string"?i:i.message).join(", ");return r&&(e=`${e}: ${r}`),e}const M=(t,e)=>e(t);async function s(t,e=M){let r;return new Promise((i,o)=>r=t(p=>{try{Promise.resolve(e(p,i,o)).catch(o)}catch(N){o(N)}})).then(i=>(r.dispose(),i),i=>{throw r.dispose(),i})}function h(t){const e=dayjs(t),r=Date.now();return e.diff(r,"month"),e.diff(r,"month")<1?e.fromNow():e.diff(r,"year")<1?`on ${e.format("MMM D")}`:`on ${e.format("MMM D, YYYY")}`}var x;(function(t){t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.A=65]="A",t[t.Z=90]="Z",t[t.Backslash=92]="Backslash",t[t.a=97]="a",t[t.z=122]="z"})(x||(x={}));function P(t,e){return t<e?-1:t>e?1:0}function I(t,e,r=0,i=t.length,o=0,p=e.length){for(;r<i&&o<p;r++,o++){const $=t.charCodeAt(r),K=e.charCodeAt(o);if($<K)return-1;if($>K)return 1}const N=i-r,L=p-o;return N<L?-1:N>L?1:0}function C(t,e){return G(t,e,0,t.length,0,e.length)}function G(t,e,r=0,i=t.length,o=0,p=e.length){for(;r<i&&o<p;r++,o++){let $=t.charCodeAt(r),K=e.charCodeAt(o);if($===K)continue;const re=$-K;if(!(re===32&&_(K))&&!(re===-32&&_($)))return V($)&&V(K)?re:I(t.toLowerCase(),e.toLowerCase(),r,i,o,p)}const N=i-r,L=p-o;return N<L?-1:N>L?1:0}function V(t){return t>=97&&t<=122}function _(t){return t>=65&&t<=90}class Y{constructor(){S(this,"_value",""),S(this,"_pos",0)}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const r=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return r-i}value(){return this._value[this._pos]}}class pe{constructor(e=!0){this._caseSensitive=e,S(this,"_value"),S(this,"_from"),S(this,"_to")}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?I(e,this._value,0,e.length,this._from,this._to):G(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class ye{constructor(e=!0,r=!0){this._splitOnBackslash=e,this._caseSensitive=r,S(this,"_value"),S(this,"_from"),S(this,"_to")}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const r=this._value.charCodeAt(this._to);if(r===47||this._splitOnBackslash&&r===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?I(e,this._value,0,e.length,this._from,this._to):G(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}var _e;(function(t){t[t.Scheme=1]="Scheme",t[t.Authority=2]="Authority",t[t.Path=3]="Path",t[t.Query=4]="Query",t[t.Fragment=5]="Fragment"})(_e||(_e={}));class X{constructor(e){this._ignorePathCasing=e,S(this,"_pathIterator"),S(this,"_value"),S(this,"_states",[]),S(this,"_stateIdx",0)}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new ye(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return C(e,this._value.scheme);if(this._states[this._stateIdx]===2)return C(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return P(e,this._value.query);if(this._states[this._stateIdx]===5)return P(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class J{constructor(){S(this,"segment"),S(this,"value"),S(this,"key"),S(this,"left"),S(this,"mid"),S(this,"right")}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class oe{constructor(e){S(this,"_iter"),S(this,"_root"),this._iter=e}static forUris(e=()=>!1){return new oe(new X(e))}static forPaths(){return new oe(new ye)}static forStrings(){return new oe(new Y)}static forConfigKeys(){return new oe(new pe)}clear(){this._root=void 0}set(e,r){const i=this._iter.reset(e);let o;for(this._root||(this._root=new J,this._root.segment=i.value()),o=this._root;;){const N=i.cmp(o.segment);if(N>0)o.left||(o.left=new J,o.left.segment=i.value()),o=o.left;else if(N<0)o.right||(o.right=new J,o.right.segment=i.value()),o=o.right;else if(i.hasNext())i.next(),o.mid||(o.mid=new J,o.mid.segment=i.value()),o=o.mid;else break}const p=o.value;return o.value=r,o.key=e,p}get(e){var r;return(r=this._getNode(e))==null?void 0:r.value}_getNode(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const o=r.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else break}return i}has(e){const r=this._getNode(e);return!((r==null?void 0:r.value)===void 0&&(r==null?void 0:r.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,r){const i=this._iter.reset(e),o=[];let p=this._root;for(;p;){const N=i.cmp(p.segment);if(N>0)o.push([1,p]),p=p.left;else if(N<0)o.push([-1,p]),p=p.right;else if(i.hasNext())i.next(),o.push([0,p]),p=p.mid;else{for(r?(p.left=void 0,p.mid=void 0,p.right=void 0):p.value=void 0;o.length>0&&p.isEmpty();){let[L,$]=o.pop();switch(L){case 1:$.left=void 0;break;case 0:$.mid=void 0;break;case-1:$.right=void 0;break}p=$}break}}}findSubstr(e){const r=this._iter.reset(e);let i=this._root,o;for(;i;){const p=r.cmp(i.segment);if(p>0)i=i.left;else if(p<0)i=i.right;else if(r.hasNext())r.next(),o=i.value||o,i=i.mid;else break}return i&&i.value||o}findSuperstr(e){const r=this._iter.reset(e);let i=this._root;for(;i;){const o=r.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(r.hasNext())r.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[r,i]of this)e(i,r)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){e&&(yield*this._entries(e.left),e.value&&(yield[e.key,e.value]),yield*this._entries(e.mid),yield*this._entries(e.right))}}var be=Object.defineProperty,me=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),B;(function(t){t[t.Head=0]="Head",t[t.RemoteHead=1]="RemoteHead",t[t.Tag=2]="Tag"})(B||(B={}));var q;(function(t){t.BadConfigFile="BadConfigFile",t.AuthenticationFailed="AuthenticationFailed",t.NoUserNameConfigured="NoUserNameConfigured",t.NoUserEmailConfigured="NoUserEmailConfigured",t.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",t.NotAGitRepository="NotAGitRepository",t.NotAtRepositoryRoot="NotAtRepositoryRoot",t.Conflict="Conflict",t.StashConflict="StashConflict",t.UnmergedChanges="UnmergedChanges",t.PushRejected="PushRejected",t.RemoteConnectionError="RemoteConnectionError",t.DirtyWorkTree="DirtyWorkTree",t.CantOpenResource="CantOpenResource",t.GitNotFound="GitNotFound",t.CantCreatePipe="CantCreatePipe",t.CantAccessRemote="CantAccessRemote",t.RepositoryNotFound="RepositoryNotFound",t.RepositoryIsLocked="RepositoryIsLocked",t.BranchNotFullyMerged="BranchNotFullyMerged",t.NoRemoteReference="NoRemoteReference",t.InvalidBranchName="InvalidBranchName",t.BranchAlreadyExists="BranchAlreadyExists",t.NoLocalChanges="NoLocalChanges",t.NoStashFound="NoStashFound",t.LocalChangesOverwritten="LocalChangesOverwritten",t.NoUpstreamBranch="NoUpstreamBranch",t.IsInSubmodule="IsInSubmodule",t.WrongCase="WrongCase",t.CantLockRef="CantLockRef",t.CantRebaseMultipleBranches="CantRebaseMultipleBranches",t.PatchDoesNotApply="PatchDoesNotApply"})(q||(q={}));const ae=class{constructor(){me(this,"_providers",new Map),me(this,"_onDidOpenRepository",new v.EventEmitter),me(this,"onDidOpenRepository",this._onDidOpenRepository.event),me(this,"_onDidCloseRepository",new v.EventEmitter),me(this,"onDidCloseRepository",this._onDidCloseRepository.event),me(this,"_onDidChangeState",new v.EventEmitter),me(this,"onDidChangeState",this._onDidChangeState.event),me(this,"_onDidPublish",new v.EventEmitter),me(this,"onDidPublish",this._onDidPublish.event),me(this,"_disposables"),this._disposables=[]}get repositories(){const t=[];return this._providers.forEach(({repositories:e})=>{e&&t.push(...e)}),t}get state(){if(this._providers.size!==0){for(const[,{state:t}]of this._providers)if(t!=="initialized")return"uninitialized";return"initialized"}}registerGitProvider(t){a.appendLine("Registering git provider");const e=this._nextHandle();return this._providers.set(e,t),this._disposables.push(t.onDidCloseRepository(r=>this._onDidCloseRepository.fire(r))),this._disposables.push(t.onDidOpenRepository(r=>this._onDidOpenRepository.fire(r))),t.onDidChangeState&&this._disposables.push(t.onDidChangeState(r=>this._onDidChangeState.fire(r))),t.onDidPublish&&this._disposables.push(t.onDidPublish(r=>this._onDidPublish.fire(r))),t.repositories.forEach(r=>{this._onDidOpenRepository.fire(r)}),{dispose:()=>{const r=t==null?void 0:t.repositories;r&&r.length>0&&r.forEach(i=>this._onDidCloseRepository.fire(i)),this._providers.delete(e)}}}getGitProvider(t){const e=oe.forUris();return this._providers.forEach(r=>{const i=r.repositories;if(i&&i.length>0)for(const o of i)e.set(o.rootUri,r)}),e.findSubstr(t)}_nextHandle(){return ae._handlePool++}dispose(){this._disposables.forEach(t=>t.dispose())}};let fe=ae;me(fe,"_handlePool",0);const Ae=new Map;function ve(t,e){Ae.set(t,e)}function Se(t){Ae.delete(t)}function nt(t){for(const e of Ae.values())if(e.hasCommentThread(t))return e;a.appendLine(`Unable to find handler for comment thread ${t.threadId}`)}function Ne(t){return JSON.parse(t.query)}function xe(t){try{return JSON.parse(t.query)}catch(e){}}function ft(t){try{return JSON.parse(t.query)}catch(e){}}const Be=["image/png","image/gif","image/jpeg","image/webp","image/tiff","image/bmp"],Ie=v.Uri.parse("data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");async function pt(t,e){try{const{commit:r,baseCommit:i,headCommit:o,isBase:p}=JSON.parse(t.query),N=t.scheme==="review"?r:p?i:o,{size:L,object:$}=await e.getObjectDetails(N,t.fsPath),{mimetype:K}=await e.detectObjectType($);if(K==="text/plain")return;if(Be.indexOf(K)>-1){const re=await e.buffer(N,t.fsPath);return v.Uri.parse(`data:${K};label:${f.basename(t.fsPath)};description:${N};size:${L};base64,${re.toString("base64")}`)}}catch(r){return}}function ne(t,e,r,i,o,p,N){const L={path:e||t.path,ref:r,commit:i,base:p.base,isOutdated:o,rootPath:N.path};let $=t.path;return p.replaceFileExtension&&($=`${$}.git`),t.with({scheme:"review",path:$,query:JSON.stringify(L)})}function j(t,e,r,i){const o={prNumber:e,fileName:r,status:i};return t.with({scheme:"filechange",query:JSON.stringify(o)})}function Z(t){try{return JSON.parse(t.query)}catch(e){}}function ue(t,e,r,i,o,p,N){const L={baseCommit:r,headCommit:i,isBase:p,fileName:o,prNumber:e.number,status:N,remoteName:e.githubRepository.remote.remoteName},$=t.path;return t.with({scheme:"pr",path:$,query:JSON.stringify(L)})}class he extends v.EventEmitter{handleUri(e){this.fire(e)}}const Ee=new he,ge="GitHub.vscode-pull-request-github",Te="git",lt="ghpr",Fe="initialize",Oe="statechange",at="github:focusedReview";var Qe=st(4063),Ke=st.n(Qe),mt;(function(t){t.LEFT="LEFT",t.RIGHT="RIGHT"})(mt||(mt={}));var qe;(function(t){t.DISMISSED="DISMISSED",t.VIEWED="VIEWED",t.UNVIEWED="UNVIEWED"})(qe||(qe={}));var Me;(function(t){t[t.ADD=0]="ADD",t[t.COPY=1]="COPY",t[t.DELETE=2]="DELETE",t[t.MODIFY=3]="MODIFY",t[t.RENAME=4]="RENAME",t[t.TYPE=5]="TYPE",t[t.UNKNOWN=6]="UNKNOWN",t[t.UNMERGED=7]="UNMERGED"})(Me||(Me={}));class lr{constructor(e,r,i,o,p,N,L,$){this.baseCommit=e,this.status=r,this.fileName=i,this.previousFileName=o,this.patch=p,this.diffHunks=N,this.isPartial=L,this.blobUrl=$}}class je{constructor(e,r,i,o,p){this.baseCommit=e,this.blobUrl=r,this.status=i,this.fileName=o,this.previousFileName=p}}var Ye=Object.defineProperty,br=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),$e;(function(t){t[t.Context=0]="Context",t[t.Add=1]="Add",t[t.Delete=2]="Delete",t[t.Control=3]="Control"})($e||($e={}));class ze{constructor(e,r,i,o,p,N=!0){this.type=e,this.oldLineNumber=r,this.newLineNumber=i,this.positionInHunk=o,this._raw=p,this.endwithLineBreak=N}get raw(){return this._raw}get text(){return this._raw.substr(1)}}function yr(t){switch(t[0]){case" ":return 0;case"+":return 1;case"-":return 2;default:return 3}}class Ze{constructor(e,r,i,o,p){this.oldLineNumber=e,this.oldLength=r,this.newLineNumber=i,this.newLength=o,this.positionInHunk=p,br(this,"diffLines",[])}}const We=/^@@ \-(\d+)(,(\d+))?( \+(\d+)(,(\d+)?)?)? @@/;function wr(t){let e=0,r=0;for(;(r=t.indexOf("\r",r))!==-1;)r++,e++;return e}function*Je(t){let e=0;for(;e!==-1&&e<t.length;){const r=e;e=t.indexOf(`
`,e);let o=(e!==-1?e:t.length)-r;e!==-1&&(e>0&&t[e-1]==="\r"&&o--,e++),yield t.substr(r,o)}}function*Ge(t){const e=Je(t);let r=e.next(),i,o=-1,p=-1,N=-1;for(;!r.done;){const L=r.value;if(We.test(L)){i&&(yield i,i=void 0),o===-1&&(o=0);const $=We.exec(L),K=p=Number($[1]),re=Number($[3])||1,ce=N=Number($[5]),de=Number($[7])||1;i=new Ze(K,re,ce,de,o),i.diffLines.push(new ze(3,-1,-1,o,L))}else if(i){const $=yr(L);if($===3)i.diffLines&&i.diffLines.length&&(i.diffLines[i.diffLines.length-1].endwithLineBreak=!1);else{i.diffLines.push(new ze($,$!==1?p:-1,$!==2?N:-1,o,L));const K=1+wr(L);switch($){case 0:p+=K,N+=K;break;case 2:p+=K;break;case 1:N+=K;break}}}o!==-1&&++o,r=e.next()}i&&(yield i)}function ir(t){const e=Ge(t);let r=e.next();const i=[],o=[];for(;!r.done;){const p=r.value;i.push(p);for(let N=0;N<p.diffLines.length;N++){const L=p.diffLines[N];if(!(L.type===2||L.type===3))if(L.type===1)o.push(L.text);else{const $=L.text;o.push($)}}r=e.next()}return i}function Xe(t,e){const r=t.split(/\r?\n/),i=Ge(e);let o=i.next();const p=[],N=[];let L=0;for(;!o.done;){const $=o.value;p.push($);const K=$.oldLineNumber;for(let re=L+1;re<K;re++)N.push(r[re-1]);L=K+$.oldLength-1;for(let re=0;re<$.diffLines.length;re++){const ce=$.diffLines[re];if(!(ce.type===2||ce.type===3))if(ce.type===1)N.push(ce.text);else{const de=ce.text;N.push(de)}}o=i.next()}if(L<r.length)for(let $=L+1;$<=r.length;$++)N.push(r[$-1]);return N.join(`
`)}function Ve(t){switch(t){case"removed":return Me.DELETE;case"added":return Me.ADD;case"renamed":return Me.RENAME;case"modified":return Me.MODIFY;default:return Me.UNKNOWN}}async function nr(t,e,r){const i=[];for(let o=0;o<t.length;o++){const p=t[o],N=Ve(p.status);if(!p.patch){i.push(new je(r,p.blob_url,N,p.filename,p.previous_filename));continue}let L=!1;switch(N){case Me.DELETE:case Me.MODIFY:try{await e.getObjectDetails(r,p.filename),L=!0}catch(re){}break;case Me.RENAME:try{await e.getObjectDetails(r,p.previous_filename),L=!0}catch(re){}break}const $=ir(p.patch),K=!L&&N!==Me.ADD;i.push(new lr(r,N,p.filename,p.previous_filename,p.patch,$,K,p.blob_url))}return i}const et=t=>{};var tt=Object.defineProperty,$t=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),it;(function(t){t[t.Local=0]="Local",t[t.HTTP=1]="HTTP",t[t.SSH=2]="SSH",t[t.GIT=3]="GIT",t[t.OTHER=4]="OTHER"})(it||(it={}));class rt{constructor(e){if($t(this,"type",4),$t(this,"host",""),$t(this,"owner",""),$t(this,"repositoryName",""),$t(this,"url"),!this.parseSshProtocol(e))try{this.url=v.Uri.parse(e),this.type=this.getType(this.url.scheme),this.host=this.getHostName(this.url.authority),this.host&&(this.repositoryName=this.getRepositoryName(this.url.path)||"",this.owner=this.getOwnerName(this.url.path)||"")}catch(r){a.appendLine(`Failed to parse '${e}'`),v.window.showWarningMessage(`Unable to parse remote '${e}'. Please check that it is correctly formatted.`)}}get nameWithOwner(){return this.owner?`${this.owner}/${this.repositoryName}`:this.repositoryName}getType(e){switch(e){case"file":return 0;case"http":case"https":return 1;case"git":return 3;case"ssh":return 2;default:return 4}}parseSshProtocol(e){const r=et(e);if(!r)return!1;const{Hostname:i,HostName:o,path:p}=r;return this.host=o||i,this.owner=this.getOwnerName(p)||"",this.repositoryName=this.getRepositoryName(p)||"",this.type=2,!0}getHostName(e){const r=/^(?:.*:?@)?([^:]*)(?::.*)?$/.exec(e);return r&&r.length>=2?r[1].toLocaleLowerCase()==="www.github.com"?"github.com":r[1]:""}getRepositoryName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.lastIndexOf("/"),o=r.substr(i+1);if(!(o===""||o==="/"))return o.replace(/\/$/,"").replace(/\.git$/,"")}getOwnerName(e){let r=e.replace(/\\/g,"/");r.endsWith("/")&&(r=r.substr(0,r.length-1));const i=r.split("/");if(i.length>1)return i[i.length-2]}normalizeUri(){if(this.type===4&&!this.url)return;if(this.type===0)return this.url;let e="https";this.url&&(this.url.scheme==="http"||this.url.scheme==="https")&&(e=this.url.scheme);try{return v.Uri.parse(`${e}://${this.host.toLocaleLowerCase()}/${this.nameWithOwner.toLocaleLowerCase()}`)}catch(r){return}}toString(){if(this.type===2)return`git@${this.host}:${this.owner}/${this.repositoryName}`;if(this.type===3)return`git://git@${this.host}:${this.owner}/${this.repositoryName}`;const e=this.normalizeUri();if(e)return e.toString()}update(e){return e.type&&(this.type=e.type),e.host&&(this.host=e.host),e.owner&&(this.owner=e.owner),e.repositoryName&&(this.repositoryName=e.repositoryName),this}equals(e){const r=this.normalizeUri();if(!r)return!1;const i=e.normalizeUri();return i?r.toString().toLocaleLowerCase()===i.toString().toLocaleLowerCase():!1}}var Wt=Object.defineProperty,Qt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class jt{constructor(e,r,i,o){this.ref=e,this.label=r,this.sha=i,Qt(this,"repositoryCloneUrl"),this.repositoryCloneUrl=new rt(o)}}var vt;(function(t){t[t.Committed=0]="Committed",t[t.Mentioned=1]="Mentioned",t[t.Subscribed=2]="Subscribed",t[t.Commented=3]="Commented",t[t.Reviewed=4]="Reviewed",t[t.Labeled=5]="Labeled",t[t.Milestoned=6]="Milestoned",t[t.Assigned=7]="Assigned",t[t.HeadRefDeleted=8]="HeadRefDeleted",t[t.Merged=9]="Merged",t[t.Other=10]="Other"})(vt||(vt={}));function Ht(t){return t.event===4}function Kt(t){return t.event===0}function Yt(t){return t.event===3}function sr(t){return t.event===9}function ar(t){return t.event===7}function or(t){return t.event===8}function Zt(t){return!!t.conclusion}var gt;(function(t){t[t.Query=0]="Query",t[t.All=1]="All",t[t.LocalPullRequest=2]="LocalPullRequest"})(gt||(gt={}));var Et;(function(t){t.Approve="APPROVE",t.RequestChanges="REQUEST_CHANGES",t.Comment="COMMENT"})(Et||(Et={}));var ct;(function(t){t[t.Open=0]="Open",t[t.Merged=1]="Merged",t[t.Closed=2]="Closed"})(ct||(ct={}));var Tt;(function(t){t[t.Mergeable=0]="Mergeable",t[t.NotMergeable=1]="NotMergeable",t[t.Unknown=2]="Unknown"})(Tt||(Tt={}));var Jt=st(5835),Tr=Object.defineProperty,Cr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const _r=class{static initialize(t){_r.icons={reactions:{THUMBS_UP:t.asAbsolutePath(f.join("resources","icons","reactions","thumbs_up.png")),THUMBS_DOWN:t.asAbsolutePath(f.join("resources","icons","reactions","thumbs_down.png")),CONFUSED:t.asAbsolutePath(f.join("resources","icons","reactions","confused.png")),EYES:t.asAbsolutePath(f.join("resources","icons","reactions","eyes.png")),HEART:t.asAbsolutePath(f.join("resources","icons","reactions","heart.png")),HOORAY:t.asAbsolutePath(f.join("resources","icons","reactions","hooray.png")),LAUGH:t.asAbsolutePath(f.join("resources","icons","reactions","laugh.png")),ROCKET:t.asAbsolutePath(f.join("resources","icons","reactions","rocket.png"))}}}};let kr=_r;Cr(kr,"icons");function Zi(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var Qu=st(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Xs(t){return Object.prototype.toString.call(t)==="[object Object]"}function ea(t){var e,r;return Xs(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(Xs(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}function Ku(t){return t?Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{}):{}}function ta(t,e){const r=Object.assign({},t);return Object.keys(e).forEach(i=>{ea(e[i])?i in t?r[i]=ta(t[i],e[i]):Object.assign(r,{[i]:e[i]}):Object.assign(r,{[i]:e[i]})}),r}function ra(t){for(const e in t)t[e]===void 0&&delete t[e];return t}function In(t,e,r){if(typeof e=="string"){let[o,p]=e.split(" ");r=Object.assign(p?{method:o,url:p}:{url:o},r)}else r=Object.assign({},e);r.headers=Ku(r.headers),ra(r),ra(r.headers);const i=ta(t||{},r);return t&&t.mediaType.previews.length&&(i.mediaType.previews=t.mediaType.previews.filter(o=>!i.mediaType.previews.includes(o)).concat(i.mediaType.previews)),i.mediaType.previews=i.mediaType.previews.map(o=>o.replace(/-preview/,"")),i}function Yu(t,e){const r=/\?/.test(t)?"&":"?",i=Object.keys(e);return i.length===0?t:t+r+i.map(o=>o==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${o}=${encodeURIComponent(e[o])}`).join("&")}const Zu=/\{[^}]+\}/g;function Ju(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function Xu(t){const e=t.match(Zu);return e?e.map(Ju).reduce((r,i)=>r.concat(i),[]):[]}function ia(t,e){return Object.keys(t).filter(r=>!e.includes(r)).reduce((r,i)=>(r[i]=t[i],r),{})}function na(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function ri(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function Ri(t,e,r){return e=t==="+"||t==="#"?na(e):ri(e),r?ri(r)+"="+e:e}function ii(t){return t!=null}function Dn(t){return t===";"||t==="&"||t==="?"}function el(t,e,r,i){var o=t[r],p=[];if(ii(o)&&o!=="")if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")o=o.toString(),i&&i!=="*"&&(o=o.substring(0,parseInt(i,10))),p.push(Ri(e,o,Dn(e)?r:""));else if(i==="*")Array.isArray(o)?o.filter(ii).forEach(function(N){p.push(Ri(e,N,Dn(e)?r:""))}):Object.keys(o).forEach(function(N){ii(o[N])&&p.push(Ri(e,o[N],N))});else{const N=[];Array.isArray(o)?o.filter(ii).forEach(function(L){N.push(Ri(e,L))}):Object.keys(o).forEach(function(L){ii(o[L])&&(N.push(ri(L)),N.push(Ri(e,o[L].toString())))}),Dn(e)?p.push(ri(r)+"="+N.join(",")):N.length!==0&&p.push(N.join(","))}else e===";"?ii(o)&&p.push(ri(r)):o===""&&(e==="&"||e==="?")?p.push(ri(r)+"="):o===""&&p.push("");return p}function tl(t){return{expand:rl.bind(null,t)}}function rl(t,e){var r=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,o,p){if(o){let L="";const $=[];if(r.indexOf(o.charAt(0))!==-1&&(L=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach(function(K){var re=/([^:\*]*)(?::(\d+)|(\*))?/.exec(K);$.push(el(e,L,re[1],re[2]||re[3]))}),L&&L!=="+"){var N=",";return L==="?"?N="&":L!=="#"&&(N=L),($.length!==0?L:"")+$.join(N)}else return $.join(",")}else return na(p)})}function sa(t){let e=t.method.toUpperCase(),r=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},t.headers),o,p=ia(t,["method","baseUrl","url","headers","request","mediaType"]);const N=Xu(r);r=tl(r).expand(p),/^http/.test(r)||(r=t.baseUrl+r);const L=Object.keys(t).filter(re=>N.includes(re)).concat("baseUrl"),$=ia(p,L);if(!/application\/octet-stream/i.test(i.accept)&&(t.mediaType.format&&(i.accept=i.accept.split(/,/).map(re=>re.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){const re=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=re.concat(t.mediaType.previews).map(ce=>{const de=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${ce}-preview${de}`}).join(",")}return["GET","HEAD"].includes(e)?r=Yu(r,$):"data"in $?o=$.data:Object.keys($).length?o=$:i["content-length"]=0,!i["content-type"]&&typeof o!="undefined"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof o=="undefined"&&(o=""),Object.assign({method:e,url:r,headers:i},typeof o!="undefined"?{body:o}:null,t.request?{request:t.request}:null)}function il(t,e,r){return sa(In(t,e,r))}function aa(t,e){const r=In(t,e),i=il.bind(null,r);return Object.assign(i,{DEFAULTS:r,defaults:aa.bind(null,r),merge:In.bind(null,r),parse:sa})}const nl=`octokit-endpoint.js/6.0.11 ${Zi()}`,sl=aa(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":nl},mediaType:{format:"",previews:[]}});var al=st(4098),Fn=st.n(al);class ol extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}var ul=st(447),ll=st.n(ul);const cl=ll()(t=>console.warn(t));class xi extends Error{constructor(e,r,i){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=r,Object.defineProperty(this,"code",{get(){return cl(new ol("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),r}}),this.headers=i.headers||{};const o=Object.assign({},i.request);i.request.headers.authorization&&(o.headers=Object.assign({},i.request.headers,{authorization:i.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o}}const dl="5.4.14";function fl(t){return t.arrayBuffer()}function oa(t){(ea(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let e={},r,i;return(t.request&&t.request.fetch||Fn())(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect},t.request)).then(p=>{i=p.url,r=p.status;for(const L of p.headers)e[L[0]]=L[1];if(r===204||r===205)return;if(t.method==="HEAD"){if(r<400)return;throw new xi(p.statusText,r,{headers:e,request:t})}if(r===304)throw new xi("Not modified",r,{headers:e,request:t});if(r>=400)return p.text().then(L=>{const $=new xi(L,r,{headers:e,request:t});try{let K=JSON.parse($.message);Object.assign($,K);let re=K.errors;$.message=$.message+": "+re.map(JSON.stringify).join(", ")}catch(K){}throw $});const N=p.headers.get("content-type");return/application\/json/.test(N)?p.json():!N||/^text\/|charset=utf-8$/.test(N)?p.text():fl(p)}).then(p=>({status:r,url:i,headers:e,data:p})).catch(p=>{throw p instanceof xi?p:new xi(p.message,500,{headers:e,request:t})})}function On(t,e){const r=t.defaults(e);return Object.assign(function(o,p){const N=r.merge(o,p);if(!N.request||!N.request.hook)return oa(r.parse(N));const L=($,K)=>oa(r.parse(r.merge($,K)));return Object.assign(L,{endpoint:r,defaults:On.bind(null,r)}),N.request.hook(L,N)},{endpoint:r,defaults:On.bind(null,r)})}const Ji=On(sl,{headers:{"user-agent":`octokit-request.js/${dl} ${Zi()}`}}),hl="4.6.1";class pl extends Error{constructor(e,r){const i=r.data.errors[0].message;super(i);Object.assign(this,r.data),Object.assign(this,{headers:r.headers}),this.name="GraphqlError",this.request=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}const ml=["method","baseUrl","url","headers","request","query","mediaType"],vl=["query","method","url"],ua=/\/api\/v3\/?$/;function gl(t,e,r){if(r){if(typeof e=="string"&&"query"in r)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const N in r)if(!!vl.includes(N))return Promise.reject(new Error(`[@octokit/graphql] "${N}" cannot be used as variable name`))}const i=typeof e=="string"?Object.assign({query:e},r):e,o=Object.keys(i).reduce((N,L)=>ml.includes(L)?(N[L]=i[L],N):(N.variables||(N.variables={}),N.variables[L]=i[L],N),{}),p=i.baseUrl||t.endpoint.DEFAULTS.baseUrl;return ua.test(p)&&(o.url=p.replace(ua,"/api/graphql")),t(o).then(N=>{if(N.data.errors){const L={};for(const $ of Object.keys(N.headers))L[$]=N.headers[$];throw new pl(o,{headers:L,data:N.data})}return N.data.data})}function Bn(t,e){const r=t.defaults(e);return Object.assign((o,p)=>gl(r,o,p),{defaults:Bn.bind(null,r),endpoint:Ji.endpoint})}const Qp=Bn(Ji,{headers:{"user-agent":`octokit-graphql.js/${hl} ${Zi()}`},method:"POST",url:"/graphql"});function bl(t){return Bn(t,{method:"POST",url:"/graphql"})}async function yl(t){const e=t.split(/\./).length===3?"app":/^v\d+\./.test(t)?"installation":"oauth";return{type:"token",token:t,tokenType:e}}function wl(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function _l(t,e,r,i){const o=e.endpoint.merge(r,i);return o.headers.authorization=wl(t),e(o)}const kl=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(yl.bind(null,e),{hook:_l.bind(null,e)})},la="3.3.1";class Ln{constructor(e={}){const r=new Qu.Collection,i={baseUrl:Ji.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:r.bind(null,"request")}),mediaType:{previews:[],format:""}};if(i.headers["user-agent"]=[e.userAgent,`octokit-core.js/${la} ${Zi()}`].filter(Boolean).join(" "),e.baseUrl&&(i.baseUrl=e.baseUrl),e.previews&&(i.mediaType.previews=e.previews),e.timeZone&&(i.headers["time-zone"]=e.timeZone),this.request=Ji.defaults(i),this.graphql=bl(this.request).defaults(i),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=r,e.authStrategy){const{authStrategy:p,...N}=e,L=p(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:N},e.auth));r.wrap("request",L.hook),this.auth=L}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const p=kl(e.auth);r.wrap("request",p.hook),this.auth=p}this.constructor.plugins.forEach(p=>{Object.assign(this,p(this,e))})}static defaults(e){return class extends this{constructor(...i){const o=i[0]||{};if(typeof e=="function"){super(e(o));return}super(Object.assign({},e,o,o.userAgent&&e.userAgent?{userAgent:`${o.userAgent} ${e.userAgent}`}:null))}}}static plugin(...e){var r;const i=this.plugins;return r=class extends this{},r.plugins=i.concat(e.filter(p=>!i.includes(p))),r}}Ln.VERSION=la,Ln.plugins=[];const Sl="1.0.3";function ca(t){t.hook.wrap("request",(e,r)=>{t.log.debug("request",r);const i=Date.now(),o=t.request.endpoint.parse(r),p=o.url.replace(r.baseUrl,"");return e(r).then(N=>(t.log.info(`${o.method} ${p} - ${N.status} in ${Date.now()-i}ms`),N)).catch(N=>{throw t.log.info(`${o.method} ${p} - ${N.status} in ${Date.now()-i}ms`),N})})}ca.VERSION=Sl;const El="2.13.2";function Rl(t){if(!("total_count"in t.data&&!("url"in t.data)))return t;const r=t.data.incomplete_results,i=t.data.repository_selection,o=t.data.total_count;delete t.data.incomplete_results,delete t.data.repository_selection,delete t.data.total_count;const p=Object.keys(t.data)[0],N=t.data[p];return t.data=N,typeof r!="undefined"&&(t.data.incomplete_results=r),typeof i!="undefined"&&(t.data.repository_selection=i),t.data.total_count=o,t}function Un(t,e,r){const i=typeof e=="function"?e.endpoint(r):t.request.endpoint(e,r),o=typeof e=="function"?e:t.request,p=i.method,N=i.headers;let L=i.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!L)return{done:!0};const $=await o({method:p,url:L,headers:N}),K=Rl($);return L=((K.headers.link||"").match(/<([^>]+)>;\s*rel="next"/)||[])[1],{value:K}}})}}function da(t,e,r,i){return typeof r=="function"&&(i=r,r=void 0),fa(t,[],Un(t,e,r)[Symbol.asyncIterator](),i)}function fa(t,e,r,i){return r.next().then(o=>{if(o.done)return e;let p=!1;function N(){p=!0}return e=e.concat(i?i(o.value,N):o.value.data),p?e:fa(t,e,r,i)})}const Kp=Object.assign(da,{iterator:Un}),xl=null;function Yp(t){return typeof t=="string"?xl.includes(t):!1}function ha(t){return{paginate:Object.assign(da.bind(null,t),{iterator:Un.bind(null,t)})}}ha.VERSION=El;const Ml={actions:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createContentAttachment:["POST /content_references/{content_reference_id}/attachments",{mediaType:{previews:["corsair"]}}],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct",{mediaType:{previews:["scarlet-witch"]}}],getConductCode:["GET /codes_of_conduct/{key}",{mediaType:{previews:["scarlet-witch"]}}],getForRepo:["GET /repos/{owner}/{repo}/community/code_of_conduct",{mediaType:{previews:["scarlet-witch"]}}]},emojis:{get:["GET /emojis"]},enterpriseAdmin:{disableSelectedOrganizationGithubActionsEnterprise:["DELETE /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],enableSelectedOrganizationGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations/{org_id}"],getAllowedActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/selected-actions"],getGithubActionsPermissionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions"],listSelectedOrganizationsEnabledGithubActionsEnterprise:["GET /enterprises/{enterprise}/actions/permissions/organizations"],setAllowedActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/selected-actions"],setGithubActionsPermissionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions"],setSelectedOrganizationsEnabledGithubActionsEnterprise:["PUT /enterprises/{enterprise}/actions/permissions/organizations"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline",{mediaType:{previews:["mockingbird"]}}],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{cancelImport:["DELETE /repos/{owner}/{repo}/import"],deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive",{mediaType:{previews:["wyandotte"]}}],getCommitAuthors:["GET /repos/{owner}/{repo}/import/authors"],getImportStatus:["GET /repos/{owner}/{repo}/import"],getLargeFiles:["GET /repos/{owner}/{repo}/import/large_files"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}",{mediaType:{previews:["wyandotte"]}}],listForAuthenticatedUser:["GET /user/migrations",{mediaType:{previews:["wyandotte"]}}],listForOrg:["GET /orgs/{org}/migrations",{mediaType:{previews:["wyandotte"]}}],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{mediaType:{previews:["wyandotte"]}}],mapCommitAuthor:["PATCH /repos/{owner}/{repo}/import/authors/{author_id}"],setLfsPreference:["PATCH /repos/{owner}/{repo}/import/lfs"],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],startImport:["PUT /repos/{owner}/{repo}/import"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock",{mediaType:{previews:["wyandotte"]}}],updateImport:["PATCH /repos/{owner}/{repo}/import"]},orgs:{blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createWebhook:["POST /orgs/{org}/hooks"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],get:["GET /orgs/{org}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listBlockedUsers:["GET /orgs/{org}/blocks"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],createCard:["POST /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],createColumn:["POST /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],createForAuthenticatedUser:["POST /user/projects",{mediaType:{previews:["inertia"]}}],createForOrg:["POST /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],createForRepo:["POST /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],delete:["DELETE /projects/{project_id}",{mediaType:{previews:["inertia"]}}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],deleteColumn:["DELETE /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],get:["GET /projects/{project_id}",{mediaType:{previews:["inertia"]}}],getCard:["GET /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],getColumn:["GET /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{mediaType:{previews:["inertia"]}}],listCards:["GET /projects/columns/{column_id}/cards",{mediaType:{previews:["inertia"]}}],listCollaborators:["GET /projects/{project_id}/collaborators",{mediaType:{previews:["inertia"]}}],listColumns:["GET /projects/{project_id}/columns",{mediaType:{previews:["inertia"]}}],listForOrg:["GET /orgs/{org}/projects",{mediaType:{previews:["inertia"]}}],listForRepo:["GET /repos/{owner}/{repo}/projects",{mediaType:{previews:["inertia"]}}],listForUser:["GET /users/{username}/projects",{mediaType:{previews:["inertia"]}}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{mediaType:{previews:["inertia"]}}],moveColumn:["POST /projects/columns/{column_id}/moves",{mediaType:{previews:["inertia"]}}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{mediaType:{previews:["inertia"]}}],update:["PATCH /projects/{project_id}",{mediaType:{previews:["inertia"]}}],updateCard:["PATCH /projects/columns/cards/{card_id}",{mediaType:{previews:["inertia"]}}],updateColumn:["PATCH /projects/columns/{column_id}",{mediaType:{previews:["inertia"]}}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch",{mediaType:{previews:["lydian"]}}],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}}],deleteLegacy:["DELETE /reactions/{reaction_id}",{mediaType:{previews:["squirrel-girl"]}},{deprecated:"octokit.reactions.deleteLegacy() is deprecated, see https://docs.github.com/v3/reactions/#delete-a-reaction-legacy"}],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions",{mediaType:{previews:["squirrel-girl"]}}]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createPagesSite:["POST /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],createRelease:["POST /repos/{owner}/{repo}/releases"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate",{mediaType:{previews:["baptiste"]}}],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages",{mediaType:{previews:["switcheroo"]}}],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes",{mediaType:{previews:["london"]}}],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts",{mediaType:{previews:["dorian"]}}],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures",{mediaType:{previews:["zzzax"]}}],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head",{mediaType:{previews:["groot"]}}],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls",{mediaType:{previews:["groot"]}}],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics",{mediaType:{previews:["mercy"]}}],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits",{mediaType:{previews:["cloak"]}}],issuesAndPullRequests:["GET /search/issues"],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics",{mediaType:{previews:["mercy"]}}],users:["GET /search/users"]},secretScanning:{getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{mediaType:{previews:["inertia"]}}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{mediaType:{previews:["inertia"]}}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}"],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys"],deleteEmailForAuthenticated:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}"],list:["GET /users"],listBlockedByAuthenticated:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},Tl="4.12.0";function Cl(t,e){const r={};for(const[i,o]of Object.entries(e))for(const[p,N]of Object.entries(o)){const[L,$,K]=N,[re,ce]=L.split(/ /),de=Object.assign({method:re,url:ce},$);r[i]||(r[i]={});const we=r[i];if(K){we[p]=Nl(t,i,p,de,K);continue}we[p]=t.request.defaults(de)}return r}function Nl(t,e,r,i,o){const p=t.request.defaults(i);function N(...L){let $=p.endpoint.merge(...L);if(o.mapToData)return $=Object.assign({},$,{data:$[o.mapToData],[o.mapToData]:void 0}),p($);if(o.renamed){const[K,re]=o.renamed;t.log.warn(`octokit.${e}.${r}() has been renamed to octokit.${K}.${re}()`)}if(o.deprecated&&t.log.warn(o.deprecated),o.renamedParameters){const K=p.endpoint.merge(...L);for(const[re,ce]of Object.entries(o.renamedParameters))re in K&&(t.log.warn(`"${re}" parameter is deprecated for "octokit.${e}.${r}()". Use "${ce}" instead`),ce in K||(K[ce]=K[re]),delete K[re]);return p(K)}return p(...L)}return Object.assign(N,p)}function pa(t){return Cl(t,Ml)}pa.VERSION=Tl;const Pl="18.2.0",Al=Ln.plugin(ca,pa,ha).defaults({userAgent:`octokit-rest.js/${Pl}`});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qn=function(t,e){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},qn(t,e)};function Nr(t,e){qn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var De=function(){return De=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&(e[p]=r[p])}return e},De.apply(this,arguments)};function ma(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}function Zp(t,e,r,i){var o=arguments.length,p=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,r):i,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(t,e,r,i);else for(var L=t.length-1;L>=0;L--)(N=t[L])&&(p=(o<3?N(p):o>3?N(e,r,p):N(e,r))||p);return o>3&&p&&Object.defineProperty(e,r,p),p}function Jp(t,e){return function(r,i){e(r,i,t)}}function Xp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Br(t,e,r,i){function o(p){return p instanceof r?p:new r(function(N){N(p)})}return new(r||(r=Promise))(function(p,N){function L(re){try{K(i.next(re))}catch(ce){N(ce)}}function $(re){try{K(i.throw(re))}catch(ce){N(ce)}}function K(re){re.done?p(re.value):o(re.value).then(L,$)}K((i=i.apply(t,e||[])).next())})}function Lr(t,e){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},i,o,p,N;return N={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function L(K){return function(re){return $([K,re])}}function $(K){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,o&&(p=K[0]&2?o.return:K[0]?o.throw||((p=o.return)&&p.call(o),0):o.next)&&!(p=p.call(o,K[1])).done)return p;switch(o=0,p&&(K=[K[0]&2,p.value]),K[0]){case 0:case 1:p=K;break;case 4:return r.label++,{value:K[1],done:!1};case 5:r.label++,o=K[1],K=[0];continue;case 7:K=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(K[0]===6||K[0]===2)){r=0;continue}if(K[0]===3&&(!p||K[1]>p[0]&&K[1]<p[3])){r.label=K[1];break}if(K[0]===6&&r.label<p[1]){r.label=p[1],p=K;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(K);break}p[2]&&r.ops.pop(),r.trys.pop();continue}K=e.call(t,r)}catch(re){K=[6,re],o=0}finally{i=p=0}if(K[0]&5)throw K[1];return{value:K[0]?K[1]:void 0,done:!0}}}function em(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}function tm(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function va(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Il(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),o,p=[],N;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)p.push(o.value)}catch(L){N={error:L}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(N)throw N.error}}return p}function rm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Il(arguments[e]));return t}function $n(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<r;e++)for(var p=arguments[e],N=0,L=p.length;N<L;N++,o++)i[o]=p[N];return i}function Xi(t){return this instanceof Xi?(this.v=t,this):new Xi(t)}function im(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),o,p=[];return o={},N("next"),N("throw"),N("return"),o[Symbol.asyncIterator]=function(){return this},o;function N(de){i[de]&&(o[de]=function(we){return new Promise(function(Re,ke){p.push([de,we,Re,ke])>1||L(de,we)})})}function L(de,we){try{$(i[de](we))}catch(Re){ce(p[0][3],Re)}}function $(de){de.value instanceof Xi?Promise.resolve(de.value.v).then(K,re):ce(p[0][2],de)}function K(de){L("next",de)}function re(de){L("throw",de)}function ce(de,we){de(we),p.shift(),p.length&&L(p[0][0],p[0][1])}}function nm(t){var e,r;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,p){e[o]=t[o]?function(N){return(r=!r)?{value:Xi(t[o](N)),done:o==="return"}:p?p(N):N}:p}}function sm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof va=="function"?va(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(p){r[p]=t[p]&&function(N){return new Promise(function(L,$){N=t[p](N),o(L,$,N.done,N.value)})}}function o(p,N,L,$){Promise.resolve($).then(function(K){p({value:K,done:L})},N)}}function am(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function om(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function um(t){return t&&t.__esModule?t:{default:t}}function lm(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function cm(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Pr=st(285),Hn="Invariant Violation",ga=Object.setPrototypeOf,Dl=ga===void 0?function(t,e){return t.__proto__=e,t}:ga,Dt=function(t){Nr(e,t);function e(r){r===void 0&&(r=Hn);var i=t.call(this,typeof r=="number"?Hn+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return i.framesToPop=1,i.name=Hn,Dl(i,e.prototype),i}return e}(Error);function dt(t,e){if(!t)throw new Dt(e)}function ba(t){return function(){return console[t].apply(console,arguments)}}(function(t){t.warn=ba("warn"),t.error=ba("error")})(dt||(dt={}));var ya={env:{}};if(typeof process=="object")ya=process;else try{Function("stub","process = stub")(ya)}catch(t){}var dm=null;const fm=null;var Fl=st(5035),Ol=st.n(Fl),wa=Object.prototype,_a=wa.toString,Bl=wa.hasOwnProperty,Gn=new Map;function cr(t,e){try{return Vn(t,e)}finally{Gn.clear()}}function Vn(t,e){if(t===e)return!0;var r=_a.call(t),i=_a.call(e);if(r!==i)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(ka(t,e))return!0;var o=Object.keys(t),p=Object.keys(e),N=o.length;if(N!==p.length)return!1;for(var L=0;L<N;++L)if(!Bl.call(e,o[L]))return!1;for(var L=0;L<N;++L){var $=o[L];if(!Vn(t[$],e[$]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==""+e;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(ka(t,e))return!0;for(var K=t.entries(),re=r==="[object Map]";;){var ce=K.next();if(ce.done)break;var de=ce.value,we=de[0],Re=de[1];if(!e.has(we)||re&&!Vn(Re,e.get(we)))return!1}return!0}}return!1}function ka(t,e){var r=Gn.get(t);if(r){if(r.has(e))return!0}else Gn.set(t,r=new Set);return r.add(e),!1}const hm=null;function pm(t){return["StringValue","BooleanValue","EnumValue"].indexOf(t.kind)>-1}function mm(t){return["IntValue","FloatValue"].indexOf(t.kind)>-1}function Ll(t){return t.kind==="StringValue"}function Ul(t){return t.kind==="BooleanValue"}function ql(t){return t.kind==="IntValue"}function $l(t){return t.kind==="FloatValue"}function Hl(t){return t.kind==="Variable"}function Gl(t){return t.kind==="ObjectValue"}function Vl(t){return t.kind==="ListValue"}function jl(t){return t.kind==="EnumValue"}function zl(t){return t.kind==="NullValue"}function ni(t,e,r,i){if(ql(r)||$l(r))t[e.value]=Number(r.value);else if(Ul(r)||Ll(r))t[e.value]=r.value;else if(Gl(r)){var o={};r.fields.map(function(N){return ni(o,N.name,N.value,i)}),t[e.value]=o}else if(Hl(r)){var p=(i||{})[r.name.value];t[e.value]=p}else if(Vl(r))t[e.value]=r.values.map(function(N){var L={};return ni(L,e,N,i),L[e.value]});else if(jl(r))t[e.value]=r.value;else if(zl(r))t[e.value]=null;else throw new Dt(17)}function Wl(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(o){r[o.name.value]={},o.arguments&&o.arguments.forEach(function(p){var N=p.name,L=p.value;return ni(r[o.name.value],N,L,e)})}));var i=null;return t.arguments&&t.arguments.length&&(i={},t.arguments.forEach(function(o){var p=o.name,N=o.value;return ni(i,p,N,e)})),Sa(t.name.value,i,r)}var Ql=["connection","include","skip","client","rest","export"];function Sa(t,e,r){if(r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var i=r.connection.filter?r.connection.filter:[];i.sort();var o=e,p={};return i.forEach(function($){p[$]=o[$]}),r.connection.key+"("+JSON.stringify(p)+")"}else return r.connection.key;var N=t;if(e){var L=Ol()(e);N+="("+L+")"}return r&&Object.keys(r).forEach(function($){Ql.indexOf($)===-1&&(r[$]&&Object.keys(r[$]).length?N+="@"+$+"("+JSON.stringify(r[$])+")":N+="@"+$)}),N}function jn(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(i){var o=i.name,p=i.value;return ni(r,o,p,e)}),r}return null}function Mi(t){return t.alias?t.alias.value:t.name.value}function Ur(t){return t.kind==="Field"}function en(t){return t.kind==="InlineFragment"}function tn(t){return t&&t.type==="id"&&typeof t.generated=="boolean"}function rn(t,e){return e===void 0&&(e=!1),De({type:"id",generated:e},typeof t=="string"?{id:t,typename:void 0}:t)}function Kl(t){return t!=null&&typeof t=="object"&&t.type==="json"}function Yl(t){throw new InvariantError(18)}function Ea(t,e){switch(e===void 0&&(e=Yl),t.kind){case"Variable":return e(t);case"NullValue":return null;case"IntValue":return parseInt(t.value,10);case"FloatValue":return parseFloat(t.value);case"ListValue":return t.values.map(function(N){return Ea(N,e)});case"ObjectValue":{for(var r={},i=0,o=t.fields;i<o.length;i++){var p=o[i];r[p.name.value]=Ea(p.value,e)}return r}default:return t.value}}function Zl(t,e){if(t.directives&&t.directives.length){var r={};return t.directives.forEach(function(i){r[i.name.value]=jn(i,e)}),r}return null}function zn(t,e){return e===void 0&&(e={}),tc(t.directives).every(function(r){var i=r.directive,o=r.ifArgument,p=!1;return o.value.kind==="Variable"?(p=e[o.value.name.value],dt(p!==void 0,13)):p=o.value.value,i.name.value==="skip"?!p:p})}function Jl(t){var e=[];return(0,Pr.visit)(t,{Directive:function(r){e.push(r.name.value)}}),e}function nn(t,e){return Jl(e).some(function(r){return t.indexOf(r)>-1})}function Xl(t){return t&&nn(["client"],t)&&nn(["export"],t)}function ec(t){var e=t.name.value;return e==="skip"||e==="include"}function tc(t){return t?t.filter(ec).map(function(e){var r=e.arguments,i=e.name.value;dt(r&&r.length===1,14);var o=r[0];dt(o.name&&o.name.value==="if",15);var p=o.value;return dt(p&&(p.kind==="Variable"||p.kind==="BooleanValue"),16),{directive:e,ifArgument:o}}):[]}function Ra(t,e){var r=e,i=[];t.definitions.forEach(function(p){if(p.kind==="OperationDefinition")throw new Dt(11);p.kind==="FragmentDefinition"&&i.push(p)}),typeof r=="undefined"&&(dt(i.length===1,12),r=i[0].name.value);var o=De(De({},t),{definitions:$n([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions)});return o}function Wn(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(i){typeof i=="undefined"||i===null||Object.keys(i).forEach(function(o){t[o]=i[o]})}),t}function vm(t){jr(t);var e=t.definitions.filter(function(r){return r.kind==="OperationDefinition"&&r.operation==="mutation"})[0];return invariant(e,1),e}function jr(t){dt(t&&t.kind==="Document",2);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw new Dt(3);return r});return dt(e.length<=1,4),t}function si(t){return jr(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function gm(t){var e=si(t);return invariant(e,5),e}function Qn(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&e.name}).map(function(e){return e.name.value})[0]||null}function sn(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function rc(t){var e=si(t);return dt(e&&e.operation==="query",6),e}function ic(t){dt(t.kind==="Document",7),dt(t.definitions.length<=1,8);var e=t.definitions[0];return dt(e.kind==="FragmentDefinition",9),e}function Kn(t){jr(t);for(var e,r=0,i=t.definitions;r<i.length;r++){var o=i[r];if(o.kind==="OperationDefinition"){var p=o.operation;if(p==="query"||p==="mutation"||p==="subscription")return o}o.kind==="FragmentDefinition"&&!e&&(e=o)}if(e)return e;throw new Dt(10)}function an(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function Yn(t){if(t&&t.variableDefinitions&&t.variableDefinitions.length){var e=t.variableDefinitions.filter(function(r){var i=r.defaultValue;return i}).map(function(r){var i=r.variable,o=r.defaultValue,p={};return ni(p,i.name,o),p});return Wn.apply(void 0,$n([{}],e))}return{}}function bm(t){var e=new Set;if(t.variableDefinitions)for(var r=0,i=t.variableDefinitions;r<i.length;r++){var o=i[r];e.add(o.variable.name.value)}return e}function xa(t,e,r){var i=0;return t.forEach(function(o,p){e.call(this,o,p,t)&&(t[i++]=o)},r),t.length=i,t}var nc={kind:"Field",name:{kind:"Name",value:"__typename"}};function Ma(t,e){return t.selectionSet.selections.every(function(r){return r.kind==="FragmentSpread"&&Ma(e[r.name.value],e)})}function on(t){return Ma(si(t)||ic(t),an(sn(t)))?null:t}function Zn(t){return function(r){return t.some(function(i){return i.name&&i.name===r.name.value||i.test&&i.test(r)})}}function Ta(t,e){var r=Object.create(null),i=[],o=Object.create(null),p=[],N=on((0,Pr.visit)(e,{Variable:{enter:function(L,$,K){K.kind!=="VariableDefinition"&&(r[L.name.value]=!0)}},Field:{enter:function(L){if(t&&L.directives){var $=t.some(function(K){return K.remove});if($&&L.directives&&L.directives.some(Zn(t)))return L.arguments&&L.arguments.forEach(function(K){K.value.kind==="Variable"&&i.push({name:K.value.name.value})}),L.selectionSet&&Pa(L.selectionSet).forEach(function(K){p.push({name:K.name.value})}),null}}},FragmentSpread:{enter:function(L){o[L.name.value]=!0}},Directive:{enter:function(L){if(Zn(t)(L))return null}}}));return N&&xa(i,function(L){return!r[L.name]}).length&&(N=lc(i,N)),N&&xa(p,function(L){return!o[L.name]}).length&&(N=cc(p,N)),N}function sc(t){return(0,Pr.visit)(jr(t),{SelectionSet:{enter:function(e,r,i){if(!(i&&i.kind==="OperationDefinition")){var o=e.selections;if(!!o){var p=o.some(function(L){return Ur(L)&&(L.name.value==="__typename"||L.name.value.lastIndexOf("__",0)===0)});if(!p){var N=i;if(!(Ur(N)&&N.directives&&N.directives.some(function(L){return L.name.value==="export"})))return De(De({},e),{selections:$n(o,[nc])})}}}}}})}var ac={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(r){return r.name.value==="key"})),e}};function oc(t){return Ta([ac],jr(t))}function Ca(t,e,r){return r===void 0&&(r=!0),e&&e.selections&&e.selections.some(function(i){return Na(t,i,r)})}function Na(t,e,r){return r===void 0&&(r=!0),Ur(e)?e.directives?e.directives.some(Zn(t))||r&&Ca(t,e.selectionSet,r):!1:!0}function ym(t,e){jr(e);var r;return on(visit(e,{SelectionSet:{enter:function(i,o,p,N){var L=N.join("-");if(!r||L===r||!L.startsWith(r))if(i.selections){var $=i.selections.filter(function(K){return Na(t,K)});return Ca(t,i,!1)&&(r=L),__assign(__assign({},i),{selections:$})}else return null}}}))}function uc(t){return function(r){return t.some(function(i){return r.value&&r.value.kind==="Variable"&&r.value.name&&(i.name===r.value.name.value||i.test&&i.test(r))})}}function lc(t,e){var r=uc(t);return on((0,Pr.visit)(e,{OperationDefinition:{enter:function(i){return De(De({},i),{variableDefinitions:i.variableDefinitions.filter(function(o){return!t.some(function(p){return p.name===o.variable.name.value})})})}},Field:{enter:function(i){var o=t.some(function(N){return N.remove});if(o){var p=0;if(i.arguments.forEach(function(N){r(N)&&(p+=1)}),p===1)return null}}},Argument:{enter:function(i){if(r(i))return null}}}))}function cc(t,e){function r(i){if(t.some(function(o){return o.name===i.name.value}))return null}return on((0,Pr.visit)(e,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}function Pa(t){var e=[];return t.selections.forEach(function(r){(Ur(r)||en(r))&&r.selectionSet?Pa(r.selectionSet).forEach(function(i){return e.push(i)}):r.kind==="FragmentSpread"&&e.push(r)}),e}function dc(t){var e=Kn(t),r=e.operation;if(r==="query")return t;var i=(0,Pr.visit)(t,{OperationDefinition:{enter:function(o){return De(De({},o),{operation:"query"})}}});return i}function fc(t){jr(t);var e=Ta([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e&&(e=(0,Pr.visit)(e,{FragmentDefinition:{enter:function(r){if(r.selectionSet){var i=r.selectionSet.selections.every(function(o){return Ur(o)&&o.name.value==="__typename"});if(i)return null}}}})),e}var Jn=typeof WeakMap=="function"&&!(typeof navigator=="object"&&navigator.product==="ReactNative"),hc=Object.prototype.toString;function pc(t){return Xn(t,new Map)}function Xn(t,e){switch(hc.call(t)){case"[object Array]":{if(e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(o,p){r[p]=Xn(o,e)}),r}case"[object Object]":{if(e.has(t))return e.get(t);var i=Object.create(Object.getPrototypeOf(t));return e.set(t,i),Object.keys(t).forEach(function(o){i[o]=Xn(t[o],e)}),i}default:return t}}function mc(){return typeof process!="undefined"?"production":"development"}function es(t){return mc()===t}function Aa(){return es("production")===!0}function vc(){return es("development")===!0}function ts(){return es("test")===!0}function rs(t){try{return t()}catch(e){console.error&&console.error(e)}}function zr(t){return t.errors&&t.errors.length}function Ia(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(e){t[e]!==null&&(typeof t[e]=="object"||typeof t[e]=="function")&&!Object.isFrozen(t[e])&&Ia(t[e])}),t}function wm(t){if(vc()||ts()){var e=typeof Symbol=="function"&&typeof Symbol("")=="string";if(!e)return Ia(t)}return t}var gc=Object.prototype.hasOwnProperty;function Da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return is(t)}function is(t){var e=t[0]||{},r=t.length;if(r>1){var i=[];e=ns(e,i);for(var o=1;o<r;++o)e=Oa(e,t[o],i)}return e}function Fa(t){return t!==null&&typeof t=="object"}function Oa(t,e,r){return Fa(e)&&Fa(t)?(Object.isExtensible&&!Object.isExtensible(t)&&(t=ns(t,r)),Object.keys(e).forEach(function(i){var o=e[i];if(gc.call(t,i)){var p=t[i];o!==p&&(t[i]=Oa(ns(p,r),o,r))}else t[i]=o}),t):e}function ns(t,e){return t!==null&&typeof t=="object"&&e.indexOf(t)<0&&(Array.isArray(t)?t=t.slice(0):t=De({__proto__:Object.getPrototypeOf(t)},t),e.push(t)),t}var Ba=Object.create({});function _m(t,e){e===void 0&&(e="warn"),!Aa()&&!Ba[t]&&(ts()||(Ba[t]=!0),e==="error"?console.error(t):console.warn(t))}function km(t){return JSON.parse(JSON.stringify(t))}var bc=st(9329),yc=st.n(bc),wc=yc();const Gt=wc;function _c(t){for(var e=["query","operationName","variables","extensions","context"],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];if(e.indexOf(o)<0)throw new Dt(2)}return t}var Sm=function(t){Nr(e,t);function e(r,i){var o=t.call(this,r)||this;return o.link=i,o}return e}(Error);function un(t){return t.request.length<=1}function Em(t){var e=!1;return new Promise(function(r,i){t.subscribe({next:function(o){e||(e=!0,r(o))},error:i})})}var Rm=null;function xm(t){return new Observable(function(e){t.then(function(r){e.next(r),e.complete()}).catch(e.error.bind(e))})}function La(t){return new Gt(function(e){e.error(t)})}function kc(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?Qn(e.query):""),e}function Sc(t,e){var r=De({},t),i=function(p){typeof p=="function"?r=De({},r,p(r)):r=De({},r,p)},o=function(){return De({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:i}),Object.defineProperty(e,"getContext",{enumerable:!1,value:o}),Object.defineProperty(e,"toKey",{enumerable:!1,value:function(){return Ec(e)}}),e}function Ec(t){var e=t.query,r=t.variables,i=t.operationName;return JSON.stringify([i,e,r])}function Ua(t,e){return e?e(t):Gt.of()}function Ti(t){return typeof t=="function"?new dr(t):t}function qa(){return new dr(function(){return Gt.of()})}function Rc(t){return t.length===0?qa():t.map(Ti).reduce(function(e,r){return e.concat(r)})}function $a(t,e,r){var i=Ti(e),o=Ti(r||new dr(Ua));return un(i)&&un(o)?new dr(function(p){return t(p)?i.request(p)||Gt.of():o.request(p)||Gt.of()}):new dr(function(p,N){return t(p)?i.request(p,N)||Gt.of():o.request(p,N)||Gt.of()})}var xc=function(t,e){var r=Ti(t);if(un(r))return r;var i=Ti(e);return un(i)?new dr(function(o){return r.request(o,function(p){return i.request(p)||Gt.of()})||Gt.of()}):new dr(function(o,p){return r.request(o,function(N){return i.request(N,p)||Gt.of()})||Gt.of()})},dr=function(){function t(e){e&&(this.request=e)}return t.prototype.split=function(e,r,i){return this.concat($a(e,r,i||new t(Ua)))},t.prototype.concat=function(e){return xc(this,e)},t.prototype.request=function(e,r){throw new Dt(1)},t.empty=qa,t.from=Rc,t.split=$a,t.execute=ln,t}();function ln(t,e){return t.request(Sc(e.context,kc(_c(e))))||Gt.of()}var Mc=st(7121),St;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(St||(St={}));function Ha(t){return t<7}var Ci=function(t){Nr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype[Mc.Z]=function(){return this},e.prototype["@@observable"]=function(){return this},e}(Gt);function ai(t){return Array.isArray(t)&&t.length>0}function Tc(t){return t.hasOwnProperty("graphQLErrors")}var Cc=function(t){var e="";return ai(t.graphQLErrors)&&t.graphQLErrors.forEach(function(r){var i=r?r.message:"Error message not found.";e+="GraphQL error: "+i+`
`}),t.networkError&&(e+="Network error: "+t.networkError.message+`
`),e=e.replace(/\n$/,""),e},qr=function(t){Nr(e,t);function e(r){var i=r.graphQLErrors,o=r.networkError,p=r.errorMessage,N=r.extraInfo,L=t.call(this,p)||this;return L.graphQLErrors=i||[],L.networkError=o||null,p?L.message=p:L.message=Cc(L),L.extraInfo=N,L.__proto__=e.prototype,L}return e}(Error),Wr;(function(t){t[t.normal=1]="normal",t[t.refetch=2]="refetch",t[t.poll=3]="poll"})(Wr||(Wr={}));var Nc=function(t,e){return e===void 0&&(e="none"),t&&(t.networkError||e==="none"&&ai(t.graphQLErrors))},Pc=function(t){Nr(e,t);function e(r){var i=r.queryManager,o=r.options,p=r.shouldSubscribe,N=p===void 0?!0:p,L=t.call(this,function(K){return L.onSubscribe(K)})||this;L.observers=new Set,L.subscriptions=new Set,L.isTornDown=!1,L.options=o,L.variables=o.variables||{},L.queryId=i.generateQueryId(),L.shouldSubscribe=N;var $=si(o.query);return L.queryName=$&&$.name&&$.name.value,L.queryManager=i,L}return e.prototype.result=function(){var r=this;return new Promise(function(i,o){var p={next:function(L){i(L),r.observers.delete(p),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){N.unsubscribe()},0)},error:o},N=r.subscribe(p)})},e.prototype.currentResult=function(){var r=this.getCurrentResult();return r.data===void 0&&(r.data={}),r},e.prototype.getCurrentResult=function(){if(this.isTornDown){var r=this.lastResult;return{data:!this.lastError&&r&&r.data||void 0,error:this.lastError,loading:!1,networkStatus:St.error}}var i=this.queryManager.getCurrentQueryResult(this),o=i.data,p=i.partial,N=this.queryManager.queryStore.get(this.queryId),L,$=this.options.fetchPolicy,K=$==="network-only"||$==="no-cache";if(N){var re=N.networkStatus;if(Nc(N,this.options.errorPolicy))return{data:void 0,loading:!1,networkStatus:re,error:new qr({graphQLErrors:N.graphQLErrors,networkError:N.networkError})};N.variables&&(this.options.variables=De(De({},this.options.variables),N.variables),this.variables=this.options.variables),L={data:o,loading:Ha(re),networkStatus:re},N.graphQLErrors&&this.options.errorPolicy==="all"&&(L.errors=N.graphQLErrors)}else{var ce=K||p&&$!=="cache-only";L={data:o,loading:ce,networkStatus:ce?St.loading:St.ready}}return p||this.updateLastResult(De(De({},L),{stale:!1})),De(De({},L),{partial:p})},e.prototype.isDifferentFromLastResult=function(r){var i=this.lastResultSnapshot;return!(i&&r&&i.networkStatus===r.networkStatus&&i.stale===r.stale&&cr(i.data,r.data))},e.prototype.getLastResult=function(){return this.lastResult},e.prototype.getLastError=function(){return this.lastError},e.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){var r=this.queryManager.queryStore.get(this.queryId);r&&(r.networkError=null,r.graphQLErrors=[])},e.prototype.refetch=function(r){var i=this.options.fetchPolicy;return i==="cache-only"?Promise.reject(new Dt(1)):(i!=="no-cache"&&i!=="cache-and-network"&&(i="network-only"),cr(this.variables,r)||(this.variables=De(De({},this.variables),r)),cr(this.options.variables,this.variables)||(this.options.variables=De(De({},this.options.variables),this.variables)),this.queryManager.fetchQuery(this.queryId,De(De({},this.options),{fetchPolicy:i}),Wr.refetch))},e.prototype.fetchMore=function(r){var i=this;dt(r.updateQuery,2);var o=De(De({},r.query?r:De(De(De({},this.options),r),{variables:De(De({},this.variables),r.variables)})),{fetchPolicy:"network-only"}),p=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(p,o,Wr.normal,this.queryId).then(function(N){return i.updateQuery(function(L){return r.updateQuery(L,{fetchMoreResult:N.data,variables:o.variables})}),i.queryManager.stopQuery(p),N},function(N){throw i.queryManager.stopQuery(p),N})},e.prototype.subscribeToMore=function(r){var i=this,o=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables}).subscribe({next:function(p){var N=r.updateQuery;N&&i.updateQuery(function(L,$){var K=$.variables;return N(L,{subscriptionData:p,variables:K})})},error:function(p){if(r.onError){r.onError(p);return}}});return this.subscriptions.add(o),function(){i.subscriptions.delete(o)&&o.unsubscribe()}},e.prototype.setOptions=function(r){var i=this.options.fetchPolicy;this.options=De(De({},this.options),r),r.pollInterval?this.startPolling(r.pollInterval):r.pollInterval===0&&this.stopPolling();var o=r.fetchPolicy;return this.setVariables(this.options.variables,i!==o&&(i==="cache-only"||i==="standby"||o==="network-only"),r.fetchResults)},e.prototype.setVariables=function(r,i,o){return i===void 0&&(i=!1),o===void 0&&(o=!0),this.isTornDown=!1,r=r||this.variables,!i&&cr(r,this.variables)?this.observers.size&&o?this.result():Promise.resolve():(this.variables=this.options.variables=r,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},e.prototype.updateQuery=function(r){var i=this.queryManager,o=i.getQueryWithPreviousResult(this.queryId),p=o.previousResult,N=o.variables,L=o.document,$=rs(function(){return r(p,{variables:N})});$&&(i.dataStore.markUpdateQueryResult(L,N,$),i.broadcastQueries())},e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},e.prototype.startPolling=function(r){Ga(this),this.options.pollInterval=r,this.queryManager.startPollingQuery(this.options,this.queryId)},e.prototype.updateLastResult=function(r){var i=this.lastResult;return this.lastResult=r,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?r:pc(r),i},e.prototype.onSubscribe=function(r){var i=this;try{var o=r._subscription._observer;o&&!o.error&&(o.error=Ac)}catch(N){}var p=!this.observers.size;return this.observers.add(r),r.next&&this.lastResult&&r.next(this.lastResult),r.error&&this.lastError&&r.error(this.lastError),p&&this.setUpQuery(),function(){i.observers.delete(r)&&!i.observers.size&&i.tearDownQuery()}},e.prototype.setUpQuery=function(){var r=this,i=this,o=i.queryManager,p=i.queryId;this.shouldSubscribe&&o.addObservableQuery(p,this),this.options.pollInterval&&(Ga(this),o.startPollingQuery(this.options,p));var N=function(L){r.updateLastResult(De(De({},r.lastResult),{errors:L.graphQLErrors,networkStatus:St.error,loading:!1})),ss(r.observers,"error",r.lastError=L)};o.observeQuery(p,this.options,{next:function(L){if(r.lastError||r.isDifferentFromLastResult(L)){var $=r.updateLastResult(L),K=r.options,re=K.query,ce=K.variables,de=K.fetchPolicy;o.transform(re).hasClientExports?o.getLocalState().addExportedVariables(re,ce).then(function(we){var Re=r.variables;r.variables=r.options.variables=we,!L.loading&&$&&de!=="cache-only"&&o.transform(re).serverQuery&&!cr(Re,we)?r.refetch():ss(r.observers,"next",L)}):ss(r.observers,"next",L)}},error:N}).catch(N)},e.prototype.tearDownQuery=function(){var r=this.queryManager;this.isTornDown=!0,r.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(i){return i.unsubscribe()}),this.subscriptions.clear(),r.removeObservableQuery(this.queryId),r.stopQuery(this.queryId),this.observers.clear()},e}(Ci);function Ac(t){}function ss(t,e,r){var i=[];t.forEach(function(o){return o[e]&&i.push(o)}),i.forEach(function(o){return o[e](r)})}function Ga(t){var e=t.options.fetchPolicy;dt(e!=="cache-first"&&e!=="cache-only",3)}var Ic=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initMutation=function(e,r,i){this.store[e]={mutation:r,variables:i||{},loading:!0,error:null}},t.prototype.markMutationError=function(e,r){var i=this.store[e];i&&(i.loading=!1,i.error=r)},t.prototype.markMutationResult=function(e){var r=this.store[e];r&&(r.loading=!1,r.error=null)},t.prototype.reset=function(){this.store={}},t}(),Dc=function(){function t(){this.store={}}return t.prototype.getStore=function(){return this.store},t.prototype.get=function(e){return this.store[e]},t.prototype.initQuery=function(e){var r=this.store[e.queryId];dt(!r||r.document===e.document||cr(r.document,e.document),19);var i=!1,o=null;e.storePreviousVariables&&r&&r.networkStatus!==St.loading&&(cr(r.variables,e.variables)||(i=!0,o=r.variables));var p;i?p=St.setVariables:e.isPoll?p=St.poll:e.isRefetch?p=St.refetch:p=St.loading;var N=[];r&&r.graphQLErrors&&(N=r.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:o,networkError:null,graphQLErrors:N,networkStatus:p,metadata:e.metadata},typeof e.fetchMoreForQueryId=="string"&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=St.fetchMore)},t.prototype.markQueryResult=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=null,this.store[e].graphQLErrors=ai(r.errors)?r.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=St.ready,typeof i=="string"&&this.store[i]&&(this.store[i].networkStatus=St.ready))},t.prototype.markQueryError=function(e,r,i){!this.store||!this.store[e]||(this.store[e].networkError=r,this.store[e].networkStatus=St.error,typeof i=="string"&&this.markQueryResultClient(i,!0))},t.prototype.markQueryResultClient=function(e,r){var i=this.store&&this.store[e];i&&(i.networkError=null,i.previousVariables=null,r&&(i.networkStatus=St.ready))},t.prototype.stopQuery=function(e){delete this.store[e]},t.prototype.reset=function(e){var r=this;Object.keys(this.store).forEach(function(i){e.indexOf(i)<0?r.stopQuery(i):r.store[i].networkStatus=St.loading})},t}();function Fc(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Va=function(){function t(e){var r=e.cache,i=e.client,o=e.resolvers,p=e.fragmentMatcher;this.cache=r,i&&(this.client=i),o&&this.addResolvers(o),p&&this.setFragmentMatcher(p)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(i){r.resolvers=Da(r.resolvers,i)}):this.resolvers=Da(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,i=e.remoteResult,o=e.context,p=e.variables,N=e.onlyRunForcedResolvers,L=N===void 0?!1:N;return Br(this,void 0,void 0,function(){return Lr(this,function($){return r?[2,this.resolveDocument(r,i.data,o,p,this.fragmentMatcher,L).then(function(K){return De(De({},i),{data:K.result})})]:[2,i]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return nn(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return this.resolvers?fc(e):e},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.cache,i=De(De({},e),{cache:r,getCacheKey:function(o){if(r.config)return r.config.dataIdFromObject(o);dt(!1,6)}});return i},t.prototype.addExportedVariables=function(e,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),Br(this,void 0,void 0,function(){return Lr(this,function(o){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(i),r).then(function(p){return De(De({},r),p.exportedVariables)})]:[2,De({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return(0,Pr.visit)(e,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(r=i.arguments.some(function(o){return o.name.value==="always"&&o.value.kind==="BooleanValue"&&o.value.value===!0}),r))return Pr.BREAK}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:dc(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,i,o,p,N){return i===void 0&&(i={}),o===void 0&&(o={}),p===void 0&&(p=function(){return!0}),N===void 0&&(N=!1),Br(this,void 0,void 0,function(){var L,$,K,re,ce,de,we,Re,ke;return Lr(this,function(Ce){return L=Kn(e),$=sn(e),K=an($),re=L.operation,ce=re?Fc(re):"Query",de=this,we=de.cache,Re=de.client,ke={fragmentMap:K,context:De(De({},i),{cache:we,client:Re}),variables:o,fragmentMatcher:p,defaultOperationType:ce,exportedVariables:{},onlyRunForcedResolvers:N},[2,this.resolveSelectionSet(L.selectionSet,r,ke).then(function(Pe){return{result:Pe,exportedVariables:ke.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,i){return Br(this,void 0,void 0,function(){var o,p,N,L,$,K=this;return Lr(this,function(re){return o=i.fragmentMap,p=i.context,N=i.variables,L=[r],$=function(ce){return Br(K,void 0,void 0,function(){var de,we;return Lr(this,function(Re){return zn(ce,N)?Ur(ce)?[2,this.resolveField(ce,r,i).then(function(ke){var Ce;typeof ke!="undefined"&&L.push((Ce={},Ce[Mi(ce)]=ke,Ce))})]:(en(ce)?de=ce:(de=o[ce.name.value],dt(de,7)),de&&de.typeCondition&&(we=de.typeCondition.name.value,i.fragmentMatcher(r,we,p))?[2,this.resolveSelectionSet(de.selectionSet,r,i).then(function(ke){L.push(ke)})]:[2]):[2]})})},[2,Promise.all(e.selections.map($)).then(function(){return is(L)})]})})},t.prototype.resolveField=function(e,r,i){return Br(this,void 0,void 0,function(){var o,p,N,L,$,K,re,ce,de,we=this;return Lr(this,function(Re){return o=i.variables,p=e.name.value,N=Mi(e),L=p!==N,$=r[N]||r[p],K=Promise.resolve($),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(re=r.__typename||i.defaultOperationType,ce=this.resolvers&&this.resolvers[re],ce&&(de=ce[L?p:N],de&&(K=Promise.resolve(de(r,jn(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}))))),[2,K.then(function(ke){if(ke===void 0&&(ke=$),e.directives&&e.directives.forEach(function(Ce){Ce.name.value==="export"&&Ce.arguments&&Ce.arguments.forEach(function(Pe){Pe.name.value==="as"&&Pe.value.kind==="StringValue"&&(i.exportedVariables[Pe.value.value]=ke)})}),!e.selectionSet||ke==null)return ke;if(Array.isArray(ke))return we.resolveSubSelectedArray(e,ke,i);if(e.selectionSet)return we.resolveSelectionSet(e.selectionSet,ke,i)})]})})},t.prototype.resolveSubSelectedArray=function(e,r,i){var o=this;return Promise.all(r.map(function(p){if(p===null)return null;if(Array.isArray(p))return o.resolveSubSelectedArray(e,p,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,p,i)}))},t}();function ja(t){var e=new Set,r=null;return new Ci(function(i){return e.add(i),r=r||t.subscribe({next:function(o){e.forEach(function(p){return p.next&&p.next(o)})},error:function(o){e.forEach(function(p){return p.error&&p.error(o)})},complete:function(){e.forEach(function(o){return o.complete&&o.complete()})}}),function(){e.delete(i)&&!e.size&&r&&(r.unsubscribe(),r=null)}})}function Oc(t,e){return new Ci(function(r){var i=r.next,o=r.error,p=r.complete,N=0,L=!1,$={next:function(re){++N,new Promise(function(ce){ce(e(re))}).then(function(ce){--N,i&&i.call(r,ce),L&&$.complete()},function(ce){--N,o&&o.call(r,ce)})},error:function(re){o&&o.call(r,re)},complete:function(){L=!0,N||p&&p.call(r)}},K=t.subscribe($);return function(){return K.unsubscribe()}})}var Bc=Object.prototype.hasOwnProperty,Lc=function(){function t(e){var r=e.link,i=e.queryDeduplication,o=i===void 0?!1:i,p=e.store,N=e.onBroadcast,L=N===void 0?function(){}:N,$=e.ssrMode,K=$===void 0?!1:$,re=e.clientAwareness,ce=re===void 0?{}:re,de=e.localState,we=e.assumeImmutableResults;this.mutationStore=new Ic,this.queryStore=new Dc,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(Jn?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=r,this.queryDeduplication=o,this.dataStore=p,this.onBroadcast=L,this.clientAwareness=ce,this.localState=de||new Va({cache:p.getCache()}),this.ssrMode=K,this.assumeImmutableResults=!!we}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,i){e.stopQueryNoBroadcast(i)}),this.fetchQueryRejectFns.forEach(function(r){r(new Dt(8))})},t.prototype.mutate=function(e){var r=e.mutation,i=e.variables,o=e.optimisticResponse,p=e.updateQueries,N=e.refetchQueries,L=N===void 0?[]:N,$=e.awaitRefetchQueries,K=$===void 0?!1:$,re=e.update,ce=e.errorPolicy,de=ce===void 0?"none":ce,we=e.fetchPolicy,Re=e.context,ke=Re===void 0?{}:Re;return Br(this,void 0,void 0,function(){var Ce,Pe,Le,He=this;return Lr(this,function(Ue){switch(Ue.label){case 0:return dt(r,9),dt(!we||we==="no-cache",10),Ce=this.generateQueryId(),r=this.transform(r).document,this.setQuery(Ce,function(){return{document:r}}),i=this.getVariables(r,i),this.transform(r).hasClientExports?[4,this.localState.addExportedVariables(r,i,ke)]:[3,2];case 1:i=Ue.sent(),Ue.label=2;case 2:return Pe=function(){var ut={};return p&&He.queries.forEach(function(kt,wt){var Mt=kt.observableQuery;if(Mt){var bt=Mt.queryName;bt&&Bc.call(p,bt)&&(ut[wt]={updater:p[bt],query:He.queryStore.get(wt)})}}),ut},this.mutationStore.initMutation(Ce,r,i),this.dataStore.markMutationInit({mutationId:Ce,document:r,variables:i,updateQueries:Pe(),update:re,optimisticResponse:o}),this.broadcastQueries(),Le=this,[2,new Promise(function(ut,kt){var wt,Mt;Le.getObservableFromLink(r,De(De({},ke),{optimisticResponse:o}),i,!1).subscribe({next:function(bt){if(zr(bt)&&de==="none"){Mt=new qr({graphQLErrors:bt.errors});return}Le.mutationStore.markMutationResult(Ce),we!=="no-cache"&&Le.dataStore.markMutationResult({mutationId:Ce,result:bt,document:r,variables:i,updateQueries:Pe(),update:re}),wt=bt},error:function(bt){Le.mutationStore.markMutationError(Ce,bt),Le.dataStore.markMutationComplete({mutationId:Ce,optimisticResponse:o}),Le.broadcastQueries(),Le.setQuery(Ce,function(){return{document:null}}),kt(new qr({networkError:bt}))},complete:function(){if(Mt&&Le.mutationStore.markMutationError(Ce,Mt),Le.dataStore.markMutationComplete({mutationId:Ce,optimisticResponse:o}),Le.broadcastQueries(),Mt){kt(Mt);return}typeof L=="function"&&(L=L(wt));var bt=[];ai(L)&&L.forEach(function(Vr){if(typeof Vr=="string")Le.queries.forEach(function(gr){var qt=gr.observableQuery;qt&&qt.queryName===Vr&&bt.push(qt.refetch())});else{var Ki={query:Vr.query,variables:Vr.variables,fetchPolicy:"network-only"};Vr.context&&(Ki.context=Vr.context),bt.push(Le.query(Ki))}}),Promise.all(K?bt:[]).then(function(){Le.setQuery(Ce,function(){return{document:null}}),de==="ignore"&&wt&&zr(wt)&&delete wt.errors,ut(wt)})}})})]}})})},t.prototype.fetchQuery=function(e,r,i,o){return Br(this,void 0,void 0,function(){var p,N,L,$,K,re,ce,de,we,Re,ke,Ce,Pe,Le,He,Ue,ut,kt,wt=this;return Lr(this,function(Mt){switch(Mt.label){case 0:return p=r.metadata,N=p===void 0?null:p,L=r.fetchPolicy,$=L===void 0?"cache-first":L,K=r.context,re=K===void 0?{}:K,ce=this.transform(r.query).document,de=this.getVariables(ce,r.variables),this.transform(ce).hasClientExports?[4,this.localState.addExportedVariables(ce,de,re)]:[3,2];case 1:de=Mt.sent(),Mt.label=2;case 2:if(r=De(De({},r),{variables:de}),Re=$==="network-only"||$==="no-cache",ke=Re,Re||(Ce=this.dataStore.getCache().diff({query:ce,variables:de,returnPartialData:!0,optimistic:!1}),Pe=Ce.complete,Le=Ce.result,ke=!Pe||$==="cache-and-network",we=Le),He=ke&&$!=="cache-only"&&$!=="standby",nn(["live"],ce)&&(He=!0),Ue=this.idCounter++,ut=$!=="no-cache"?this.updateQueryWatch(e,ce,r):void 0,this.setQuery(e,function(){return{document:ce,lastRequestId:Ue,invalidated:!0,cancel:ut}}),this.invalidate(o),this.queryStore.initQuery({queryId:e,document:ce,storePreviousVariables:He,variables:de,isPoll:i===Wr.poll,isRefetch:i===Wr.refetch,metadata:N,fetchMoreForQueryId:o}),this.broadcastQueries(),He){if(kt=this.fetchRequest({requestId:Ue,queryId:e,document:ce,options:r,fetchMoreForQueryId:o}).catch(function(bt){throw Tc(bt)?bt:(Ue>=wt.getQuery(e).lastRequestId&&(wt.queryStore.markQueryError(e,bt,o),wt.invalidate(e),wt.invalidate(o),wt.broadcastQueries()),new qr({networkError:bt}))}),$!=="cache-and-network")return[2,kt];kt.catch(function(){})}return this.queryStore.markQueryResultClient(e,!He),this.invalidate(e),this.invalidate(o),this.transform(ce).hasForcedResolvers?[2,this.localState.runResolvers({document:ce,remoteResult:{data:we},context:re,variables:de,onlyRunForcedResolvers:!0}).then(function(bt){return wt.markQueryResult(e,bt,r,o),wt.broadcastQueries(),bt})]:(this.broadcastQueries(),[2,{data:we}])}})})},t.prototype.markQueryResult=function(e,r,i,o){var p=i.fetchPolicy,N=i.variables,L=i.errorPolicy;p==="no-cache"?this.setQuery(e,function(){return{newData:{result:r.data,complete:!0}}}):this.dataStore.markQueryResult(r,this.getQuery(e).document,N,o,L==="ignore"||L==="all")},t.prototype.queryListenerForObserver=function(e,r,i){var o=this;function p(N,L){if(i[N])try{i[N](L)}catch($){}}return function(N,L){if(o.invalidate(e,!1),!!N){var $=o.getQuery(e),K=$.observableQuery,re=$.document,ce=K?K.options.fetchPolicy:r.fetchPolicy;if(ce!=="standby"){var de=Ha(N.networkStatus),we=K&&K.getLastResult(),Re=!!(we&&we.networkStatus!==N.networkStatus),ke=r.returnPartialData||!L&&N.previousVariables||Re&&r.notifyOnNetworkStatusChange||ce==="cache-only"||ce==="cache-and-network";if(!(de&&!ke)){var Ce=ai(N.graphQLErrors),Pe=K&&K.options.errorPolicy||r.errorPolicy||"none";if(Pe==="none"&&Ce||N.networkError)return p("error",new qr({graphQLErrors:N.graphQLErrors,networkError:N.networkError}));try{var Le=void 0,He=void 0;if(L)ce!=="no-cache"&&ce!=="network-only"&&o.setQuery(e,function(){return{newData:null}}),Le=L.result,He=!L.complete;else{var Ue=K&&K.getLastError(),ut=Pe!=="none"&&(Ue&&Ue.graphQLErrors)!==N.graphQLErrors;if(we&&we.data&&!ut)Le=we.data,He=!1;else{var kt=o.dataStore.getCache().diff({query:re,variables:N.previousVariables||N.variables,returnPartialData:!0,optimistic:!0});Le=kt.result,He=!kt.complete}}var wt=He&&!(r.returnPartialData||ce==="cache-only"),Mt={data:wt?we&&we.data:Le,loading:de,networkStatus:N.networkStatus,stale:wt};Pe==="all"&&Ce&&(Mt.errors=N.graphQLErrors),p("next",Mt)}catch(bt){p("error",new qr({networkError:bt}))}}}}}},t.prototype.transform=function(e){var r=this.transformCache;if(!r.has(e)){var i=this.dataStore.getCache(),o=i.transformDocument(e),p=oc(i.transformForLink(o)),N=this.localState.clientQuery(o),L=this.localState.serverQuery(p),$={document:o,hasClientExports:Xl(o),hasForcedResolvers:this.localState.shouldForceResolvers(o),clientQuery:N,serverQuery:L,defaultVars:Yn(si(o))},K=function(re){re&&!r.has(re)&&r.set(re,$)};K(e),K(o),K(N),K(L)}return r.get(e)},t.prototype.getVariables=function(e,r){return De(De({},this.transform(e).defaultVars),r)},t.prototype.watchQuery=function(e,r){r===void 0&&(r=!0),dt(e.fetchPolicy!=="standby",11),e.variables=this.getVariables(e.query,e.variables),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var i=De({},e);return new Pc({queryManager:this,options:i,shouldSubscribe:r})},t.prototype.query=function(e){var r=this;return dt(e.query,12),dt(e.query.kind==="Document",13),dt(!e.returnPartialData,14),dt(!e.pollInterval,15),new Promise(function(i,o){var p=r.watchQuery(e,!1);r.fetchQueryRejectFns.set("query:"+p.queryId,o),p.result().then(i,o).then(function(){return r.fetchQueryRejectFns.delete("query:"+p.queryId)})})},t.prototype.generateQueryId=function(){return String(this.idCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},t.prototype.addQueryListener=function(e,r){this.setQuery(e,function(i){var o=i.listeners;return o.add(r),{invalidated:!1}})},t.prototype.updateQueryWatch=function(e,r,i){var o=this,p=this.getQuery(e).cancel;p&&p();var N=function(){var L=null,$=o.getQuery(e).observableQuery;if($){var K=$.getLastResult();K&&(L=K.data)}return L};return this.dataStore.getCache().watch({query:r,variables:i.variables,optimistic:!0,previousResult:N,callback:function(L){o.setQuery(e,function(){return{invalidated:!0,newData:L}})}})},t.prototype.addObservableQuery=function(e,r){this.setQuery(e,function(){return{observableQuery:r}})},t.prototype.removeObservableQuery=function(e){var r=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),r&&r()},t.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(r){r(new Dt(16))});var e=[];return this.queries.forEach(function(r,i){var o=r.observableQuery;o&&e.push(i)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},t.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var i=[];return this.queries.forEach(function(o,p){var N=o.observableQuery;if(N){var L=N.options.fetchPolicy;N.resetLastResults(),L!=="cache-only"&&(e||L!=="standby")&&i.push(N.refetch()),r.setQuery(p,function(){return{newData:null}}),r.invalidate(p)}}),this.broadcastQueries(),Promise.all(i)},t.prototype.observeQuery=function(e,r,i){return this.addQueryListener(e,this.queryListenerForObserver(e,r,i)),this.fetchQuery(e,r)},t.prototype.startQuery=function(e,r,i){return this.addQueryListener(e,i),this.fetchQuery(e,r).catch(function(){}),e},t.prototype.startGraphQLSubscription=function(e){var r=this,i=e.query,o=e.fetchPolicy,p=e.variables;i=this.transform(i).document,p=this.getVariables(i,p);var N=function($){return r.getObservableFromLink(i,{},$,!1).map(function(K){if((!o||o!=="no-cache")&&(r.dataStore.markSubscriptionResult(K,i,$),r.broadcastQueries()),zr(K))throw new qr({graphQLErrors:K.errors});return K})};if(this.transform(i).hasClientExports){var L=this.localState.addExportedVariables(i,p).then(N);return new Ci(function($){var K=null;return L.then(function(re){return K=re.subscribe($)},$.error),function(){return K&&K.unsubscribe()}})}return N(p)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(r){return r.unsubscribe()}),this.queries.delete(e)},t.prototype.getCurrentQueryResult=function(e,r){r===void 0&&(r=!0);var i=e.options,o=i.variables,p=i.query,N=i.fetchPolicy,L=i.returnPartialData,$=e.getLastResult(),K=this.getQuery(e.queryId).newData;if(K&&K.complete)return{data:K.result,partial:!1};if(N==="no-cache"||N==="network-only")return{data:void 0,partial:!1};var re=this.dataStore.getCache().diff({query:p,variables:o,previousResult:$?$.data:void 0,returnPartialData:!0,optimistic:r}),ce=re.result,de=re.complete;return{data:de||L?ce:void 0,partial:!de}},t.prototype.getQueryWithPreviousResult=function(e){var r;if(typeof e=="string"){var i=this.getQuery(e).observableQuery;dt(i,17),r=i}else r=e;var o=r.options,p=o.variables,N=o.query;return{previousResult:this.getCurrentQueryResult(r,!1).data,variables:p,document:N}},t.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(r,i){r.invalidated&&r.listeners.forEach(function(o){o&&o(e.queryStore.get(i),r.newData)})})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,i,o){var p=this;o===void 0&&(o=this.queryDeduplication);var N,L=this.transform(e).serverQuery;if(L){var $=this,K=$.inFlightLinkObservables,re=$.link,ce={query:L,variables:i,operationName:Qn(L)||void 0,context:this.prepareContext(De(De({},r),{forceFetch:!o}))};if(r=ce.context,o){var de=K.get(L)||new Map;K.set(L,de);var we=JSON.stringify(i);if(N=de.get(we),!N){de.set(we,N=ja(ln(re,ce)));var Re=function(){de.delete(we),de.size||K.delete(L),ke.unsubscribe()},ke=N.subscribe({next:Re,error:Re,complete:Re})}}else N=ja(ln(re,ce))}else N=Ci.of({data:{}}),r=this.prepareContext(r);var Ce=this.transform(e).clientQuery;return Ce&&(N=Oc(N,function(Pe){return p.localState.runResolvers({document:Ce,remoteResult:Pe,context:r,variables:i})})),N},t.prototype.fetchRequest=function(e){var r=this,i=e.requestId,o=e.queryId,p=e.document,N=e.options,L=e.fetchMoreForQueryId,$=N.variables,K=N.errorPolicy,re=K===void 0?"none":K,ce=N.fetchPolicy,de,we;return new Promise(function(Re,ke){var Ce=r.getObservableFromLink(p,N.context,$),Pe="fetchRequest:"+o;r.fetchQueryRejectFns.set(Pe,ke);var Le=function(){r.fetchQueryRejectFns.delete(Pe),r.setQuery(o,function(Ue){var ut=Ue.subscriptions;ut.delete(He)})},He=Ce.map(function(Ue){if(i>=r.getQuery(o).lastRequestId&&(r.markQueryResult(o,Ue,N,L),r.queryStore.markQueryResult(o,Ue,L),r.invalidate(o),r.invalidate(L),r.broadcastQueries()),re==="none"&&ai(Ue.errors))return ke(new qr({graphQLErrors:Ue.errors}));if(re==="all"&&(we=Ue.errors),L||ce==="no-cache")de=Ue.data;else{var ut=r.dataStore.getCache().diff({variables:$,query:p,optimistic:!1,returnPartialData:!0}),kt=ut.result,wt=ut.complete;(wt||N.returnPartialData)&&(de=kt)}}).subscribe({error:function(Ue){Le(),ke(Ue)},complete:function(){Le(),Re({data:de,errors:we,loading:!1,networkStatus:St.ready,stale:!1})}});r.setQuery(o,function(Ue){var ut=Ue.subscriptions;ut.add(He)})})},t.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},t.prototype.setQuery=function(e,r){var i=this.getQuery(e),o=De(De({},i),r(i));this.queries.set(e,o)},t.prototype.invalidate=function(e,r){r===void 0&&(r=!0),e&&this.setQuery(e,function(){return{invalidated:r}})},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return De(De({},r),{clientAwareness:this.clientAwareness})},t.prototype.checkInFlight=function(e){var r=this.queryStore.get(e);return r&&r.networkStatus!==St.ready&&r.networkStatus!==St.error},t.prototype.startPollingQuery=function(e,r,i){var o=this,p=e.pollInterval;if(dt(p,18),!this.ssrMode){var N=this.pollingInfoByQueryId.get(r);N||this.pollingInfoByQueryId.set(r,N={}),N.interval=p,N.options=De(De({},e),{fetchPolicy:"network-only"});var L=function(){var K=o.pollingInfoByQueryId.get(r);K&&(o.checkInFlight(r)?$():o.fetchQuery(r,K.options,Wr.poll).then($,$))},$=function(){var K=o.pollingInfoByQueryId.get(r);K&&(clearTimeout(K.timeout),K.timeout=setTimeout(L,K.interval))};i&&this.addQueryListener(r,i),$()}return r},t.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},t}(),Uc=function(){function t(e){this.cache=e}return t.prototype.getCache=function(){return this.cache},t.prototype.markQueryResult=function(e,r,i,o,p){p===void 0&&(p=!1);var N=!zr(e);p&&zr(e)&&e.data&&(N=!0),!o&&N&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:r,variables:i})},t.prototype.markSubscriptionResult=function(e,r,i){zr(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:r,variables:i})},t.prototype.markMutationInit=function(e){var r=this;if(e.optimisticResponse){var i;typeof e.optimisticResponse=="function"?i=e.optimisticResponse(e.variables):i=e.optimisticResponse,this.cache.recordOptimisticTransaction(function(o){var p=r.cache;r.cache=o;try{r.markMutationResult({mutationId:e.mutationId,result:{data:i},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{r.cache=p}},e.mutationId)}},t.prototype.markMutationResult=function(e){var r=this;if(!zr(e.result)){var i=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],o=e.updateQueries;o&&Object.keys(o).forEach(function(p){var N=o[p],L=N.query,$=N.updater,K=r.cache.diff({query:L.document,variables:L.variables,returnPartialData:!0,optimistic:!1}),re=K.result,ce=K.complete;if(ce){var de=rs(function(){return $(re,{mutationResult:e.result,queryName:Qn(L.document)||void 0,queryVariables:L.variables})});de&&i.push({result:de,dataId:"ROOT_QUERY",query:L.document,variables:L.variables})}}),this.cache.performTransaction(function(p){i.forEach(function(L){return p.write(L)});var N=e.update;N&&rs(function(){return N(p,e.result)})})}},t.prototype.markMutationComplete=function(e){var r=e.mutationId,i=e.optimisticResponse;i&&this.cache.removeOptimistic(r)},t.prototype.markUpdateQueryResult=function(e,r,i){this.cache.write({result:i,dataId:"ROOT_QUERY",variables:r,query:e})},t.prototype.reset=function(){return this.cache.reset()},t}(),qc="2.6.10",$c=!1,Hc=function(){function t(e){var r=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=e.cache,o=e.ssrMode,p=o===void 0?!1:o,N=e.ssrForceFetchDelay,L=N===void 0?0:N,$=e.connectToDevTools,K=e.queryDeduplication,re=K===void 0?!0:K,ce=e.defaultOptions,de=e.assumeImmutableResults,we=de===void 0?!1:de,Re=e.resolvers,ke=e.typeDefs,Ce=e.fragmentMatcher,Pe=e.name,Le=e.version,He=e.link;if(!He&&Re&&(He=dr.empty()),!He||!i)throw new Dt(4);this.link=He,this.cache=i,this.store=new Uc(i),this.disableNetworkFetches=p||L>0,this.queryDeduplication=re,this.defaultOptions=ce||{},this.typeDefs=ke,L&&setTimeout(function(){return r.disableNetworkFetches=!1},L),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var Ue=!1;(typeof $=="undefined"?Ue:$&&typeof window!="undefined")&&(window.__APOLLO_CLIENT__=this),this.version=qc,this.localState=new Va({cache:i,client:this,resolvers:Re,fragmentMatcher:Ce}),this.queryManager=new Lc({link:this.link,store:this.store,queryDeduplication:re,ssrMode:p,clientAwareness:{name:Pe,version:Le},localState:this.localState,assumeImmutableResults:we,onBroadcast:function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.queryStore.getStore(),mutations:r.queryManager.mutationStore.getStore()},dataWithOptimisticResults:r.cache.extract(!0)})}})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=De(De({},this.defaultOptions.watchQuery),e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=De(De({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=De(De({},this.defaultOptions.query),e)),dt(e.fetchPolicy!=="cache-and-network",5),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=De(De({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=De(De({},this.defaultOptions.mutate),e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),r},t.prototype.writeData=function(e){var r=this.cache.writeData(e);return this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return ln(this.link,e)},t.prototype.initQueryManager=function(){return this.queryManager},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(i){return i!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t}();const Mm=null;function Gc(t){var e={kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:cn(t)},r={kind:"Document",definitions:[e]};return r}function Vc(t,e){var r={kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:e||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:cn(t)},i={kind:"Document",definitions:[r]};return i}function cn(t){if(typeof t=="number"||typeof t=="boolean"||typeof t=="string"||typeof t=="undefined"||t===null)return null;if(Array.isArray(t))return cn(t[0]);var e=[];Object.keys(t).forEach(function(i){var o=cn(t[i]),p={kind:"Field",name:{kind:"Name",value:i},selectionSet:o||void 0};e.push(p)});var r={kind:"SelectionSet",selections:e};return r}var jc={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},zc=function(){function t(){}return t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.read({query:e.query,variables:e.variables,optimistic:r})},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.read({query:Ra(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:r})},t.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},t.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:Ra(e.fragment,e.fragmentName)})},t.prototype.writeData=function(e){var r=e.id,i=e.data;if(typeof r!="undefined"){var o=null;try{o=this.read({rootId:r,optimistic:!1,query:jc})}catch(L){}var p=o&&o.__typename||"__ClientData",N=Object.assign({__typename:p},i);this.writeFragment({id:r,fragment:Vc(N,p),data:N})}else this.writeQuery({query:Gc(i),data:i})},t}(),za;(function(t){})(za||(za={}));var Ft=null,Wa={},Wc=1,Qc=function(){return function(){function t(){this.id=["slot",Wc++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Ft;e;e=e.parent)if(this.id in e.slots){var r=e.slots[this.id];if(r===Wa)break;return e!==Ft&&(Ft.slots[this.id]=r),!0}return Ft&&(Ft.slots[this.id]=Wa),!1},t.prototype.getValue=function(){if(this.hasValue())return Ft.slots[this.id]},t.prototype.withValue=function(e,r,i,o){var p,N=(p={__proto__:null},p[this.id]=e,p),L=Ft;Ft={parent:L,slots:N};try{return r.apply(o,i)}finally{Ft=L}},t.bind=function(e){var r=Ft;return function(){var i=Ft;try{return Ft=r,e.apply(this,arguments)}finally{Ft=i}}},t.noContext=function(e,r,i){if(Ft){var o=Ft;try{return Ft=null,e.apply(i,r)}finally{Ft=o}}else return e.apply(i,r)},t}()},as="@wry/context:Slot",os=Array,us=os[as]||function(){var t=Qc();try{Object.defineProperty(os,as,{value:os[as]=t,enumerable:!1,writable:!1,configurable:!1})}finally{return t}}(),ls=us.bind,Kc=us.noContext;function Tm(t,e){return setTimeout(ls(t),e)}function Cm(t){return function(){var e=t.apply(this,arguments),r=ls(e.next),i=ls(e.throw);return new Promise(function(o,p){function N(K,re){try{var ce=K.call(e,re)}catch(we){return p(we)}var de=ce.done?o:L;Yc(ce.value)?ce.value.then(de,ce.done?p:$):de(ce.value)}var L=function(K){return N(r,K)},$=function(K){return N(i,K)};L()})}}function Yc(t){return t&&typeof t.then=="function"}var Qa=null;function Nm(t){if(Qa.indexOf(t)<0){var e=function(r,i){var o=r[i];r[i]=function(){return Kc(o,arguments,this)}};e(t,"yield"),e(t.prototype,"run"),e(t.prototype,"throwInto"),Qa.push(t)}return t}function Zc(){}var Jc=function(){function t(e,r){e===void 0&&(e=Infinity),r===void 0&&(r=Zc),this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var r=this.getEntry(e);return r&&r.value},t.prototype.getEntry=function(e){var r=this.map.get(e);if(r&&r!==this.newest){var i=r.older,o=r.newer;o&&(o.older=i),i&&(i.newer=o),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=o)}return r},t.prototype.set=function(e,r){var i=this.getEntry(e);return i?i.value=r:(i={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(e,i),i.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1},t}(),dn=new us,Xc=[],cs=[],ed=100;function oi(t,e){if(!t)throw new Error(e||"assertion failure")}function td(t,e){var r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function Ka(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function rd(t){return t.slice(0)}var id=function(){function t(e,r){this.fn=e,this.args=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(oi(!this.recomputing,"already recomputing"),!(!nd(this)&&ds(this)))return ui(this)?sd(this):Ka(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Ya(this),fs(this))},t.prototype.dispose=function(){var e=this;to(this).forEach(ds),fs(this),this.parents.forEach(function(r){r.setDirty(),ro(r,e)})},t.count=0,t}();function nd(t){var e=dn.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),ui(t)?Ja(e,t):Xa(e,t),e}function sd(t){var e=to(t);return dn.withValue(t,ad,[t]),ud(t)&&od(t),e.forEach(ds),Ka(t.value)}function ad(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function ui(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function od(t){t.dirty=!1,!ui(t)&&Za(t)}function Ya(t){t.parents.forEach(function(e){return Ja(e,t)})}function Za(t){t.parents.forEach(function(e){return Xa(e,t)})}function Ja(t,e){if(oi(t.childValues.has(e)),oi(ui(e)),!t.dirtyChildren)t.dirtyChildren=cs.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),Ya(t)}function Xa(t,e){oi(t.childValues.has(e)),oi(!ui(e));var r=t.childValues.get(e);r.length===0?t.childValues.set(e,rd(e.value)):td(r,e.value)||t.setDirty(),eo(t,e),!ui(t)&&Za(t)}function eo(t,e){var r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(cs.length<ed&&cs.push(r),t.dirtyChildren=null))}function ds(t){return t.parents.size===0&&typeof t.reportOrphan=="function"&&t.reportOrphan()===!0}function to(t){var e=Xc;return t.childValues.size>0&&(e=[],t.childValues.forEach(function(r,i){ro(t,i),e.push(i)})),oi(t.dirtyChildren===null),e}function ro(t,e){e.parents.delete(t),t.childValues.delete(e),eo(t,e)}function ud(t){if(typeof t.subscribe=="function")try{fs(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function fs(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var hs=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var r=this;return e.forEach(function(i){return r=r.getChildTrie(i)}),r.data||(r.data=Object.create(null))},t.prototype.getChildTrie=function(e){var r=this.weakness&&ld(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=r.get(e);return i||r.set(e,i=new t(this.weakness)),i},t}();function ld(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var cd=new hs(typeof WeakMap=="function");function dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cd.lookupArray(t)}var ps=new Set;function Ni(t,e){e===void 0&&(e=Object.create(null));var r=new Jc(e.max||Math.pow(2,16),function(N){return N.dispose()}),i=!!e.disposable,o=e.makeCacheKey||dd;function p(){if(!(i&&!dn.hasValue())){var N=o.apply(null,arguments);if(N===void 0)return t.apply(null,arguments);var L=Array.prototype.slice.call(arguments),$=r.get(N);$?$.args=L:($=new id(t,L),r.set(N,$),$.subscribe=e.subscribe,i&&($.reportOrphan=function(){return r.delete(N)}));var K=$.recompute();return r.set(N,$),ps.add(r),dn.hasValue()||(ps.forEach(function(re){return re.clean()}),ps.clear()),i?void 0:K}}return p.dirty=function(){var N=o.apply(null,arguments),L=N!==void 0&&r.get(N);L&&L.setDirty()},p}var io=!1;function no(){var t=!io;return ts()||(io=!0),t}var fd=function(){function t(){}return t.prototype.ensureReady=function(){return Promise.resolve()},t.prototype.canBypassInit=function(){return!0},t.prototype.match=function(e,r,i){var o=i.store.get(e.id),p=e.id==="ROOT_QUERY";if(!o)return p;var N=o.__typename,L=N===void 0?p&&"Query":N;return L&&L===r?!0:(no(),"heuristic")},t}(),Pm=function(){function t(e){e&&e.introspectionQueryResultData?(this.possibleTypesMap=this.parseIntrospectionResult(e.introspectionQueryResultData),this.isReady=!0):this.isReady=!1,this.match=this.match.bind(this)}return t.prototype.match=function(e,r,i){dt(this.isReady,1);var o=i.store.get(e.id),p=e.id==="ROOT_QUERY";if(!o)return p;var N=o.__typename,L=N===void 0?p&&"Query":N;if(dt(L,2),L===r)return!0;var $=this.possibleTypesMap[r];return!!(L&&$&&$.indexOf(L)>-1)},t.prototype.parseIntrospectionResult=function(e){var r={};return e.__schema.types.forEach(function(i){(i.kind==="UNION"||i.kind==="INTERFACE")&&(r[i.name]=i.possibleTypes.map(function(o){return o.name}))}),r},t}(),so=Object.prototype.hasOwnProperty,li=function(){function t(e){var r=this;e===void 0&&(e=Object.create(null)),this.data=e,this.depend=Ni(function(i){return r.data[i]},{disposable:!0,makeCacheKey:function(i){return i}})}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.depend(e),this.data[e]},t.prototype.set=function(e,r){var i=this.data[e];r!==i&&(this.data[e]=r,this.depend.dirty(e))},t.prototype.delete=function(e){so.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},t.prototype.clear=function(){this.replace(null)},t.prototype.replace=function(e){var r=this;e?(Object.keys(e).forEach(function(i){r.set(i,e[i])}),Object.keys(this.data).forEach(function(i){so.call(e,i)||r.delete(i)})):Object.keys(this.data).forEach(function(i){r.delete(i)})},t}();function ao(t){return new li(t)}var hd=function(){function t(e){var r=this,i=e===void 0?{}:e,o=i.cacheKeyRoot,p=o===void 0?new hs(Jn):o,N=i.freezeResults,L=N===void 0?!1:N,$=this,K=$.executeStoreQuery,re=$.executeSelectionSet,ce=$.executeSubSelectedArray;this.freezeResults=L,this.executeStoreQuery=Ni(function(de){return K.call(r,de)},{makeCacheKey:function(de){var we=de.query,Re=de.rootValue,ke=de.contextValue,Ce=de.variableValues,Pe=de.fragmentMatcher;if(ke.store instanceof li)return p.lookup(ke.store,we,Pe,JSON.stringify(Ce),Re.id)}}),this.executeSelectionSet=Ni(function(de){return re.call(r,de)},{makeCacheKey:function(de){var we=de.selectionSet,Re=de.rootValue,ke=de.execContext;if(ke.contextValue.store instanceof li)return p.lookup(ke.contextValue.store,we,ke.fragmentMatcher,JSON.stringify(ke.variableValues),Re.id)}}),this.executeSubSelectedArray=Ni(function(de){return ce.call(r,de)},{makeCacheKey:function(de){var we=de.field,Re=de.array,ke=de.execContext;if(ke.contextValue.store instanceof li)return p.lookup(ke.contextValue.store,we,Re,JSON.stringify(ke.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(De(De({},e),{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,i=e.query,o=e.variables,p=e.previousResult,N=e.returnPartialData,L=N===void 0?!0:N,$=e.rootId,K=$===void 0?"ROOT_QUERY":$,re=e.fragmentMatcherFunction,ce=e.config,de=rc(i);o=Wn({},Yn(de),o);var we={store:r,dataIdFromObject:ce&&ce.dataIdFromObject,cacheRedirects:ce&&ce.cacheRedirects||{}},Re=this.executeStoreQuery({query:i,rootValue:{type:"id",id:K,generated:!0,typename:"Query"},contextValue:we,variableValues:o,fragmentMatcher:re}),ke=Re.missing&&Re.missing.length>0;return ke&&!L&&Re.missing.forEach(function(Ce){if(!Ce.tolerable)throw new Dt(8)}),p&&cr(p,Re.result)&&(Re.result=p),{result:Re.result,complete:!ke}},t.prototype.executeStoreQuery=function(e){var r=e.query,i=e.rootValue,o=e.contextValue,p=e.variableValues,N=e.fragmentMatcher,L=N===void 0?pd:N,$=Kn(r),K=sn(r),re=an(K),ce={query:r,fragmentMap:re,contextValue:o,variableValues:p,fragmentMatcher:L};return this.executeSelectionSet({selectionSet:$.selectionSet,rootValue:i,execContext:ce})},t.prototype.executeSelectionSet=function(e){var r=this,i=e.selectionSet,o=e.rootValue,p=e.execContext,N=p.fragmentMap,L=p.contextValue,$=p.variableValues,K={result:null},re=[],ce=L.store.get(o.id),de=ce&&ce.__typename||o.id==="ROOT_QUERY"&&"Query"||void 0;function we(Re){var ke;return Re.missing&&(K.missing=K.missing||[],(ke=K.missing).push.apply(ke,Re.missing)),Re.result}return i.selections.forEach(function(Re){var ke;if(!!zn(Re,$))if(Ur(Re)){var Ce=we(r.executeField(ce,de,Re,p));typeof Ce!="undefined"&&re.push((ke={},ke[Mi(Re)]=Ce,ke))}else{var Pe=void 0;if(en(Re))Pe=Re;else if(Pe=N[Re.name.value],!Pe)throw new Dt(9);var Le=Pe.typeCondition&&Pe.typeCondition.name.value,He=!Le||p.fragmentMatcher(o,Le,L);if(He){var Ue=r.executeSelectionSet({selectionSet:Pe.selectionSet,rootValue:o,execContext:p});He==="heuristic"&&Ue.missing&&(Ue=De(De({},Ue),{missing:Ue.missing.map(function(ut){return De(De({},ut),{tolerable:!0})})})),re.push(we(Ue))}}}),K.result=is(re),this.freezeResults,K},t.prototype.executeField=function(e,r,i,o){var p=o.variableValues,N=o.contextValue,L=i.name.value,$=jn(i,p),K={resultKey:Mi(i),directives:Zl(i,p)},re=md(e,r,L,$,N,K);return Array.isArray(re.result)?this.combineExecResults(re,this.executeSubSelectedArray({field:i,array:re.result,execContext:o})):i.selectionSet?re.result==null?re:this.combineExecResults(re,this.executeSelectionSet({selectionSet:i.selectionSet,rootValue:re.result,execContext:o})):(oo(i,re.result),this.freezeResults,re)},t.prototype.combineExecResults=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i;return e.forEach(function(o){o.missing&&(i=i||[],i.push.apply(i,o.missing))}),{result:e.pop().result,missing:i}},t.prototype.executeSubSelectedArray=function(e){var r=this,i=e.field,o=e.array,p=e.execContext,N;function L($){return $.missing&&(N=N||[],N.push.apply(N,$.missing)),$.result}return o=o.map(function($){return $===null?null:Array.isArray($)?L(r.executeSubSelectedArray({field:i,array:$,execContext:p})):i.selectionSet?L(r.executeSelectionSet({selectionSet:i.selectionSet,rootValue:$,execContext:p})):(oo(i,$),$)}),this.freezeResults,{result:o,missing:N}},t}();function oo(t,e){if(!t.selectionSet&&tn(e))throw new Dt(10)}function pd(){return!0}function Am(t){invariant(isIdValue(t),11)}function md(t,e,r,i,o,p){var N=p.resultKey,L=p.directives,$=r;(i||L)&&($=Sa($,i,L));var K=void 0;if(t&&(K=t[$],typeof K=="undefined"&&o.cacheRedirects&&typeof e=="string")){var re=o.cacheRedirects[e];if(re){var ce=re[r];ce&&(K=ce(t,i,{getCacheKey:function(de){var we=o.dataIdFromObject(de);return we&&rn({id:we,typename:de.__typename})}}))}}return typeof K=="undefined"?{result:K,missing:[{object:t,fieldName:$,tolerable:!1}]}:(Kl(K)&&(K=K.json),{result:K})}var fn=function(){function t(e){e===void 0&&(e=Object.create(null)),this.data=e}return t.prototype.toObject=function(){return this.data},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){this.data[e]=r},t.prototype.delete=function(e){this.data[e]=void 0},t.prototype.clear=function(){this.data=Object.create(null)},t.prototype.replace=function(e){this.data=e||Object.create(null)},t}();function Im(t){return new fn(t)}var vd=function(t){Nr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="WriteError",r}return e}(Error);function gd(t,e){var r=new vd(`Error writing result to store for query:
 `+JSON.stringify(e));return r.message+=`
`+t.message,r.stack=t.stack,r}var bd=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var r=e.query,i=e.result,o=e.store,p=o===void 0?ao():o,N=e.variables,L=e.dataIdFromObject,$=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:i,document:r,store:p,variables:N,dataIdFromObject:L,fragmentMatcherFunction:$})},t.prototype.writeResultToStore=function(e){var r=e.dataId,i=e.result,o=e.document,p=e.store,N=p===void 0?ao():p,L=e.variables,$=e.dataIdFromObject,K=e.fragmentMatcherFunction,re=si(o);try{return this.writeSelectionSetToStore({result:i,dataId:r,selectionSet:re.selectionSet,context:{store:N,processedData:{},variables:Wn({},Yn(re),L),dataIdFromObject:$,fragmentMap:an(sn(o)),fragmentMatcherFunction:K}})}catch(ce){throw gd(ce,o)}},t.prototype.writeSelectionSetToStore=function(e){var r=this,i=e.result,o=e.dataId,p=e.selectionSet,N=e.context,L=N.variables,$=N.store,K=N.fragmentMap;return p.selections.forEach(function(re){var ce;if(!!zn(re,L))if(Ur(re)){var de=Mi(re),we=i[de];if(typeof we!="undefined")r.writeFieldToStore({dataId:o,value:we,field:re,context:N});else{var Re=!1,ke=!1;re.directives&&re.directives.length&&(Re=re.directives.some(function(kt){return kt.name&&kt.name.value==="defer"}),ke=re.directives.some(function(kt){return kt.name&&kt.name.value==="client"})),!Re&&!ke&&N.fragmentMatcherFunction}}else{var Ce=void 0;en(re)?Ce=re:(Ce=(K||{})[re.name.value],dt(Ce,3));var Pe=!0;if(N.fragmentMatcherFunction&&Ce.typeCondition){var Le=o||"self",He=rn({id:Le,typename:void 0}),Ue={store:new fn((ce={},ce[Le]=i,ce)),cacheRedirects:{}},ut=N.fragmentMatcherFunction(He,Ce.typeCondition.name.value,Ue);!Aa()&&ut==="heuristic",Pe=!!ut}Pe&&r.writeSelectionSetToStore({result:i,selectionSet:Ce.selectionSet,dataId:o,context:N})}}),$},t.prototype.writeFieldToStore=function(e){var r,i=e.field,o=e.value,p=e.dataId,N=e.context,L=N.variables,$=N.dataIdFromObject,K=N.store,re,ce,de=Wl(i,L);if(!i.selectionSet||o===null)re=o!=null&&typeof o=="object"?{type:"json",json:o}:o;else if(Array.isArray(o)){var we=p+"."+de;re=this.processArrayValue(o,we,i.selectionSet,N)}else{var Re=p+"."+de,ke=!0;if(ms(Re)||(Re="$"+Re),$){var Ce=$(o);dt(!Ce||!ms(Ce),4),(Ce||typeof Ce=="number"&&Ce===0)&&(Re=Ce,ke=!1)}lo(Re,i,N.processedData)||this.writeSelectionSetToStore({dataId:Re,result:o,selectionSet:i.selectionSet,context:N});var Pe=o.__typename;re=rn({id:Re,typename:Pe},ke),ce=K.get(p);var Le=ce&&ce[de];if(Le!==re&&tn(Le)){var He=Le.typename!==void 0,Ue=Pe!==void 0,ut=He&&Ue&&Le.typename!==Pe;dt(!ke||Le.generated||ut,5),dt(!He||Ue,6),Le.generated&&(ut?ke||K.delete(Le.id):uo(Le.id,re.id,K))}}ce=K.get(p),(!ce||!cr(re,ce[de]))&&K.set(p,De(De({},ce),(r={},r[de]=re,r)))},t.prototype.processArrayValue=function(e,r,i,o){var p=this;return e.map(function(N,L){if(N===null)return null;var $=r+"."+L;if(Array.isArray(N))return p.processArrayValue(N,$,i,o);var K=!0;if(o.dataIdFromObject){var re=o.dataIdFromObject(N);re&&($=re,K=!1)}return lo($,i,o.processedData)||p.writeSelectionSetToStore({dataId:$,result:N,selectionSet:i,context:o}),rn({id:$,typename:N.__typename},K)})},t}();function ms(t){return t[0]==="$"}function uo(t,e,r){if(t===e)return!1;var i=r.get(t),o=r.get(e),p=!1;Object.keys(i).forEach(function(L){var $=i[L],K=o[L];tn($)&&ms($.id)&&tn(K)&&!cr($,K)&&uo($.id,K.id,r)&&(p=!0)}),r.delete(t);var N=De(De({},i),o);return cr(N,o)?p:(r.set(e,N),!0)}function lo(t,e,r){if(!r)return!1;if(r[t]){if(r[t].indexOf(e)>=0)return!0;r[t].push(e)}else r[t]=[e];return!1}var yd={fragmentMatcher:new fd,dataIdFromObject:wd,addTypename:!0,resultCaching:!0,freezeResults:!1};function wd(t){if(t.__typename){if(t.id!==void 0)return t.__typename+":"+t.id;if(t._id!==void 0)return t.__typename+":"+t._id}return null}var _d=Object.prototype.hasOwnProperty,co=function(t){Nr(e,t);function e(r,i,o){var p=t.call(this,Object.create(null))||this;return p.optimisticId=r,p.parent=i,p.transaction=o,p}return e.prototype.toObject=function(){return De(De({},this.parent.toObject()),this.data)},e.prototype.get=function(r){return _d.call(this.data,r)?this.data[r]:this.parent.get(r)},e}(fn),kd=function(t){Nr(e,t);function e(r){r===void 0&&(r={});var i=t.call(this)||this;i.watches=new Set,i.typenameDocumentCache=new Map,i.cacheKeyRoot=new hs(Jn),i.silenceBroadcast=!1,i.config=De(De({},yd),r),i.config.customResolvers&&(i.config.cacheRedirects=i.config.customResolvers),i.config.cacheResolvers&&(i.config.cacheRedirects=i.config.cacheResolvers),i.addTypename=!!i.config.addTypename,i.data=i.config.resultCaching?new li:new fn,i.optimisticData=i.data,i.storeWriter=new bd,i.storeReader=new hd({cacheKeyRoot:i.cacheKeyRoot,freezeResults:r.freezeResults});var o=i,p=o.maybeBroadcastWatch;return i.maybeBroadcastWatch=Ni(function(N){return p.call(i,N)},{makeCacheKey:function(N){if(!N.optimistic&&!N.previousResult&&o.data instanceof li)return o.cacheKeyRoot.lookup(N.query,JSON.stringify(N.variables))}}),i}return e.prototype.restore=function(r){return r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).toObject()},e.prototype.read=function(r){if(typeof r.rootId=="string"&&typeof this.data.get(r.rootId)=="undefined")return null;var i=this.config.fragmentMatcher,o=i&&i.match;return this.storeReader.readQueryFromStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,rootId:r.rootId,fragmentMatcherFunction:o,previousResult:r.previousResult,config:this.config})||null},e.prototype.write=function(r){var i=this.config.fragmentMatcher,o=i&&i.match;this.storeWriter.writeResultToStore({dataId:r.dataId,result:r.result,variables:r.variables,document:this.transformDocument(r.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:o}),this.broadcastWatches()},e.prototype.diff=function(r){var i=this.config.fragmentMatcher,o=i&&i.match;return this.storeReader.diffQueryAgainstStore({store:r.optimistic?this.optimisticData:this.data,query:this.transformDocument(r.query),variables:r.variables,returnPartialData:r.returnPartialData,previousResult:r.previousResult,fragmentMatcherFunction:o,config:this.config})},e.prototype.watch=function(r){var i=this;return this.watches.add(r),function(){i.watches.delete(r)}},e.prototype.evict=function(r){throw new Dt(7)},e.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){for(var i=[],o=0,p=this.optimisticData;p instanceof co;)p.optimisticId===r?++o:i.push(p),p=p.parent;if(o>0){for(this.optimisticData=p;i.length>0;){var N=i.pop();this.performTransaction(N.transaction,N.optimisticId)}this.broadcastWatches()}},e.prototype.performTransaction=function(r,i){var o=this,p=o.data,N=o.silenceBroadcast;this.silenceBroadcast=!0,typeof i=="string"&&(this.data=this.optimisticData=new co(i,this.optimisticData,r));try{r(this)}finally{this.silenceBroadcast=N,this.data=p}this.broadcastWatches()},e.prototype.recordOptimisticTransaction=function(r,i){return this.performTransaction(r,i)},e.prototype.transformDocument=function(r){if(this.addTypename){var i=this.typenameDocumentCache.get(r);return i||(i=sc(r),this.typenameDocumentCache.set(r,i),this.typenameDocumentCache.set(i,i)),i}return r},e.prototype.broadcastWatches=function(){var r=this;this.silenceBroadcast||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i)})},e.prototype.maybeBroadcastWatch=function(r){r.callback(this.diff({query:r.query,variables:r.variables,previousResult:r.previousResult&&r.previousResult(),optimistic:r.optimistic}))},e}(zc);function Sd(t){return new dr(function(e,r){var i=ma(e,[]);return new Gt(function(o){var p;return Promise.resolve(i).then(function(N){return t(N,e.getContext())}).then(e.setContext).then(function(){p=r(e).subscribe({next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)})}).catch(o.error.bind(o)),function(){p&&p.unsubscribe()}})})}var Ed=st(3033),Rd={includeQuery:!0,includeExtensions:!1},xd={accept:"*/*","content-type":"application/json"},Md={method:"POST"},Td={http:Rd,headers:xd,options:Md},fo=function(t,e,r){var i=new Error(r);throw i.name="ServerError",i.response=t,i.statusCode=t.status,i.result=e,i},Cd=function(t){return function(e){return e.text().then(function(r){try{return JSON.parse(r)}catch(o){var i=o;return i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=r,Promise.reject(i)}}).then(function(r){return e.status>=300&&fo(e,r,"Response not successful: Received status code "+e.status),!Array.isArray(r)&&!r.hasOwnProperty("data")&&!r.hasOwnProperty("errors")&&fo(e,r,"Server response was missing for query '"+(Array.isArray(t)?t.map(function(i){return i.operationName}):t.operationName)+"'."),r})}},Nd=function(t){if(!t&&typeof fetch=="undefined"){var e="unfetch";throw typeof window=="undefined"&&(e="node-fetch"),new Dt(1)}},Pd=function(){if(typeof AbortController=="undefined")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},Ad=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=De({},e.options,{headers:e.headers,credentials:e.credentials}),p=e.http;r.forEach(function(ce){o=De({},o,ce.options,{headers:De({},o.headers,ce.headers)}),ce.credentials&&(o.credentials=ce.credentials),p=De({},p,ce.http)});var N=t.operationName,L=t.extensions,$=t.variables,K=t.query,re={operationName:N,variables:$};return p.includeExtensions&&(re.extensions=L),p.includeQuery&&(re.query=(0,Ed.S)(K)),{options:o,body:re}},vs=function(t,e){var r;try{r=JSON.stringify(t)}catch(o){var i=new Dt(2);throw i.parseError=o,i}return r},Id=function(t,e){var r=t.getContext(),i=r.uri;return i||(typeof e=="function"?e(t):e||"/graphql")},ho=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,i=t.fetch,o=t.includeExtensions,p=t.useGETForQueries,N=ma(t,["uri","fetch","includeExtensions","useGETForQueries"]);Nd(i),i||(i=fetch);var L={http:{includeExtensions:o},options:N.fetchOptions,credentials:N.credentials,headers:N.headers};return new dr(function($){var K=Id($,r),re=$.getContext(),ce={};if(re.clientAwareness){var de=re.clientAwareness,we=de.name,Re=de.version;we&&(ce["apollographql-client-name"]=we),Re&&(ce["apollographql-client-version"]=Re)}var ke=De({},ce,re.headers),Ce={http:re.http,options:re.fetchOptions,credentials:re.credentials,headers:ke},Pe=Ad($,Td,L,Ce),Le=Pe.options,He=Pe.body,Ue;if(!Le.signal){var ut=Pd(),kt=ut.controller,wt=ut.signal;Ue=kt,Ue&&(Le.signal=wt)}var Mt=function(gr){return gr.kind==="OperationDefinition"&&gr.operation==="mutation"};if(p&&!$.query.definitions.some(Mt)&&(Le.method="GET"),Le.method==="GET"){var bt=Dd(K,He),Vr=bt.newURI,Ki=bt.parseError;if(Ki)return La(Ki);K=Vr}else try{Le.body=vs(He,"Payload")}catch(gr){return La(gr)}return new Gt(function(gr){return i(K,Le).then(function(qt){return $.setContext({response:qt}),qt}).then(Cd($)).then(function(qt){return gr.next(qt),gr.complete(),qt}).catch(function(qt){qt.name!=="AbortError"&&(qt.result&&qt.result.errors&&qt.result.data&&gr.next(qt.result),gr.error(qt))}),function(){Ue&&Ue.abort()}})})};function Dd(t,e){var r=[],i=function(ce,de){r.push(ce+"="+encodeURIComponent(de))};if("query"in e&&i("query",e.query),e.operationName&&i("operationName",e.operationName),e.variables){var o=void 0;try{o=vs(e.variables,"Variables map")}catch(ce){return{parseError:ce}}i("variables",o)}if(e.extensions){var p=void 0;try{p=vs(e.extensions,"Extensions map")}catch(ce){return{parseError:ce}}i("extensions",p)}var N="",L=t,$=t.indexOf("#");$!==-1&&(N=t.substr($),L=t.substr(0,$));var K=L.indexOf("?")===-1?"?":"&",re=L+K+r.join("&")+N;return{newURI:re}}var Dm=function(t){Nr(e,t);function e(r){return t.call(this,ho(r).request)||this}return e}(dr);let Pi;const Fd={};function Od(t){Pi=t.globalState}const po=(t,e)=>{if(!Pi)throw new Error("Persistent store not initialized.");return Pi.get(t+":"+e,Fd)},mo=(t,e,r)=>{if(!Pi)throw new Error("Persistent store not initialized.");return Pi.update(t+":"+e,r)},vo=void 0;var Bd=Object.defineProperty,Qr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Bd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const go="Try again?",Ld="Cancel",bo="Sign in",Ud="Don't show again",yo="prompt for sign in",wo="login",_o=["read:user","user:email","repo"];var ht;(function(t){t.github="github",t["github-enterprise"]="github-enterprise"})(ht||(ht={}));class qd{constructor(e){this._telemetry=e,Qr(this,"_githubAPI"),Qr(this,"_sessionId"),Qr(this,"_githubEnterpriseAPI"),Qr(this,"_enterpriseSessionId"),Qr(this,"_disposables"),Qr(this,"_onDidInitialize",new v.EventEmitter),Qr(this,"onDidInitialize",this._onDidInitialize.event),this._disposables=[],this._disposables.push(v.authentication.onDidChangeSessions(()=>{this.isAuthenticated(ht.github)||this.initialize(ht.github),!this.isAuthenticated(ht["github-enterprise"])&&Di()&&this.initialize(ht["github-enterprise"])}))}async initialize(e){if(e===ht["github-enterprise"]&&!Di()){a.debug("GitHub Enterprise provider selected without URI.","Authentication");return}const r=await v.authentication.getSession(e,_o,{createIfNone:!1});if(r){e===ht.github?this._sessionId=r.id:this._enterpriseSessionId=r.id;const i=await this.createHub(r.accessToken,e);e===ht.github?this._githubAPI=i:this._githubEnterpriseAPI=i,await this.setCurrentUser(i),this._onDidInitialize.fire()}else a.debug(`No GitHub${gs(e)} token found.`,"Authentication")}async reset(){this._githubAPI=void 0,this._githubEnterpriseAPI=void 0,await this.initialize(ht.github),Di()&&await this.initialize(ht["github-enterprise"])}isAuthenticated(e){return e===ht.github?!!this._githubAPI:!!this._githubEnterpriseAPI}getHub(e){return e===ht.github?this._githubAPI:this._githubEnterpriseAPI}async getHubOrLogin(e){var r,i;return e===ht.github?(r=this._githubAPI)!=null?r:await this.login(e):(i=this._githubEnterpriseAPI)!=null?i:await this.login(e)}async showSignInNotification(e){if(po(yo,wo)===!1)return;if(await v.window.showInformationMessage(`In order to use the Pull Requests functionality, you must sign in to GitHub${gs(e)}`,bo,Ud)===bo)return await this.login(e);mo(yo,wo,!1),this._telemetry.sendTelemetryEvent("auth.cancel")}async logout(){this._sessionId&&v.authentication.logout(ht.github,this._sessionId),this._enterpriseSessionId&&v.authentication.logout(ht["github-enterprise"],this._enterpriseSessionId)}async login(e){this._telemetry.sendTelemetryEvent("auth.start");const r=`Error signing in to GitHub${gs(e)}`;let i=!0,o;for(;i;){try{const p=await this.getSessionOrLogin(e);o=await this.createHub(p,e)}catch(p){a.appendLine(`${r}: ${p}`),p instanceof Error&&p.stack&&a.appendLine(p.stack)}o?i=!1:i=await v.window.showErrorMessage(r,go,Ld)===go}return o?(this._githubAPI=o,await this.setCurrentUser(o),this._telemetry.sendTelemetryEvent("auth.success")):this._telemetry.sendTelemetryEvent("auth.fail"),o}isCurrentUser(e){var r,i,o,p;return((i=(r=this._githubAPI)==null?void 0:r.currentUser)==null?void 0:i.login)===e||((p=(o=this._githubEnterpriseAPI)==null?void 0:o.currentUser)==null?void 0:p.login)==e}getCurrentUser(e){const r=this.getHub(e);return(r==null?void 0:r.octokit)&&r.currentUser}async setCurrentUser(e){const r=await e.octokit.users.getAuthenticated({});e.currentUser=r.data}async getSessionOrLogin(e){const r=await v.authentication.getSession(e,_o,{createIfNone:!0});return e===ht.github?this._sessionId=r.id:this._enterpriseSessionId=r.id,r.accessToken}async createHub(e,r){let i="https://api.github.com";if(r===ht["github-enterprise"]){const L=_n();i=`${L.scheme}://${L.authority}/api/v3`}const o=new Al({request:{agent:vo},userAgent:"GitHub VSCode Pull Requests",previews:["shadow-cat-preview"],auth:`${e||""}`,baseUrl:i});if(r===ht["github-enterprise"]){const L=_n();i=`${L.scheme}://${L.authority}/api`}const p=new Hc({link:$d(i,e||""),cache:new kd,defaultOptions:{query:{fetchPolicy:"no-cache"}}}),N={octokit:o,graphql:p};return await this.setCurrentUser(N),N}dispose(){this._disposables.forEach(e=>e.dispose())}}const $d=(t,e)=>Sd((r,{headers:i})=>({headers:{...i,authorization:e?`Bearer ${e}`:"",Accept:"application/vnd.github.shadow-cat-preview+json, application/vnd.github.antiope-preview+json"}})).concat(ho({uri:`${t}/graphql`,fetch:Fn()}));function gs(t){return t===ht.github?"":" Enterprise"}var Hd=Object.defineProperty,ko=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class hn extends Error{constructor(e){super(e);this.message=e,ko(this,"name"),ko(this,"stack")}}class pn{constructor(e,r,i){this.remoteName=e,this.url=r,this.gitProtocol=i}get host(){return this.gitProtocol.host}get owner(){return this.gitProtocol.owner}get repositoryName(){return this.gitProtocol.repositoryName}get normalizedHost(){const e=this.gitProtocol.normalizeUri();return`${e.scheme}://${e.authority}`}get authProviderId(){var e;return this.host===((e=_n())==null?void 0:e.authority)?ht["github-enterprise"]:ht.github}equals(e){return!(this.remoteName!==e.remoteName||this.host!==e.host||this.owner!==e.owner||this.repositoryName!==e.repositoryName)}}function So(t,e,r){if(!e)return null;const i=new rt(e);return r&&i.update({type:r.type}),i.host?new pn(t,e,i):null}function ci(t){return t.state.remotes.map(e=>So(e.name,e.fetchUrl||e.pushUrl)).filter(e=>!!e)}var mn,Gd=new Uint8Array(16);function Vd(){if(!mn&&(mn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!mn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mn(Gd)}const jd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function zd(t){return typeof t=="string"&&jd.test(t)}const Wd=zd;for(var Ot=[],bs=0;bs<256;++bs)Ot.push((bs+256).toString(16).substr(1));function Qd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ot[t[e+0]]+Ot[t[e+1]]+Ot[t[e+2]]+Ot[t[e+3]]+"-"+Ot[t[e+4]]+Ot[t[e+5]]+"-"+Ot[t[e+6]]+Ot[t[e+7]]+"-"+Ot[t[e+8]]+Ot[t[e+9]]+"-"+Ot[t[e+10]]+Ot[t[e+11]]+Ot[t[e+12]]+Ot[t[e+13]]+Ot[t[e+14]]+Ot[t[e+15]]).toLowerCase();if(!Wd(r))throw TypeError("Stringified UUID is invalid");return r}const Kd=Qd;function Yd(t,e,r){t=t||{};var i=t.random||(t.rng||Vd)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=i[o];return e}return Kd(i)}const Eo=Yd;var Zd=Object.defineProperty,Ct=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Zd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const vn=class{constructor(t,e,r,i,o){Ct(this,"commentId"),Ct(this,"id"),Ct(this,"parent"),Ct(this,"body"),Ct(this,"originalBody"),Ct(this,"mode"),Ct(this,"author"),Ct(this,"label"),Ct(this,"commentReactions"),Ct(this,"contextValue"),this.parent=t,this.body=new v.MarkdownString(e),this.mode=v.CommentMode.Preview,this.author={name:i.login,iconPath:i.avatarUrl?v.Uri.parse(`${i.avatarUrl}&s=64`):void 0},this.label=r?"Pending":void 0,this.contextValue="canEdit,canDelete",this.originalBody=o?o._rawComment.body:void 0,this.commentReactions=o?o.reactions:void 0,this.id=vn.idPool++}static is(t){return t.commentId===void 0}startEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof vn&&t.id===this.id&&(t.mode=v.CommentMode.Editing),t))}cancelEdit(){this.parent.comments=this.parent.comments.map(t=>(t instanceof vn&&t.id===this.id&&(t.mode=v.CommentMode.Preview,t.body=t.originalBody||t.body),t))}};let Xt=vn;Ct(Xt,"idPool",0);class Pt{constructor(e,r){Ct(this,"commentId"),Ct(this,"parent"),Ct(this,"body"),Ct(this,"mode"),Ct(this,"author"),Ct(this,"label"),Ct(this,"reactions"),Ct(this,"_rawComment"),Ct(this,"contextValue"),this._rawComment=e,this.commentId=e.id.toString(),this.body=new v.MarkdownString(e.body),this.author={name:e.user.login,iconPath:e.user&&e.user.avatarUrl?v.Uri.parse(e.user.avatarUrl):void 0},df(this,e.reactions),this.label=e.isDraft?"Pending":void 0;const i=[];e.canEdit&&i.push("canEdit"),e.canDelete&&i.push("canDelete"),this.contextValue=i.join(","),this.parent=r}static is(e){return e.commentId!==void 0}startEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Pt&&e.commentId===this.commentId&&(e.mode=v.CommentMode.Editing),e))}cancelEdit(){this.parent.comments=this.parent.comments.map(e=>(e instanceof Pt&&e.commentId===this.commentId&&(e.mode=v.CommentMode.Preview,e.body=e._rawComment.body),e))}}var Jd=Object.defineProperty,Kr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Jd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function ys(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}class Ro{constructor(){Kr(this,"_webview"),Kr(this,"_disposables",[]),Kr(this,"_waitForReady"),Kr(this,"_onIsReady",new v.EventEmitter),Kr(this,"MESSAGE_UNHANDLED","message not handled"),this._waitForReady=new Promise(e=>{const r=this._onIsReady.event(()=>{r.dispose(),e()})})}initialize(){var e;this._disposables.push((e=this._webview)==null?void 0:e.onDidReceiveMessage(async r=>{await this._onDidReceiveMessage(r)},null,this._disposables))}async _onDidReceiveMessage(e){switch(e.command){case"ready":this._onIsReady.fire();return;default:return this.MESSAGE_UNHANDLED}}async _postMessage(e){var r;await this._waitForReady,(r=this._webview)==null||r.postMessage({res:e})}async _replyMessage(e,r){var i;const o={seq:e.req,res:r};(i=this._webview)==null||i.postMessage(o)}async _throwError(e,r){var i;const o={seq:e.req,err:r};(i=this._webview)==null||i.postMessage(o)}dispose(){this._disposables.forEach(e=>e.dispose())}}class xo extends Ro{constructor(){super(...arguments);Kr(this,"viewType"),Kr(this,"_view")}show(){this._view?this._view.show():v.commands.executeCommand(`${this.viewType}.focus`)}}var Xd=Object.defineProperty,Ar=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Xd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Sr=class extends Ro{constructor(t,e,r,i,o=Sr._viewType){super();this._extensionUri=t,Ar(this,"_panel"),Ar(this,"_disposables",[]),Ar(this,"_descriptionNode"),Ar(this,"_item"),Ar(this,"_folderRepositoryManager"),Ar(this,"_scrollPosition",{x:0,y:0}),this._folderRepositoryManager=i,this._panel=v.window.createWebviewPanel(o,r,e,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[v.Uri.joinPath(t,"dist")]}),this._webview=this._panel.webview,super.initialize(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._folderRepositoryManager.onDidChangeActiveIssue(p=>{if(this._folderRepositoryManager&&this._item){const N=this._item.equals(this._folderRepositoryManager.activeIssue);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:N})}},null,this._disposables)}static async createOrShow(t,e,r,i=!1){const o=i?v.ViewColumn.Beside:v.window.activeTextEditor?v.window.activeTextEditor.viewColumn:v.ViewColumn.One;if(Sr.currentPanel)Sr.currentPanel._panel.reveal(o,!0);else{const p=`Issue #${r.number.toString()}`;Sr.currentPanel=new Sr(t,o||v.ViewColumn.Active,p,e)}await Sr.currentPanel.update(e,r)}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}async refreshPanel(){this._panel&&this._panel.visible&&this.update(this._folderRepositoryManager,this._item)}async updateIssue(t){return Promise.all([this._folderRepositoryManager.resolveIssue(t.remote.owner,t.remote.repositoryName,t.number),t.getIssueTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t)]).then(e=>{const[r,i,o]=e;if(!r)throw new Error(`Fail to resolve issue #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=r,this._panel.title=`Pull Request #${t.number.toString()}`,a.debug("pr.initialize",Sr.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:this._item.number,title:this._item.title,url:this._item.html_url,createdAt:this._item.createdAt,body:this._item.body,bodyHTML:this._item.bodyHTML,labels:this._item.item.labels,author:{login:this._item.author.login,name:this._item.author.name,avatarUrl:this._item.userAvatar,url:this._item.author.url},state:this._item.state,events:i,repositoryDefaultBranch:o,canEdit:!0,status:{statuses:[]},isIssue:!0}})}).catch(e=>{v.window.showErrorMessage(U(e))})}async update(t,e){return this._folderRepositoryManager=t,this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updateIssue(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"alert":v.window.showErrorMessage(t.args);return;case"pr.close":return this.close(t);case"pr.comment":return this.createComment(t);case"scroll":this._scrollPosition=t.args;return;case"pr.edit-comment":return this.editComment(t);case"pr.delete-comment":return this.deleteComment(t);case"pr.edit-description":return this.editDescription(t);case"pr.edit-title":return this.editTitle(t);case"pr.refresh":this.refreshPanel();return;case"pr.add-labels":return this.addLabels(t);case"pr.remove-label":return this.removeLabel(t);case"pr.debug":return this.webviewDebug(t);default:return this.MESSAGE_UNHANDLED}}async addLabels(t){try{let e=[];async function r(o,p){return e=(await o.getLabels(p)).filter(L=>!p.item.labels.some($=>$.name===L.name)),e.map(L=>({label:L.name}))}const i=await v.window.showQuickPick(r(this._folderRepositoryManager,this._item),{canPickMany:!0});if(i&&i.length){await this._item.addLabels(i.map(p=>p.label));const o=i.map(p=>e.find(N=>N.name===p.label));this._item.item.labels=this._item.item.labels.concat(...o),this._replyMessage(t,{added:o})}}catch(e){v.window.showErrorMessage(U(e))}}async removeLabel(t){try{await this._item.removeLabel(t.args);const e=this._item.item.labels.findIndex(r=>r.name===t.args);this._item.item.labels.splice(e,1),this._replyMessage(t,{})}catch(e){v.window.showErrorMessage(U(e))}}webviewDebug(t){a.debug(t.args,Sr.ID)}editDescription(t){this._item.edit({body:t.args.text}).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),v.window.showErrorMessage(`Editing description failed: ${U(e)}`)})}editTitle(t){this._item.edit({title:t.args.text}).then(e=>{this._replyMessage(t,{text:e.title})}).catch(e=>{this._throwError(t,e),v.window.showErrorMessage(`Editing title failed: ${U(e)}`)})}editCommentPromise(t,e){return this._item.editIssueComment(t,e)}editComment(t){this.editCommentPromise(t.args.comment,t.args.text).then(e=>{this._replyMessage(t,{body:e.body,bodyHTML:e.bodyHTML})}).catch(e=>{this._throwError(t,e),v.window.showErrorMessage(U(e))})}deleteCommentPromise(t){return this._item.deleteIssueComment(t.id.toString())}deleteComment(t){v.window.showWarningMessage("Are you sure you want to delete this comment?",{modal:!0},"Delete").then(e=>{e==="Delete"&&this.deleteCommentPromise(t.args).then(r=>{this._replyMessage(t,{})}).catch(r=>{this._throwError(t,r),v.window.showErrorMessage(U(r))})})}close(t){v.commands.executeCommand("pr.close",this._item,t.args).then(e=>{e?this._replyMessage(t,{value:e}):this._throwError(t,"Close cancelled")})}createComment(t){this._item.createIssueComment(t.args).then(e=>{this._replyMessage(t,{value:e})})}set _currentPanel(t){Sr.currentPanel=t}dispose(){for(this._currentPanel=void 0,this._panel.dispose();this._disposables.length;){const t=this._disposables.pop();t&&t.dispose()}}getHtmlForWebview(t){const e=ys(),r=v.Uri.joinPath(this._extensionUri,"dist","webview-pr-description.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">

		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Pull Request #${t}</title>
	</head>
	<body class="${process.platform}">
		<div id=app></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}getCurrentTitle(){return this._panel.title}};let gn=Sr;Ar(gn,"ID","PullRequestOverviewPanel"),Ar(gn,"currentPanel"),Ar(gn,"_viewType","IssueOverview");var ef=Object.defineProperty,di=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ef(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function tf(t){return!!t.id&&!!t.milestone}const Er=class extends gn{constructor(t,e,r,i){super(t,e,r,i,Er._viewType);di(this,"_repositoryDefaultBranch"),di(this,"_existingReviewers",[]),di(this,"_changeActivePullRequestListener"),this.registerFolderRepositoryListener(),Ph(o=>{o&&this._item.update(o),this._postMessage({command:"update-state",state:this._item.state})},null,this._disposables),this._disposables.push(i.onDidMergePullRequest(o=>{this._postMessage({command:"update-state",state:ct.Merged})}))}static async createOrShow(t,e,r,i=!1){const o=i?v.ViewColumn.Beside:v.window.activeTextEditor?v.window.activeTextEditor.viewColumn:v.ViewColumn.One;if(Er.currentPanel)Er.currentPanel._panel.reveal(o,!0);else{const p=`Pull Request #${r.number.toString()}`;Er.currentPanel=new Er(t,o||v.ViewColumn.Active,p,e)}await Er.currentPanel.update(e,r)}set _currentPanel(t){Er.currentPanel=t}static refresh(){this.currentPanel&&this.currentPanel.refreshPanel()}static scrollToReview(){this.currentPanel&&this.currentPanel._postMessage({command:"pr.scrollToPendingReview"})}registerFolderRepositoryListener(){this._changeActivePullRequestListener=this._folderRepositoryManager.onDidChangeActivePullRequest(t=>{if(this._folderRepositoryManager&&this._item){const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._postMessage({command:"pr.update-checkout-status",isCurrentlyCheckedOut:e})}})}async updatePullRequest(t){return Promise.all([this._folderRepositoryManager.resolvePullRequest(t.remote.owner,t.remote.repositoryName,t.number),t.getTimelineEvents(),this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(t),t.getStatusChecks(),t.getReviewRequests(),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(t),this._folderRepositoryManager.getBranchNameForPullRequest(t)]).then(e=>{const[r,i,o,p,N,L,$]=e;if(!r)throw new Error(`Fail to resolve Pull Request #${t.number} in ${t.remote.owner}/${t.remote.repositoryName}`);this._item=r,this._repositoryDefaultBranch=o,this._panel.title=`Pull Request #${t.number.toString()}`;const K=t.equals(this._folderRepositoryManager.activePullRequest),re=L.hasWritePermission,ce=L.mergeMethodsAvailability,de=re||this._item.canEdit(),we=v.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),Re=Mo(ce,we);this._existingReviewers=$o(N,i,r.author);const ke=this._folderRepositoryManager.getCurrentUser(this._item),Pe=r.base&&r.head&&!r.base.repositoryCloneUrl.equals(r.head.repositoryCloneUrl)&&Ss();a.debug("pr.initialize",Er.ID),this._postMessage({command:"pr.initialize",pullrequest:{number:r.number,title:r.title,url:r.html_url,createdAt:r.createdAt,body:r.body,bodyHTML:r.bodyHTML,labels:r.item.labels,author:{login:r.author.login,name:r.author.name,avatarUrl:r.userAvatar,url:r.author.url},state:r.state,events:i,isCurrentlyCheckedOut:K,isRemoteBaseDeleted:r.isRemoteBaseDeleted,base:r.base.label,isRemoteHeadDeleted:r.isRemoteHeadDeleted,isLocalHeadDeleted:!$,head:r.head.label,repositoryDefaultBranch:o,canEdit:de,hasWritePermission:re,status:p||{statuses:[]},mergeable:r.item.mergeable,reviewers:this._existingReviewers,isDraft:r.isDraft,mergeMethodsAvailability:ce,defaultMergeMethod:Re,isIssue:!1,milestone:r.milestone,assignees:r.assignees,continueOnGitHub:Pe,isAuthor:ke.login===r.author.login}})}).catch(e=>{v.window.showErrorMessage(U(e))})}async update(t,e){return this._folderRepositoryManager!==t&&(this._folderRepositoryManager=t,this._changeActivePullRequestListener&&(this._changeActivePullRequestListener.dispose(),this._changeActivePullRequestListener=void 0,this.registerFolderRepositoryListener())),this._postMessage({command:"set-scroll",scrollPosition:this._scrollPosition}),this._panel.webview.html=this.getHtmlForWebview(e.number.toString()),this.updatePullRequest(e)}async _onDidReceiveMessage(t){if(await super._onDidReceiveMessage(t)===this.MESSAGE_UNHANDLED)switch(t.command){case"pr.checkout":return this.checkoutPullRequest(t);case"pr.merge":return this.mergePullRequest(t);case"pr.deleteBranch":return this.deleteBranch(t);case"pr.readyForReview":return this.setReadyForReview(t);case"pr.approve":return this.approvePullRequest(t);case"pr.request-changes":return this.requestChanges(t);case"pr.submit":return this.submitReview(t);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(t);case"pr.apply-patch":return this.applyPatch(t);case"pr.open-diff":return this.openDiff(t);case"pr.checkMergeability":return this._replyMessage(t,await this._item.getMergeability());case"pr.add-reviewers":return this.addReviewers(t);case"pr.remove-milestone":return this.removeMilestone(t);case"pr.add-milestone":return this.addMilestone(t);case"pr.add-assignees":return this.addAssignees(t);case"pr.remove-reviewer":return this.removeReviewer(t);case"pr.remove-assignee":return this.removeAssignee(t);case"pr.copy-prlink":return this.copyPrLink();case"pr.openOnGitHub":return $i(this._item,this._item._telemetry)}}async getReviewersQuickPickItems(t){if(!t)return[];const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],i=new Set([this._item.author.login,...this._existingReviewers.map(p=>p.reviewer.login)]),o=[];for(const p of t){const{login:N,name:L,isAuthor:$,isCommenter:K}=p;if(i.has(N))continue;const re=$&&K?"Recently edited and reviewed changes to these files":$?"Recently edited these files":K?"Recently reviewed changes to these files":"Suggested reviewer";o.push({label:N,description:L,detail:re,reviewer:p}),i.add(N)}for(const p of r)i.has(p.login)||o.push({label:p.login,description:p.name,reviewer:p});return o}getAssigneesQuickPickItems(t,e){if(!e)return[];const r=new Set([...this._item.assignees.map(o=>o.login)]),i=[];for(const o of e){const{login:p,name:N,isAuthor:L,isCommenter:$}=o;if(r.has(p))continue;const K=L&&$?"Recently edited and reviewed changes to these files":L?"Recently edited these files":$?"Recently reviewed changes to these files":"Suggested reviewer";i.push({label:p,description:N,detail:K,assignee:o}),r.add(p)}for(const o of t)r.has(o.login)||i.push({label:o.login,description:o.name,assignee:o});return i}async addReviewers(t){try{const e=await v.window.showQuickPick(this.getReviewersQuickPickItems(this._item.suggestedReviewers),{canPickMany:!0,matchOnDescription:!0});if(e){await this._item.requestReview(e.map(i=>i.label));const r=e.map(i=>({reviewer:i.reviewer,state:"REQUESTED"}));this._existingReviewers=this._existingReviewers.concat(r),this._replyMessage(t,{added:r})}}catch(e){v.window.showErrorMessage(U(e))}}async addMilestone(t){try{async function e(i){const o=await i.getMilestones();return o.items.length?o.items.map(p=>({label:p.milestone.title,id:p.milestone.id,milestone:p.milestone})):[{label:"No milestones created for this repository."}]}const r=await v.window.showQuickPick(e(this._folderRepositoryManager),{canPickMany:!1});r&&tf(r)&&(await this._item.updateMilestone(r.id),this._replyMessage(t,{added:r.milestone}))}catch(e){v.window.showErrorMessage(U(e))}}async removeMilestone(t){try{await this._item.updateMilestone("null"),this._replyMessage(t,{})}catch(e){v.window.showErrorMessage(U(e))}}async addAssignees(t){try{const r=(await this._folderRepositoryManager.getAssignableUsers())[this._item.remote.remoteName],i=await v.window.showQuickPick(this.getAssigneesQuickPickItems(r,[]),{canPickMany:!0,matchOnDescription:!0});if(i){const o=i.map(p=>p.assignee);this._item.assignees=this._item.assignees.concat(o),await this._item.updateAssignees(o.map(p=>p.login)),this._replyMessage(t,{added:o})}}catch(e){v.window.showErrorMessage(U(e))}}async removeReviewer(t){try{await this._item.deleteReviewRequest(t.args);const e=this._existingReviewers.findIndex(r=>r.reviewer.login===t.args);this._existingReviewers.splice(e,1),this._replyMessage(t,{})}catch(e){v.window.showErrorMessage(U(e))}}async removeAssignee(t){try{await this._item.deleteAssignees(t.args);const e=this._item.assignees.findIndex(r=>r.login===t.args);this._item.assignees.splice(e,1),this._replyMessage(t,{})}catch(e){v.window.showErrorMessage(U(e))}}async applyPatch(t){try{const e=t.args.comment,i=/```diff\n([\s\S]*)\n```/g.exec(e.body),o=f.join(this._folderRepositoryManager.repository.rootUri.path,".git",`${e.id}.diff`),p=new TextEncoder,N=v.Uri.parse(o);await v.workspace.fs.writeFile(N,p.encode(i[1])),await this._folderRepositoryManager.repository.apply(o,!0),await v.workspace.fs.delete(N)}catch(e){a.appendLine(`Applying patch failed: ${e}`),v.window.showErrorMessage(`Applying patch failed: ${U(e)}`)}}async openDiff(t){try{const e=t.args.comment;return Ir.openDiffFromComment(this._folderRepositoryManager,this._item,e)}catch(e){a.appendLine(`Open diff view failed: ${U(e)}`,Er.ID)}}checkoutPullRequest(t){v.commands.executeCommand("pr.pick",this._item).then(()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})},()=>{const e=this._item.equals(this._folderRepositoryManager.activePullRequest);this._replyMessage(t,{isCurrentlyCheckedOut:e})})}mergePullRequest(t){const{title:e,description:r,method:i}=t.args;this._folderRepositoryManager.mergePullRequest(this._item,e,r,i).then(o=>{v.commands.executeCommand("pr.refreshList"),o.merged||v.window.showErrorMessage(`Merging PR failed: ${o.message}`),this._replyMessage(t,{state:o.merged?ct.Merged:ct.Open})}).catch(o=>{v.window.showErrorMessage(`Unable to merge pull request. ${U(o)}`),this._throwError(t,{})})}async deleteBranch(t){const e=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),r=[];if(this._item.isResolved()){const p=this._item.head.ref;!(this._repositoryDefaultBranch===this._item.head.ref)&&!this._item.isRemoteHeadDeleted&&r.push({label:`Delete remote branch ${this._item.remote.remoteName}/${p}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(e){const p=v.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");r.push({label:`Delete local branch ${e.branch}`,type:"local",picked:!!p});const N=v.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");e.remote&&e.createdForPullRequest&&!e.remoteInUse&&r.push({label:`Delete remote ${e.remote}, which is no longer used by any other branch`,type:"remote",picked:!!N})}if(v.env.remoteName==="codespaces"&&r.push({label:"Suspend Codespace",type:"suspend"}),!r.length){v.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(t,{cancelled:!0});return}const i=await v.window.showQuickPick(r,{canPickMany:!0,ignoreFocusOut:!0}),o=[];if(i){const p=this._item.equals(this._folderRepositoryManager.activePullRequest),N=i.map(async L=>{switch(L.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),o.push(L.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(p){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await v.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await v.commands.executeCommand("git.cleanAll");else return;await this._folderRepositoryManager.repository.checkout(this._repositoryDefaultBranch)}return await this._folderRepositoryManager.repository.deleteBranch(e.branch,!0),o.push(L.type);case"remote":return o.push(L.type),this._folderRepositoryManager.repository.removeRemote(e.remote);case"suspend":return o.push(L.type),v.commands.executeCommand("github.codespaces.disconnectSuspend")}});await Promise.all(N),this.refreshPanel(),v.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:o})}else this._replyMessage(t,{cancelled:!0})}setReadyForReview(t){this._item.setReadyForReview().then(e=>{v.commands.executeCommand("pr.refreshList"),this._replyMessage(t,{isDraft:e})}).catch(e=>{v.window.showErrorMessage(`Unable to set PR ready for review. ${U(e)}`),this._throwError(t,{})})}async checkoutDefaultBranch(t){try{await this._folderRepositoryManager.checkoutDefaultBranch(t.args)}finally{this._replyMessage(t,{})}}updateReviewers(t){if(t){const e=this._existingReviewers.find(r=>t.user.login===r.reviewer.login);e?e.state=t.state:this._existingReviewers.push({reviewer:t.user,state:t.state})}}approvePullRequest(t){this._item.approve(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers}),v.commands.executeCommand("pr.refreshList")},e=>{v.window.showErrorMessage(`Approving pull request failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}requestChanges(t){this._item.requestChanges(t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{v.window.showErrorMessage(`Requesting changes failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}submitReview(t){this._item.submitReview(Et.Comment,t.args).then(e=>{this.updateReviewers(e),this._replyMessage(t,{review:e,reviewers:this._existingReviewers})},e=>{v.window.showErrorMessage(`Submitting review failed. ${U(e)}`),this._throwError(t,`${U(e)}`)})}async copyPrLink(){await v.env.clipboard.writeText(this._item.html_url),v.window.showInformationMessage(`Copied link to PR ${this._item.title}!`)}editCommentPromise(t,e){return this._item.editReviewComment(t,e)}deleteCommentPromise(t){return this._item.deleteReviewComment(t.id.toString())}dispose(){super.dispose(),this._changeActivePullRequestListener&&this._changeActivePullRequestListener.dispose()}};let ur=Er;di(ur,"ID","PullRequestOverviewPanel"),di(ur,"currentPanel"),di(ur,"_viewType","PullRequestOverview");function Mo(t,e){return e&&t.hasOwnProperty(e)&&t[e]?e:["merge","squash","rebase"].find(i=>t[i])}var rf=Object.defineProperty,Ai=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class nf{constructor(e,r,i){this.pullRequestModel=e,this._folderReposManager=r,this._commentController=i,Ai(this,"_pendingCommentThreadAdds",[]),Ai(this,"_commentHandlerId"),Ai(this,"_commentThreadCache",{}),Ai(this,"_openPREditors",[]),Ai(this,"_disposables",[]),this._commentHandlerId=Eo(),ve(this._commentHandlerId,this),this.initializeThreadsInOpenEditors(),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangeReviewThreads(e=>this.onDidChangeReviewThreads(e))),this._disposables.push(v.window.onDidChangeVisibleTextEditors(async e=>{this.onDidChangeOpenEditors(e)})),this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(e=>{for(const r in this._commentThreadCache)this._commentThreadCache[r].forEach(i=>{Po(i,e)})})),this._disposables.push(v.window.onDidChangeActiveTextEditor(e=>{this.refreshContextKey(e)}))}refreshContextKey(e){if(!e)return;const r=e.document.uri;if(r.scheme!=="pr")return;const i=xe(r);!i||i.prNumber!==this.pullRequestModel.number||this.setContextKey(this.pullRequestModel.hasPendingReview)}getPREditors(e){return e.filter(r=>{if(r.document.uri.scheme!=="pr")return!1;const i=xe(r.document.uri);return!(!i||i.prNumber!==this.pullRequestModel.number)})}getCommentThreadCacheKey(e,r){return`${e}-${r?"original":"modified"}`}addThreadsForEditors(e){const r=this.pullRequestModel.reviewThreadsCache,i=le(r,o=>o.path);e.forEach(o=>{const{fileName:p,isBase:N}=xe(o.document.uri);i[p]&&(this._commentThreadCache[this.getCommentThreadCacheKey(p,N)]=i[p].filter(L=>L.diffSide===mt.LEFT&&N||L.diffSide===mt.RIGHT&&!N).map(L=>{const $=new v.Range(new v.Position(L.line-1,0),new v.Position(L.line-1,0));return Ii(o.document.uri,$,L,this._commentController)}))})}initializeThreadsInOpenEditors(){const e=this.getPREditors(v.window.visibleTextEditors);this._openPREditors=e,this.addThreadsForEditors(e)}onDidChangeOpenEditors(e){const r=this.getPREditors(e),i=this._openPREditors.filter(p=>!r.includes(p)),o=r.filter(p=>!this._openPREditors.includes(p));this._openPREditors=r,i.forEach(p=>{const{fileName:N,isBase:L}=xe(p.document.uri),$=this.getCommentThreadCacheKey(N,L);(this._commentThreadCache[$]||[]).forEach(re=>re.dispose()),delete this._commentThreadCache[$]}),o.length&&this.addThreadsForEditors(o)}onDidChangeReviewThreads(e){e.added.forEach(r=>{const i=r.path,o=this._pendingCommentThreadAdds.findIndex(L=>{const $=this.gitRelativeRootPath(L.uri.path)===r.path,K=L.range.start.line+1===r.line;return $&&K});let p;if(o>-1)p=this._pendingCommentThreadAdds[o],p.threadId=r.id,p.comments=r.comments.map(L=>new Pt(L,p)),this._pendingCommentThreadAdds.splice(o,1);else{const $=this.getPREditors(v.window.visibleTextEditors).find(K=>{const re=xe(K.document.uri),ce=r.diffSide===mt.RIGHT&&!re.isBase||r.diffSide===mt.LEFT&&re.isBase;return re.fileName===i&&ce});if($){const K=new v.Range(new v.Position(r.line-1,0),new v.Position(r.line-1,0));p=Ii($.document.uri,K,r,this._commentController)}}const N=this.getCommentThreadCacheKey(r.path,r.diffSide===mt.LEFT);this._commentThreadCache[N]?this._commentThreadCache[N].push(p):this._commentThreadCache[N]=[p]}),e.changed.forEach(r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===mt.LEFT),o=this._commentThreadCache[i].findIndex(p=>p.threadId===r.id);if(o>-1){const p=this._commentThreadCache[i][o];No(p,r)}}),e.removed.forEach(async r=>{const i=this.getCommentThreadCacheKey(r.path,r.diffSide===mt.LEFT),o=this._commentThreadCache[i].findIndex(p=>p.threadId===r.id);if(o>-1){const p=this._commentThreadCache[i][o];this._commentThreadCache[i].splice(o,1),p.dispose()}})}hasCommentThread(e){if(e.uri.scheme!=="pr")return!1;const r=xe(e.uri);return!(!r||r.prNumber!==this.pullRequestModel.number)}getCommentSide(e){return xe(e.uri).isBase?mt.LEFT:mt.RIGHT}async createOrReplyComment(e,r,i,o){const p=e.comments.length,N=i?!1:o!==void 0?o:this.pullRequestModel.hasPendingReview,L=this.optimisticallyAddComment(e,r,N);try{if(p)await this.reply(e,r,i);else{const $=this.gitRelativeRootPath(e.uri.path),K=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,$,e.range.start.line+1,K,i)}i&&await this.pullRequestModel.submitReview()}catch($){v.window.showErrorMessage(`Creating comment failed: ${$}`),e.comments=e.comments.map(K=>(K instanceof Xt&&K.id===L&&(K.mode=v.CommentMode.Editing),K))}}reply(e,r,i){const o=e.comments[0];if(o instanceof Pt)return this.pullRequestModel.createCommentReply(r,o._rawComment.graphNodeId,i);throw new Error("Cannot respond to temporary comment")}optimisticallyEditComment(e,r){const i=this._folderReposManager.getCurrentUser(this.pullRequestModel),o=new Xt(e,r.body instanceof v.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(p=>p instanceof Pt&&p.commentId===r.commentId?o:p),o.id}async editComment(e,r){if(r instanceof Pt){const i=this.optimisticallyEditComment(e,r);try{await this.pullRequestModel.editReviewComment(r._rawComment,r.body instanceof v.MarkdownString?r.body.value:r.body)}catch(o){v.window.showErrorMessage(`Editing comment failed ${o}`),e.comments=e.comments.map(p=>p instanceof Xt&&p.id===i?new Pt(r._rawComment,e):p)}}else this.createOrReplyComment(e,r.body instanceof v.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){r instanceof Pt?await this.pullRequestModel.deleteReviewComment(r.commentId):e.comments=e.comments.filter(i=>!(i instanceof Xt&&i.id===r.id)),await this.pullRequestModel.validateDraftMode()}gitRelativeRootPath(e){return f.relative(this._folderReposManager.repository.rootUri.path,e).replace(/\\/g,"/")}async startReview(e,r){const i=e.comments.length,o=this.optimisticallyAddComment(e,r,!0);try{if(i)await this.reply(e,r,!1);else{const p=this.gitRelativeRootPath(e.uri.path),N=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e),await this.pullRequestModel.createReviewThread(r,p,e.range.start.line+1,N)}this.setContextKey(!0)}catch(p){v.window.showErrorMessage(`Starting a review failed: ${p}`),e.comments=e.comments.map(N=>(N instanceof Xt&&N.id===o&&(N.mode=v.CommentMode.Editing),N))}}async openReview(){await ur.createOrShow(this._folderReposManager.context.extensionUri,this._folderReposManager,this.pullRequestModel),ur.scrollToReview(),this._folderReposManager.telemetry.sendTelemetryEvent("pr.openDescription")}optimisticallyAddComment(e,r,i){const o=this._folderReposManager.getCurrentUser(this.pullRequestModel),p=new Xt(e,r,i,o);return this.updateCommentThreadComments(e,[...e.comments,p]),p.id}updateCommentThreadComments(e,r){e.comments=r,pi(e)}async createCommentOnResolve(e,r){const i=await this.pullRequestModel.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.resolveReviewThread(e.threadId)}catch(i){v.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this.pullRequestModel.unresolveReviewThread(e.threadId)}catch(i){v.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async toggleReaction(e,r){e.parent.uri.scheme==="pr"&&(e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this.pullRequestModel.addCommentReaction(e._rawComment.graphNodeId,r):await this.pullRequestModel.deleteCommentReaction(e._rawComment.graphNodeId,r))}setContextKey(e){v.commands.executeCommand("setContext","prInDraft",e)}dispose(){Object.keys(this._commentThreadCache).forEach(e=>{this._commentThreadCache[e].forEach(r=>r.dispose())}),Se(this._commentHandlerId),this._disposables.forEach(e=>e.dispose())}}var sf=Object.defineProperty,To=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?sf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class af{constructor(e){this.commentsController=e,To(this,"_prCommentHandlers",{}),To(this,"_prCommentingRangeProviders",{}),this.commentsController.commentingRangeProvider=this,this.commentsController.reactionHandler=this.toggleReaction.bind(this)}async provideCommentingRanges(e,r){const i=e.uri,o=xe(i);return!o||!this._prCommentingRangeProviders[o.prNumber]?void 0:this._prCommentingRangeProviders[o.prNumber].provideCommentingRanges.bind(this._prCommentingRangeProviders[o.prNumber])(e,r)}async toggleReaction(e,r){const i=e.parent.uri,o=xe(i);return!o||!this._prCommentHandlers[o.prNumber]||!this._prCommentHandlers[o.prNumber].handler.toggleReaction?void 0:this._prCommentHandlers[o.prNumber].handler.toggleReaction.bind(this._prCommentHandlers[o.prNumber].handler)(e,r)}registerCommentController(e,r,i){if(this._prCommentHandlers[e])return this._prCommentHandlers[e].refCount+=1,this._prCommentHandlers[e];const o=new nf(r,i,this.commentsController);return this._prCommentHandlers[e]={handler:o,refCount:1,dispose:()=>{!this._prCommentHandlers[e]||(this._prCommentHandlers[e].refCount-=1,this._prCommentHandlers[e].refCount===0&&(this._prCommentHandlers[e].handler.dispose(),delete this._prCommentHandlers[e]))}},this._prCommentHandlers[e]}registerCommentingRangeProvider(e,r){return this._prCommentingRangeProviders[e]=r,{dispose:()=>{delete this._prCommentingRangeProviders[e]}}}dispose(){Object.keys(this._prCommentHandlers).forEach(e=>{this._prCommentHandlers[e].handler.dispose()}),this._prCommentingRangeProviders={},this._prCommentHandlers={}}}var of=st(9967),uf=st.n(of),lf=Object.defineProperty,fr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?lf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Co=20,fi="GraphQL";var zt;(function(t){t.Unknown="unknown",t.Admin="ADMIN",t.Maintain="MAINTAIN",t.Read="READ",t.Triage="TRIAGE",t.Write="WRITE"})(zt||(zt={}));const ot=class{constructor(t,e,r){this.remote=t,this._credentialStore=e,this._telemetry=r,fr(this,"_initialized",!1),fr(this,"_hub"),fr(this,"_metadata"),fr(this,"_toDispose",[]),fr(this,"commentsController"),fr(this,"commentsHandler"),fr(this,"_pullRequestModels",new Map),fr(this,"isGitHubDotCom"),fr(this,"query",async i=>{const o=this.hub&&this.hub.graphql;if(!o)return a.debug(`Not available for query: ${i}`,fi),{data:null,loading:!1,networkStatus:St.error,stale:!1};a.debug(`Request: ${JSON.stringify(i,null,2)}`,fi);const p=await o.query(i);return a.debug(`Response: ${JSON.stringify(p,null,2)}`,fi),p}),fr(this,"mutate",async i=>{const o=this.hub&&this.hub.graphql;if(!o)return a.debug(`Not available for query: ${i}`,fi),{data:null,loading:!1,networkStatus:St.error,stale:!1};a.debug(`Request: ${JSON.stringify(i,null,2)}`,fi);const p=await o.mutate(i);return a.debug(`Response: ${JSON.stringify(p,null,2)}`,fi),p}),this.isGitHubDotCom=t.host.toLowerCase()==="github.com"}get hub(){if(!this._hub)throw this._initialized?new hn("Not authenticated."):new Error("Call ensure() before accessing this property.");return this._hub}equals(t){return this.remote.equals(t.remote)}async ensureCommentsController(){try{if(this.commentsController)return;await this.ensure(),this.commentsController=v.comments.createCommentController(`github-browse-${this.remote.normalizedHost}`,`GitHub Pull Request for ${this.remote.normalizedHost}`),this.commentsHandler=new af(this.commentsController),this._toDispose.push(this.commentsController),this._toDispose.push(this.commentsController)}catch(t){console.log(t)}}dispose(){this._toDispose.forEach(t=>t.dispose())}get octokit(){return this.hub&&this.hub.octokit}get schema(){return uf()}async getMetadata(){if(a.debug("Fetch metadata - enter",ot.ID),this._metadata)return a.debug(`Fetch metadata ${this._metadata.owner.login}/${this._metadata.name} - done`,ot.ID),this._metadata;const{octokit:t,remote:e}=await this.ensure(),r=await t.repos.get({owner:e.owner,repo:e.repositoryName});return a.debug(`Fetch metadata ${e.owner}/${e.repositoryName} - done`,ot.ID),this._metadata={...r.data,currentUser:t.currentUser},this._metadata}async resolveRemote(){try{const{clone_url:t}=await this.getMetadata();this.remote=So(this.remote.remoteName,t,this.remote.gitProtocol)}catch(t){a.appendLine(`Unable to resolve remote: ${t}`)}}async ensure(){return this._initialized=!0,this._credentialStore.isAuthenticated(this.remote.authProviderId)?this._hub=this._credentialStore.getHub(this.remote.authProviderId):this._hub=await this._credentialStore.showSignInNotification(this.remote.authProviderId),this}async getDefaultBranch(){try{a.debug("Fetch default branch - enter",ot.ID);const{octokit:t,remote:e}=await this.ensure(),{data:r}=await t.repos.get({owner:e.owner,repo:e.repositoryName});return a.debug("Fetch default branch - done",ot.ID),r.default_branch}catch(t){a.appendLine(`GitHubRepository> Fetching default branch failed: ${t}`)}return"master"}async getRepoAccessAndMergeMethods(){var t,e,r,i,o;try{a.debug("Fetch repo permissions and available merge methods - enter",ot.ID);const{octokit:p,remote:N}=await this.ensure(),{data:L}=await p.repos.get({owner:N.owner,repo:N.repositoryName});return a.debug("Fetch repo permissions and available merge methods - done",ot.ID),{hasWritePermission:(e=(t=L.permissions)==null?void 0:t.push)!=null?e:!1,mergeMethodsAvailability:{merge:(r=L.allow_merge_commit)!=null?r:!1,squash:(i=L.allow_squash_merge)!=null?i:!1,rebase:(o=L.allow_rebase_merge)!=null?o:!1}}}catch(p){a.appendLine(`GitHubRepository> Fetching repo permissions and available merge methods failed: ${p}`)}return{hasWritePermission:!0,mergeMethodsAvailability:{merge:!0,squash:!0,rebase:!0}}}async getAllPullRequests(t){try{a.debug("Fetch all pull requests - enter",ot.ID);const{octokit:e,remote:r}=await this.ensure(),i=await e.pulls.list({owner:r.owner,repo:r.repositoryName,per_page:Co,page:t||1}),o=!!i.headers.link&&i.headers.link.indexOf('rel="next"')>-1;if(!i.data)return a.appendLine(`Warning: no result data for ${r.owner}/${r.repositoryName} Status: ${i.status}`),{items:[],hasMorePages:!1};const p=i.data.map(N=>N.head.repo?this.createOrUpdatePullRequestModel(Yr(N,this)):(a.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(N=>N!==null);return a.debug("Fetch all pull requests - done",ot.ID),{items:p,hasMorePages:o}}catch(e){if(a.appendLine(`Fetching all pull requests failed: ${e}`,ot.ID),e.code===404)v.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}async getPullRequestForBranch(t){try{a.debug("Fetch pull requests for branch - enter",ot.ID);const{octokit:e,remote:r}=await this.ensure(),o=(await e.pulls.list({owner:r.owner,repo:r.repositoryName,head:`${r.owner}:${t}`})).data.map(p=>this.createOrUpdatePullRequestModel(Yr(p,this))).filter(p=>p!==null);return a.debug("Fetch pull requests for branch - done",ot.ID),o}catch(e){if(a.appendLine(`Fetching pull requests for branch failed: ${e}`,ot.ID),e.code===404)v.window.showWarningMessage(`Fetching pull requests for remote '${this.remote.remoteName}' failed, please check if the url ${this.remote.url} is valid.`);else throw e}}getRepoForIssue(t,e){if(e.repositoryName&&e.repositoryUrl&&(t.remote.owner!==e.repositoryOwner||t.remote.repositoryName!==e.repositoryName)){const r=new pn(e.repositoryName,e.repositoryUrl,new rt(e.repositoryUrl));t=new ot(r,this._credentialStore,this._telemetry)}return t}async getIssuesForUserByMilestone(t){try{a.debug("Fetch all issues - enter",ot.ID);const{query:e,remote:r,schema:i}=await this.ensure(),{data:o}=await e({query:i.GetMilestones,variables:{owner:r.owner,name:r.repositoryName,assignee:this._credentialStore.getCurrentUser(r.authProviderId).login}});a.debug("Fetch all issues - done",ot.ID);const p=[];let N=this;return o&&o.repository.milestones&&o.repository.milestones.nodes&&o.repository.milestones.nodes.forEach(L=>{const $=ws(L);if($){const K=[];L.issues.edges.forEach(re=>{const ce=ks(re.node,this);N=this.getRepoForIssue(N,ce),K.push(new Bt(N,N.remote,ce))}),p.push({milestone:$,issues:K})}}),{items:p,hasMorePages:o.repository.milestones.pageInfo.hasNextPage}}catch(e){a.appendLine(`GithubRepository> Unable to fetch issues: ${e}`);return}}async getIssuesWithoutMilestone(t){try{a.debug("Fetch issues without milestone- enter",ot.ID);const{query:e,remote:r,schema:i}=await this.ensure(),{data:o}=await e({query:i.IssuesWithoutMilestone,variables:{owner:r.owner,name:r.repositoryName,assignee:this._credentialStore.getCurrentUser(r.authProviderId).login}});a.debug("Fetch issues without milestone - done",ot.ID);const p=[];let N=this;return o&&o.repository.issues.edges&&o.repository.issues.edges.forEach(L=>{if(L.node.id){const $=ks(L.node,this);N=this.getRepoForIssue(N,$),p.push(new Bt(N,N.remote,$))}}),{items:p,hasMorePages:o.repository.issues.pageInfo.hasNextPage}}catch(e){a.appendLine(`GithubRepository> Unable to fetch issues without milestone: ${e}`);return}}async getIssues(t,e){try{a.debug("Fetch issues with query - enter",ot.ID);const{query:r,schema:i}=await this.ensure(),{data:o}=await r({query:i.Issues,variables:{query:`${e} type:issue`}});a.debug("Fetch issues with query - done",ot.ID);const p=[];let N=this;return o&&o.search.edges&&o.search.edges.forEach(L=>{if(L.node.id){const $=ks(L.node,this);N=this.getRepoForIssue(N,$),p.push(new Bt(N,N.remote,$))}}),{items:p,hasMorePages:o.search.pageInfo.hasNextPage}}catch(r){a.appendLine(`GithubRepository> Unable to fetch issues with query: ${r}`);return}}async getMaxIssue(){try{a.debug("Fetch max issue - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.MaxIssue,variables:{owner:e.owner,name:e.repositoryName}});return a.debug("Fetch max issue - done",ot.ID),i&&i.repository.issues.edges.length===1?i.repository.issues.edges[0].node.number:void 0}catch(t){a.appendLine(`GithubRepository> Unable to fetch issues with query: ${t}`);return}}async getViewerPermission(){try{a.debug("Fetch viewer permission - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return a.debug("Fetch viewer permission - done",ot.ID),wf(i)}catch(t){return a.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`),zt.Unknown}}async fork(){try{a.debug("Fork repository",ot.ID);const{octokit:t,remote:e}=await this.ensure();return(await t.repos.createFork({owner:e.owner,repo:e.repositoryName})).data.clone_url}catch(t){a.appendLine(`GitHubRepository> Forking repository failed: ${t}`);return}}async getRepositoryForkDetails(){try{a.debug("Fetch viewer permission - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure(),{data:i}=await t({query:r.GetViewerPermission,variables:{owner:e.owner,name:e.repositoryName}});return a.debug("Fetch viewer permission - done",ot.ID),i.repository}catch(t){a.appendLine(`GithubRepository> Unable to fetch viewer permission: ${t}`);return}}async getAuthenticatedUser(){const{octokit:t}=await this.ensure();return(await t.users.getAuthenticated({})).data.login}async getPullRequestsForCategory(t,e){try{a.debug(`Fetch pull request category ${t} - enter`,ot.ID);const{octokit:r,remote:i}=await this.ensure(),o=await r.users.getAuthenticated({}),p=await r.repos.get({owner:this.remote.owner,repo:this.remote.repositoryName}),{data:N,headers:L}=await r.search.issuesAndPullRequests({q:_f(p.data.full_name,o.data.login,t),per_page:Co,page:e||1}),$=[];N.items.forEach(de=>{$.push(new Promise(async(we,Re)=>{const ke=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:de.number});we(ke)}))});const K=!!L.link&&L.link.indexOf('rel="next"')>-1,ce=(await Promise.all($)).map(de=>de.data.head.repo?this.createOrUpdatePullRequestModel(Yr(de.data,this)):(a.appendLine("GitHubRepository> The remote branch for this PR was already deleted."),null)).filter(de=>de!==null);return a.debug(`Fetch pull request category ${t} - done`,ot.ID),{items:ce,hasMorePages:K}}catch(r){if(a.appendLine(`GitHubRepository> Fetching all pull requests failed: ${r}`),r.code===404)v.window.showWarningMessage(`Fetching pull requests for remote ${this.remote.remoteName}, please check if the url ${this.remote.url} is valid.`);else throw r}}createOrUpdatePullRequestModel(t){let e=this._pullRequestModels.get(t.number);return e?e.update(t):(e=new Ir(this._telemetry,this,this.remote,t),this._pullRequestModels.set(t.number,e)),e}async createPullRequest(t){const{octokit:e}=await this.ensure(),{data:r}=await e.pulls.create(t);return this.createOrUpdatePullRequestModel(Yr(r,this))}async getPullRequest(t){try{a.debug(`Fetch pull request ${t} - enter`,ot.ID);const{query:e,remote:r,schema:i}=await this.ensure(),{data:o}=await e({query:i.PullRequest,variables:{owner:r.owner,name:r.repositoryName,number:t}});return a.debug(`Fetch pull request ${t} - done`,ot.ID),this.createOrUpdatePullRequestModel(Oo(o,this))}catch(e){a.appendLine(`GithubRepository> Unable to fetch PR: ${e}`);return}}async getIssue(t,e=!1){try{a.debug(`Fetch issue ${t} - enter`,ot.ID);const{query:r,remote:i,schema:o}=await this.ensure(),{data:p}=await r({query:e?o.IssueWithComments:o.Issue,variables:{owner:i.owner,name:i.repositoryName,number:t}});return a.debug(`Fetch issue ${t} - done`,ot.ID),new Bt(this,i,Oo(p,this))}catch(r){a.appendLine(`GithubRepository> Unable to fetch PR: ${r}`);return}}async listBranches(t,e){const{octokit:r}=await this.ensure();a.debug(`List branches for ${t}/${e} - enter`,ot.ID);try{let i=[];const o=new Date().getTime();for await(const p of r.paginate.iterator("GET /repos/:owner/:repo/branches",{owner:t,repo:e,per_page:100}))if(i.push(...p.data.map(N=>N.name)),new Date().getTime()-o>5e3)break;return a.debug(`List branches for ${t}/${e} - done`,ot.ID),i}catch(i){throw a.debug(`List branches for ${t}/${e} failed`,ot.ID),i}}async deleteBranch(t){const{octokit:e}=await this.ensure();if(!!t.validatePullRequestModel("Unable to delete branch"))try{await e.git.deleteRef({owner:t.head.repositoryCloneUrl.owner,repo:t.head.repositoryCloneUrl.repositoryName,ref:`heads/${t.head.ref}`})}catch(r){a.appendLine(`GithubRepository> Unable to delete branch: ${r}`);return}}async getMentionableUsers(){a.debug("Fetch mentionable users - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,o=!1;const p=[];do try{const N=await t({query:r.GetMentionableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});p.push(...N.data.repository.mentionableUsers.nodes.map(L=>({login:L.login,avatarUrl:L.avatarUrl,name:L.name,url:L.url,email:L.email}))),o=N.data.repository.mentionableUsers.pageInfo.hasNextPage,i=N.data.repository.mentionableUsers.pageInfo.endCursor}catch(N){return a.debug(`Unable to fetch mentionable users: ${N}`,ot.ID),p}while(o);return p}async getAssignableUsers(){a.debug("Fetch assignable users - enter",ot.ID);const{query:t,remote:e,schema:r}=await this.ensure();let i=null,o=!1;const p=[];do try{const N=await t({query:r.GetAssignableUsers,variables:{owner:e.owner,name:e.repositoryName,first:100,after:i}});p.push(...N.data.repository.assignableUsers.nodes.map(L=>({login:L.login,avatarUrl:L.avatarUrl,name:L.name,url:L.url,email:L.email}))),o=N.data.repository.assignableUsers.pageInfo.hasNextPage,i=N.data.repository.assignableUsers.pageInfo.endCursor}catch(N){return a.debug(`Unable to fetch assignable users: ${N}`,ot.ID),N.graphQLErrors&&N.graphQLErrors.length>0&&N.graphQLErrors[0].type==="INSUFFICIENT_SCOPES"&&v.window.showWarningMessage(`GitHub user features will not work. ${N.graphQLErrors[0].message}`),p}while(o);return p}async compareCommits(t,e){const{remote:r,octokit:i}=await this.ensure(),{data:o}=await i.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:t,head:e});return o}isCurrentUser(t){return this._credentialStore.isCurrentUser(t)}};let hi=ot;fr(hi,"ID","GitHubRepository");function Ii(t,e,r,i){const o=i.createCommentThread(t,e,[]);return o.threadId=r.id,o.comments=r.comments.map(p=>new Pt(p,o)),o.isResolved=r.isResolved,r.viewerCanResolve&&!r.isResolved?o.contextValue="canResolve":r.viewerCanUnresolve&&r.isResolved&&(o.contextValue="canUnresolve"),pi(o),o.collapsibleState=r.isResolved?v.CommentThreadCollapsibleState.Collapsed:v.CommentThreadCollapsibleState.Expanded,o}function No(t,e){e.viewerCanResolve&&!e.isResolved?t.contextValue="canResolve":e.viewerCanUnresolve&&e.isResolved&&(t.contextValue="canUnresolve"),t.isResolved!==e.isResolved&&(t.isResolved=e.isResolved,t.collapsibleState=e.isResolved?v.CommentThreadCollapsibleState.Collapsed:v.CommentThreadCollapsibleState.Expanded),t.comments=e.comments.map(r=>new Pt(r,t)),pi(t)}function pi(t){if(t.isResolved){t.label="This thread has been marked as resolved";return}if(t.comments.length){const e=D(t.comments,r=>r.author.name).map(r=>`@${r.author.name}`).join(", ");t.label=`Participants: ${e}`}else t.label="Start discussion"}function cf(t){return wn().map(e=>{if(!t)return{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""};const r=t.find(i=>i.label===e.label);return r?{label:r.label,authorHasReacted:r.viewerHasReacted,count:r.count,iconPath:e.icon||""}:{label:e.label,authorHasReacted:!1,count:0,iconPath:e.icon||""}})}function df(t,e){t.reactions=cf(e)}function Po(t,e){e||(t.comments=t.comments.map(r=>(r instanceof Pt&&(r._rawComment.isDraft=!1),r.label=void 0,r)))}function $r(t,e){return{login:t.login,url:t.html_url,avatarUrl:Ho(t.avatar_url,t.gravatar_id,e.remote.authProviderId)}}function Ao(t){return{label:t.label,ref:t.ref,sha:t.sha,repo:{cloneUrl:t.repo.clone_url}}}function Yr(t,e){const{number:r,body:i,title:o,html_url:p,user:N,state:L,assignees:$,created_at:K,updated_at:re,head:ce,base:de,labels:we,node_id:Re,id:ke,draft:Ce}=t;return{id:ke,graphNodeId:Re,number:r,body:i,title:o,url:p,user:$r(N,e),state:L,merged:t.merged||!1,assignees:$?$.map(Le=>$r(Le,e)):void 0,createdAt:K,updatedAt:re,head:Ao(ce),base:Ao(de),mergeable:t.mergeable?Tt.Mergeable:Tt.NotMergeable,labels:we.map(Le=>({name:"",color:"",...Le})),isDraft:Ce,suggestedReviewers:[]}}function ff(t,e){const{number:r,body:i,title:o,html_url:p,user:N,state:L,assignees:$,created_at:K,updated_at:re,labels:ce,node_id:de,id:we}=t;return{id:we,graphNodeId:de,number:r,body:i,title:o,url:p,user:$r(N,e),state:L,assignees:$?$.map(ke=>$r(ke,e)):void 0,createdAt:K,updatedAt:re,labels:ce.map(ke=>typeof ke=="string"?{name:ke,color:""}:{name:"",color:"",...ke}),suggestedReviewers:[]}}function hf(t,e){return{event:vt.Reviewed,comments:[],submittedAt:t.submitted_at,body:t.body,bodyHTML:t.body,htmlUrl:t.html_url,user:$r(t.user,e),authorAssociation:t.user.type,state:t.state,id:t.id}}function Io(t){const e=[],r=Ge(t.diffHunk);let i=r.next();for(;!i.done;){const o=i.value;e.push(o),i=r.next()}return e}function Fm(t,e){const r={url:t.url,id:t.id,pullRequestReviewId:t.pull_request_review_id,diffHunk:t.diff_hunk,path:t.path,position:t.position,commitId:t.commit_id,originalPosition:t.original_position,originalCommitId:t.original_commit_id,user:$r(t.user,e),body:t.body,createdAt:t.created_at,htmlUrl:t.html_url,inReplyToId:t.in_reply_to_id,graphNodeId:t.node_id},i=Io(r);return r.diffHunks=i,r}function pf(t){switch(t){case"PullRequestCommit":return vt.Committed;case"LabeledEvent":return vt.Labeled;case"MilestonedEvent":return vt.Milestoned;case"AssignedEvent":return vt.Assigned;case"HeadRefDeletedEvent":return vt.HeadRefDeleted;case"IssueComment":return vt.Commented;case"PullRequestReview":return vt.Reviewed;case"MergedEvent":return vt.Merged;default:return vt.Other}}function bn(t){return{id:t.id,isResolved:t.isResolved,viewerCanResolve:t.viewerCanResolve,viewerCanUnresolve:t.viewerCanUnresolve,path:t.path,line:t.line,originalLine:t.originalLine,diffSide:t.diffSide,isOutdated:t.isOutdated,comments:t.comments.nodes.map(e=>mi(e,t.isResolved))}}function mi(t,e){const r={id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,path:t.path,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,pullRequestReviewId:t.pullRequestReview&&t.pullRequestReview.databaseId,diffHunk:t.diffHunk,position:t.position,commitId:t.commit.oid,originalPosition:t.originalPosition,originalCommitId:t.originalCommit&&t.originalCommit.oid,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,isDraft:t.state==="PENDING",inReplyToId:t.replyTo&&t.replyTo.databaseId,reactions:Fo(t.reactionGroups),isResolved:e},i=Io(r);return r.diffHunks=i,r}function Do(t){return{id:t.databaseId,url:t.url,body:t.body,bodyHTML:t.bodyHTML,canEdit:t.viewerCanDelete,canDelete:t.viewerCanDelete,user:t.author,createdAt:t.createdAt,htmlUrl:t.url,graphNodeId:t.id,diffHunk:""}}function Fo(t){const e=wn().reduce((i,o)=>(i[o.title]=o,i),{});return t.filter(i=>i.users.totalCount>0).map(i=>({label:e[i.content].label,count:i.users.totalCount,icon:e[i.content].icon,viewerHasReacted:i.viewerHasReacted}))}function yn(t,e,r){return{label:`${r.owner.login}:${t}`,ref:t,sha:e,repo:{cloneUrl:r.url}}}function hr(t,e){return t?{login:t.login,url:t.url,avatarUrl:Ho(t.avatarUrl,t.email,e.remote.authProviderId),email:t.email}:{login:"",url:""}}function ws(t){if(!!t)return{title:t.title,dueOn:t.dueOn,createdAt:t.createdAt,id:t.id}}function _s(t){switch(t){case"UNKNOWN":return Tt.Unknown;case"MERGEABLE":return Tt.Mergeable;case"CONFLICTING":return Tt.NotMergeable}}function Oo(t,e){var r,i;const o=t.repository.pullRequest;return{id:o.databaseId,graphNodeId:o.id,url:o.url,number:o.number,state:o.state,body:o.body,bodyHTML:o.bodyHTML,title:o.title,createdAt:o.createdAt,updatedAt:o.updatedAt,isRemoteHeadDeleted:!o.headRef,head:yn(o.headRefName,o.headRefOid,o.headRepository),isRemoteBaseDeleted:!o.baseRef,base:yn(o.baseRefName,o.baseRefOid,o.baseRepository),user:hr(o.author,e),merged:o.merged,mergeable:_s(o.mergeable),labels:o.labels.nodes,isDraft:o.isDraft,suggestedReviewers:Bo(o.suggestedReviewers),comments:mf((r=o.comments)==null?void 0:r.nodes,e),milestone:ws(o.milestone),assignees:(i=o.assignees)==null?void 0:i.nodes.map(p=>hr(p,e))}}function mf(t,e){if(!t)return;const r=[];for(const i of t)r.push({author:hr(i.author,e),body:i.body,databaseId:i.databaseId});return r}function ks(t,e){var r,i,o;return{id:t.databaseId,graphNodeId:t.id,url:t.url,number:t.number,state:t.state,body:t.body,bodyHTML:t.bodyHTML,title:t.title,createdAt:t.createdAt,updatedAt:t.updatedAt,assignees:t.assignees.nodes.map(p=>hr(p,e)),user:hr(t.author,e),labels:t.labels.nodes,repositoryName:(r=t.repository)==null?void 0:r.name,repositoryOwner:(i=t.repository)==null?void 0:i.owner.login,repositoryUrl:(o=t.repository)==null?void 0:o.url}}function Om(t,e){const r=t;return{id:r.databaseId,graphNodeId:r.id,url:r.url,number:r.number,state:r.state,body:r.body,bodyHTML:r.bodyHTML,title:r.title,createdAt:r.createdAt,updatedAt:r.updatedAt,isRemoteHeadDeleted:!r.headRef,head:yn(r.headRefName,r.headRefOid,r.headRepository),isRemoteBaseDeleted:!r.baseRef,base:yn(r.baseRefName,r.baseRefOid,r.baseRepository),user:hr(r.author,e),merged:r.merged,mergeable:_s(r.mergeable),labels:r.labels.nodes,isDraft:r.isDraft,suggestedReviewers:Bo(r.suggestedReviewers),milestone:ws(r.milestone)}}function Bo(t){return t?t.map(r=>({login:r.reviewer.login,avatarUrl:r.reviewer.avatarUrl,name:r.reviewer.name,url:r.reviewer.url,isAuthor:r.isAuthor,isCommenter:r.isCommenter})).sort(Lo):[]}function Lo(t,e){return t.login.localeCompare(e.login,"en",{sensitivity:"accent"})}function vf(t,e){return{event:vt.Reviewed,comments:t.comments.nodes.map(r=>mi(r,!1)).filter(r=>!r.inReplyToId),submittedAt:t.submittedAt,body:t.body,bodyHTML:t.bodyHTML,htmlUrl:t.url,user:hr(t.author,e),authorAssociation:t.authorAssociation,state:t.state,id:t.databaseId}}function Uo(t,e){const r=[];return t.forEach(i=>{const o=pf(i.__typename);switch(o){case vt.Commented:const p=i;r.push({htmlUrl:p.url,body:p.body,bodyHTML:p.bodyHTML,user:hr(p.author,e),event:o,canEdit:p.viewerCanUpdate,canDelete:p.viewerCanDelete,id:p.databaseId,graphNodeId:p.id,createdAt:p.createdAt});return;case vt.Reviewed:const N=i;r.push({event:o,comments:[],submittedAt:N.submittedAt,body:N.body,bodyHTML:N.bodyHTML,htmlUrl:N.url,user:hr(N.author,e),authorAssociation:N.authorAssociation,state:N.state,id:N.databaseId});return;case vt.Committed:const L=i;r.push({id:L.databaseId,event:o,sha:L.commit.oid,author:L.commit.author.user?hr(L.commit.author.user,e):{login:L.commit.committer.name},htmlUrl:L.url,message:L.commit.message,authoredDate:new Date(L.commit.authoredDate)});return;case vt.Merged:const $=i;r.push({id:$.databaseId,event:o,user:hr($.actor,e),createdAt:$.createdAt,mergeRef:$.mergeRef.name,sha:$.commit.oid,commitUrl:$.commit.commitUrl,url:$.url,graphNodeId:$.id});return;case vt.Assigned:const K=i;r.push({id:K.databaseId,event:o,user:K.user,actor:K.actor});return;case vt.HeadRefDeleted:const re=i;r.push({id:re.id,event:o,actor:re.actor,createdAt:re.createdAt,headRef:re.headRefName});return;default:break}}),r}function gf(t){return{login:t.user.login,name:t.user.name,avatarUrl:t.user.avatarUrl,url:t.user.url,bio:t.user.bio,company:t.user.company,location:t.user.location,commitContributions:bf(t.user.contributionsCollection)}}function bf(t){const e=[];return t.commitContributionsByRepository.forEach(r=>{r.contributions.nodes.forEach(i=>{e.push({createdAt:new Date(i.occurredAt),repoNameWithOwner:r.repository.nameWithOwner})})}),e}function wn(){return[{title:"THUMBS_UP",label:"\u{1F44D}",icon:kr.icons.reactions.THUMBS_UP},{title:"THUMBS_DOWN",label:"\u{1F44E}",icon:kr.icons.reactions.THUMBS_DOWN},{title:"LAUGH",label:"\u{1F604}",icon:kr.icons.reactions.LAUGH},{title:"HOORAY",label:"\u{1F389}",icon:kr.icons.reactions.HOORAY},{title:"CONFUSED",label:"\u{1F615}",icon:kr.icons.reactions.CONFUSED},{title:"HEART",label:"\u2764\uFE0F",icon:kr.icons.reactions.HEART},{title:"ROCKET",label:"\u{1F680}",icon:kr.icons.reactions.ROCKET},{title:"EYES",label:"\u{1F440}",icon:kr.icons.reactions.EYES}]}function yf(t){const e=[];return t.forEach(r=>{var i,o;Kt(r)&&e.push({login:r.author.login,name:r.author.name||""}),Ht(r)&&e.push({login:r.user.login,name:(i=r.user.name)!=null?i:r.user.login}),Yt(r)&&e.push({login:r.user.login,name:(o=r.user.name)!=null?o:r.user.login})}),e}function wf(t){return t&&t.repository.viewerPermission&&Object.values(zt).includes(t.repository.viewerPermission)?t.repository.viewerPermission:zt.Unknown}function qo(t,e){for(const r of t.repositories)if(e.path.toLowerCase()===r.rootUri.path.toLowerCase()||e.path.toLowerCase().startsWith(r.rootUri.path.toLowerCase())&&e.path.substring(r.rootUri.path.length).startsWith("/"))return r}function $o(t,e,r){const i=e.filter(Ht).filter(N=>N.state!=="PENDING");let o=[];const p=new Map;p.set(r.login,!0);for(let N=i.length-1;N>=0;N--){const L=i[N].user;p.get(L.login)||(p.set(L.login,!0),o.push({reviewer:L,state:i[N].state}))}return t.forEach(N=>{if(!p.get(N.login))o.push({reviewer:N,state:"REQUESTED"});else{const L=o.find($=>$.reviewer.login===N.login);L.state="REQUESTED"}}),o=o.sort((N,L)=>N.state==="REQUESTED"&&L.state!=="REQUESTED"?1:L.state==="REQUESTED"&&N.state!=="REQUESTED"||N.reviewer.login.toLowerCase()<L.reviewer.login.toLowerCase()?-1:1),o}function _f(t,e,r){return`is:pull-request ${r.replace(/\$\{user\}/g,e)} type:pr repo:${t}`}function Ss(){return v.env.remoteName==="codespaces"&&v.env.uiKind===v.UIKind.Web}function _n(){try{return v.Uri.parse(v.workspace.getConfiguration("github-enterprise").get("uri")||"",!0)}catch{}}function Di(){return!!_n()}function kf(t,e=200){return t?`https://www.gravatar.com/avatar/${t}?s=${e}&d=retro`:void 0}function Ho(t,e,r){var i;return r===ht.github?t:kf(Jt.js("md5").update((i=e==null?void 0:e.trim())==null?void 0:i.toLowerCase()).digest("hex"))}var Sf=Object.defineProperty,Lt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Sf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const kn=class{constructor(t,e,r,i=!1){Lt(this,"id"),Lt(this,"graphNodeId"),Lt(this,"number"),Lt(this,"title"),Lt(this,"html_url"),Lt(this,"state",ct.Open),Lt(this,"author"),Lt(this,"assignees"),Lt(this,"createdAt"),Lt(this,"updatedAt"),Lt(this,"milestone"),Lt(this,"githubRepository"),Lt(this,"remote"),Lt(this,"item"),Lt(this,"bodyHTML"),this.githubRepository=t,this.remote=e,this.item=r,i||this.update(r)}get isOpen(){return this.state===ct.Open}get userAvatar(){if(this.item)return this.item.user.avatarUrl}get userAvatarUri(){if(this.item){const t=this.userAvatar;if(t){const e=v.Uri.parse(`${t}&s=${64}`),r=e.toString;return e.toString=function(i){return r.call(e,!0)},e}}}get body(){return this.item?this.item.body:""}updateState(t){t.toLowerCase()==="open"?this.state=ct.Open:this.state=ct.Closed}update(t){this.id=t.id,this.graphNodeId=t.graphNodeId,this.number=t.number,this.title=t.title,this.bodyHTML=t.bodyHTML,this.html_url=t.url,this.author=t.user,this.milestone=t.milestone,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.updateState(t.state),t.assignees&&(this.assignees=t.assignees),this.item=t}equals(t){return!(!t||this.number!==t.number||this.html_url!==t.html_url)}async edit(t){try{const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.graphNodeId,body:t.body,title:t.title}}});return i.updatePullRequest.pullRequest}catch(e){throw new Error(U(e))}}canEdit(){const t=this.author&&this.author.login;return this.githubRepository.isCurrentUser(t)}async getIssueComments(){a.debug(`Fetch issue comments of PR #${this.number} - enter`,kn.ID);const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.issues.listComments({owner:e.owner,repo:e.repositoryName,issue_number:this.number,per_page:100});return a.debug(`Fetch issue comments of PR #${this.number} - done`,kn.ID),r.data}async createIssueComment(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.AddIssueComment,variables:{input:{subjectId:this.graphNodeId,body:t}}});return Do(i.addComment.commentEdge.node)}async editIssueComment(t,e){try{const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:o}=await r({mutation:i.EditIssueComment,variables:{input:{id:t.graphNodeId,body:e}}});return Do(o.updateIssueComment.issueComment)}catch(r){throw new Error(U(r))}}async deleteIssueComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.deleteComment({owner:r.owner,repo:r.repositoryName,comment_id:Number(t)})}catch(e){throw new Error(U(e))}}async addLabels(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addLabels({owner:r.owner,repo:r.repositoryName,issue_number:this.number,labels:t})}async removeLabel(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeLabel({owner:r.owner,repo:r.repositoryName,issue_number:this.number,name:t})}async getIssueTimelineEvents(){a.debug(`Fetch timeline events of issue #${this.number} - enter`,kn.ID);const t=this.githubRepository,{query:e,remote:r,schema:i}=await t.ensure();try{const{data:o}=await e({query:i.IssueTimelineEvents,variables:{owner:r.owner,name:r.repositoryName,number:this.number}}),p=o.repository.pullRequest.timelineItems.nodes;return Uo(p,t)}catch(o){return console.log(o),[]}}};let Bt=kn;Lt(Bt,"ID","IssueModel");var Ef=Object.defineProperty,Rt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ef(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const pr=class extends Bt{constructor(t,e,r,i,o){super(e,r,i,!0);Rt(this,"isDraft"),Rt(this,"localBranchName"),Rt(this,"mergeBase"),Rt(this,"suggestedReviewers"),Rt(this,"_hasPendingReview",!1),Rt(this,"_onDidChangePendingReviewState",new v.EventEmitter),Rt(this,"onDidChangePendingReviewState",this._onDidChangePendingReviewState.event),Rt(this,"_reviewThreadsCache",[]),Rt(this,"_reviewThreadsCacheInitialized",!1),Rt(this,"_onDidChangeReviewThreads",new v.EventEmitter),Rt(this,"onDidChangeReviewThreads",this._onDidChangeReviewThreads.event),Rt(this,"fileChangeViewedState",{}),Rt(this,"_onDidChangeFileViewedState",new v.EventEmitter),Rt(this,"onDidChangeFileViewedState",this._onDidChangeFileViewedState.event),Rt(this,"isActive"),Rt(this,"_telemetry"),Rt(this,"isRemoteHeadDeleted"),Rt(this,"head"),Rt(this,"isRemoteBaseDeleted"),Rt(this,"base"),this._telemetry=t,this.isActive=!!o,this.update(i)}async initializeReviewThreadCache(){await this.getReviewThreads(),this._reviewThreadsCacheInitialized=!0}get reviewThreadsCache(){if(this._reviewThreadsCacheInitialized)return this._reviewThreadsCache;throw new Error("Cache has not been initialized yet")}get isMerged(){return this.state===ct.Merged}get hasPendingReview(){return this._hasPendingReview}set hasPendingReview(t){this._hasPendingReview!==t&&(this._hasPendingReview=t,this._onDidChangePendingReviewState.fire(this._hasPendingReview))}updateState(t){t.toLowerCase()==="open"?this.state=ct.Open:this.state=this.item.merged?ct.Merged:ct.Closed}update(t){super.update(t),this.isDraft=t.isDraft,this.suggestedReviewers=t.suggestedReviewers,t.isRemoteHeadDeleted!=null&&(this.isRemoteHeadDeleted=t.isRemoteHeadDeleted),t.head&&(this.head=new jt(t.head.ref,t.head.label,t.head.sha,t.head.repo.cloneUrl)),t.isRemoteBaseDeleted!=null&&(this.isRemoteBaseDeleted=t.isRemoteBaseDeleted),t.base&&(this.base=new jt(t.base.ref,t.base.label,t.base.sha,t.base.repo.cloneUrl))}isResolved(){return!!this.head}validatePullRequestModel(t){if(this.head)return!0;const e=`There is no upstream branch for Pull Request #${this.number}. View it on GitHub for more details`;return t?t+=`: ${e}`:t=e,v.window.showWarningMessage(t,"Open on GitHub").then(r=>{r&&r==="Open on GitHub"&&v.commands.executeCommand("vscode.open",v.Uri.parse(this.html_url))}),!1}async approve(t){return(await this.getPendingReviewId()?this.submitReview(Et.Approve,t):this.createReview(Et.Approve,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.approve"),r))}async requestChanges(t){return(await this.getPendingReviewId()?this.submitReview(Et.RequestChanges,t):this.createReview(Et.RequestChanges,t)).then(r=>(this._telemetry.sendTelemetryEvent("pr.requestChanges"),r))}async close(){const{octokit:t,remote:e}=await this.githubRepository.ensure(),r=await t.pulls.update({owner:e.owner,repo:e.repositoryName,pull_number:this.number,state:"closed"});return this._telemetry.sendTelemetryEvent("pr.close"),Yr(r.data,this.githubRepository)}async createReview(t,e){const{octokit:r,remote:i}=await this.githubRepository.ensure(),{data:o}=await r.pulls.createReview({owner:i.owner,repo:i.repositoryName,pull_number:this.number,event:t,body:e});return hf(o,this.githubRepository)}async submitReview(t,e){const r=await this.getPendingReviewId(),{mutate:i,schema:o}=await this.githubRepository.ensure();if(r){const{data:p}=await i({mutation:o.SubmitReview,variables:{id:r,event:t||Et.Comment,body:e}});return this.hasPendingReview=!1,await this.updateDraftModeContext(),vf(p.submitPullRequestReview.pullRequestReview,this.githubRepository)}else throw new Error(`Submitting review failed, no pending review for current pull request: ${this.number}.`)}async updateMilestone(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),i=t==="null"?null:t;try{await e({mutation:r.UpdatePullRequest,variables:{input:{pullRequestId:this.item.graphNodeId,milestoneId:i}}})}catch(o){a.appendLine(o)}}async updateAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.addAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:t})}async getPendingReviewId(){const{query:t,schema:e}=await this.githubRepository.ensure(),r=await this.githubRepository.getAuthenticatedUser();try{const{data:i}=await t({query:e.GetPendingReviewId,variables:{pullRequestId:this.item.graphNodeId,author:r}});return i.node.reviews.nodes[0].id}catch(i){return}}async deleteReview(){const t=await this.getPendingReviewId(),{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.DeleteReview,variables:{input:{pullRequestReviewId:t}}}),{comments:o,databaseId:p}=i.deletePullRequestReview.pullRequestReview;return this.hasPendingReview=!1,await this.updateDraftModeContext(),this.getReviewThreads(),{deletedReviewId:p,deletedReviewComments:o.nodes.map(N=>mi(N,!1))}}async startReview(t){var e;const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:o}=await r({mutation:i.StartReview,variables:{input:{body:"",pullRequestId:this.item.graphNodeId,commitOID:t||((e=this.head)==null?void 0:e.sha)}}});if(!o)throw new Error("Failed to start review");return o.addPullRequestReview.pullRequestReview.id}async createReviewThread(t,e,r,i,o){if(!this.validatePullRequestModel("Creating comment failed"))return;const p=await this.getPendingReviewId(),{mutate:N,schema:L}=await this.githubRepository.ensure(),{data:$}=await N({mutation:L.AddReviewThread,variables:{input:{path:e,body:t,pullRequestId:this.graphNodeId,pullRequestReviewId:p,line:r,side:i}}});o||(this.hasPendingReview=!0,await this.updateDraftModeContext());const K=$.addPullRequestReviewThread.thread,re=bn(K);return this._reviewThreadsCache.push(re),this._onDidChangeReviewThreads.fire({added:[re],changed:[],removed:[]}),re}async createCommentReply(t,e,r,i){var o;if(!this.validatePullRequestModel("Creating comment failed"))return;let p=await this.getPendingReviewId();p||(p=await this.startReview(i));const{mutate:N,schema:L}=await this.githubRepository.ensure(),{data:$}=await N({mutation:L.AddComment,variables:{input:{pullRequestReviewId:p,body:t,inReplyTo:e,commitOID:i||((o=this.head)==null?void 0:o.sha)}}}),{comment:K}=$.addPullRequestReviewComment,re=mi(K,!1);r&&(re.isDraft=!1);const ce=this._reviewThreadsCache.find(de=>de.comments.some(we=>we.graphNodeId===e));return ce&&(ce.comments.push(re),this._onDidChangeReviewThreads.fire({added:[],changed:[ce],removed:[]})),re}async validateDraftMode(){const t=!!await this.getPendingReviewId();return t!==this.hasPendingReview&&(this.hasPendingReview=t),await this.updateDraftModeContext(),t}async updateDraftModeContext(){this.isActive&&await v.commands.executeCommand("setContext","reviewInDraftMode",this.hasPendingReview)}async editReviewComment(t,e){const{mutate:r,schema:i}=await this.githubRepository.ensure(),{data:o}=await r({mutation:i.EditComment,variables:{input:{pullRequestReviewCommentId:t.graphNodeId,body:e}}}),p=mi(o.updatePullRequestReviewComment.pullRequestReviewComment,!!t.isResolved),N=this._reviewThreadsCache.find(L=>L.comments.some($=>$.graphNodeId===t.graphNodeId));if(N){const L=N.comments.findIndex($=>$.graphNodeId===t.graphNodeId);N.comments.splice(L,1,p),this._onDidChangeReviewThreads.fire({added:[],changed:[N],removed:[]})}return p}async deleteReviewComment(t){try{const{octokit:e,remote:r}=await this.githubRepository.ensure(),i=Number(t);await e.pulls.deleteReviewComment({owner:r.owner,repo:r.repositoryName,comment_id:i});const o=this._reviewThreadsCache.findIndex(p=>p.comments.some(N=>N.id===i));if(o>-1){const p=this._reviewThreadsCache[o],N=p.comments.findIndex(L=>L.id===i);p.comments.splice(N,1),p.comments.length===0?(this._reviewThreadsCache.splice(o,1),this._onDidChangeReviewThreads.fire({added:[],changed:[],removed:[p]})):this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}catch(e){throw new Error(U(e))}}async getReviewRequests(){const t=this.githubRepository,{remote:e,octokit:r}=await t.ensure();return(await r.pulls.listRequestedReviewers({owner:e.owner,repo:e.repositoryName,pull_number:this.number})).data.users.map(o=>$r(o,t))}async requestReview(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.requestReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:t})}async deleteReviewRequest(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.pulls.removeRequestedReviewers({owner:r.owner,repo:r.repositoryName,pull_number:this.number,reviewers:[t]})}async deleteAssignees(t){const{octokit:e,remote:r}=await this.githubRepository.ensure();await e.issues.removeAssignees({owner:r.owner,repo:r.repositoryName,issue_number:this.number,assignees:[t]})}diffThreads(t){const e=[],r=[],i=[];t.forEach(o=>{const p=this._reviewThreadsCache.find(N=>N.id===o.id);p?Ke()(o,p)||r.push(o):e.push(o)}),this._reviewThreadsCache.forEach(o=>{t.find(p=>p.id===o.id)||i.push(o)}),this._onDidChangeReviewThreads.fire({added:e,changed:r,removed:i})}async getReviewThreads(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}}),o=i.repository.pullRequest.reviewThreads.nodes.map(p=>bn(p));return this.diffThreads(o),this._reviewThreadsCache=o,o}catch(i){return a.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getReviewComments(){const{remote:t,query:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await e({query:r.PullRequestComments,variables:{owner:t.owner,name:t.repositoryName,number:this.number}});return i.repository.pullRequest.reviewThreads.nodes.map(p=>p.comments.nodes.map(N=>mi(N,p.isResolved),t)).reduce((p,N)=>p.concat(N),[]).sort((p,N)=>p.createdAt>N.createdAt?1:-1)}catch(i){return a.appendLine(`Failed to get pull request review comments: ${i}`),[]}}async getCommits(){try{a.debug(`Fetch commits of PR #${this.number} - enter`,pr.ID);const{remote:t,octokit:e}=await this.githubRepository.ensure(),r=await e.pulls.listCommits({pull_number:this.number,owner:t.owner,repo:t.repositoryName});return a.debug(`Fetch commits of PR #${this.number} - done`,pr.ID),r.data}catch(t){return v.window.showErrorMessage(`Fetching commits failed: ${U(t)}`),[]}}async getCommitChangedFiles(t){try{a.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - enter`,pr.ID);const{octokit:e,remote:r}=await this.githubRepository.ensure(),i=await e.repos.getCommit({owner:r.owner,repo:r.repositoryName,ref:t.sha});return a.debug(`Fetch file changes of commit ${t.sha} in PR #${this.number} - done`,pr.ID),i.data.files.filter(o=>!!o.patch)}catch(e){return v.window.showErrorMessage(`Fetching commit file changes failed: ${U(e)}`),[]}}async getFile(t,e){var r;const{octokit:i,remote:o}=await this.githubRepository.ensure(),p=await i.repos.getContent({owner:o.owner,repo:o.repositoryName,path:t,ref:e});if(Array.isArray(p.data))throw new Error(`Unexpected array response when getting file ${t}`);const N=(r=p.data.content)!=null?r:"";return Buffer.from(N,p.data.encoding).toString()}async getTimelineEvents(){a.debug(`Fetch timeline events of PR #${this.number} - enter`,pr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure();try{const{data:i}=await t({query:r.TimelineEvents,variables:{owner:e.owner,name:e.repositoryName,number:this.number}}),o=i.repository.pullRequest.timelineItems.nodes,p=Uo(o,this.githubRepository);return await this.addReviewTimelineEventComments(p),p}catch(i){return console.log(i),[]}}async addReviewTimelineEventComments(t){const e=t.filter(Ht),i=(await this.getReviewThreads()).reduce((K,re)=>K.concat(re.comments),[]),o=e.reduce((K,re)=>(K[re.id]=re,re.comments=[],K),{}),p=i.reduce((K,re)=>(K[re.id]=re,K),{}),N=[];let L=i.length;for(;L-- >0;){const K=i[L];if(!K.inReplyToId){N.unshift(K);continue}const re=p[K.inReplyToId];re.childComments=re.childComments||[],re.childComments=[K,...K.childComments||[],...re.childComments]}N.forEach(K=>{const re=o[K.pullRequestReviewId];re&&(re.comments=re.comments.concat(K).concat(K.childComments||[]))});const $=e.filter(K=>K.state.toLowerCase()==="pending")[0];$&&($.comments=i.filter(K=>K.isDraft))}async getStatusChecks(){const{query:t,remote:e,schema:r}=await this.githubRepository.ensure(),o=(await t({query:r.GetChecks,variables:{owner:e.owner,name:e.repositoryName,number:this.number}})).data.repository.pullRequest.commits.nodes[0].commit.statusCheckRollup;return o?{state:o.state.toLowerCase(),statuses:o.contexts.nodes.map(p=>{var N,L,$,K;return Zt(p)?{id:p.id,url:(N=p.checkSuite.app)==null?void 0:N.url,avatar_url:(L=p.checkSuite.app)==null?void 0:L.logoUrl,state:(($=p.conclusion)==null?void 0:$.toLowerCase())||"pending",description:p.title,context:p.name,target_url:p.detailsUrl}:{id:p.id,url:p.targetUrl,avatar_url:p.avatarUrl,state:(K=p.state)==null?void 0:K.toLowerCase(),description:p.description,context:p.context,target_url:p.targetUrl}})}:{state:"pending",statuses:[]}}static async openDiffFromComment(t,e,r){const i=await e.getFileChangesInfo(),o=e.mergeBase||e.base.sha,N=(await nr(i,t.repository,o)).find(re=>re.fileName===r.path||re.previousFileName===r.path);if(!N)throw new Error("Can't find matching file");let L,$;if(e.equals(t.activePullRequest)){const re=v.Uri.file(f.resolve(t.repository.rootUri.fsPath,N.fileName));L=N.status===Me.DELETE?ne(re,void 0,void 0,"",!1,{base:!1},t.repository.rootUri):re,$=ne(re,N.status===Me.RENAME?N.previousFileName:N.fileName,void 0,N.status===Me.ADD?"":o,!1,{base:!0},t.repository.rootUri)}else{const re=e.head.sha,ce=N.status===Me.RENAME?N.previousFileName:N.fileName;L=ue(v.Uri.file(f.resolve(t.repository.rootUri.fsPath,N.fileName)),e,N.baseCommit,re,N.fileName,!1,N.status),$=ue(v.Uri.file(f.resolve(t.repository.rootUri.fsPath,ce)),e,N.baseCommit,re,N.fileName,!0,N.status)}const K=r.path.split("/");v.commands.executeCommand("vscode.diff",$,L,`${K[K.length-1]} (Pull Request)`,{})}async getFileChangesInfo(){a.debug(`Fetch file changes, base, head and merge base of PR #${this.number} - enter`,pr.ID);const t=this.githubRepository,{octokit:e,remote:r}=await t.ensure();if(!this.base){const N=await e.pulls.get({owner:r.owner,repo:r.repositoryName,pull_number:this.number});this.update(Yr(N.data,t))}if(this.item.merged){const N=await e.pulls.listFiles({repo:r.repositoryName,owner:r.owner,pull_number:this.number});return this.mergeBase=this.base.sha,N.data}const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.base.repositoryCloneUrl.owner}:${this.base.ref}`,head:`${this.head.repositoryCloneUrl.owner}:${this.head.ref}`});this.mergeBase=i.merge_base_commit.sha;const o=300;let p=[];return i.files.length>=o?(a.debug(`More than ${o} files changed, fetching all file changes of PR #${this.number}`,pr.ID),p=await e.paginate("GET /repos/:owner/:repo/pulls/:pull_number/files",{owner:this.base.repositoryCloneUrl.owner,pull_number:this.number,repo:r.repositoryName,per_page:100})):p=i.files,a.debug(`Fetch file changes and merge base of PR #${this.number} - done, total files ${p.length} `,pr.ID),p}async getMergeability(){try{a.debug(`Fetch pull request mergeability ${this.number} - enter`,pr.ID);const{query:t,remote:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await t({query:r.PullRequestMergeability,variables:{owner:e.owner,name:e.repositoryName,number:this.number}});return a.debug(`Fetch pull request mergeability ${this.number} - done`,pr.ID),_s(i.repository.pullRequest.mergeable)}catch(t){return a.appendLine(`PullRequestModel> Unable to fetch PR Mergeability: ${t}`),Tt.Unknown}}async setReadyForReview(){try{const{mutate:t,schema:e}=await this.githubRepository.ensure(),{data:r}=await t({mutation:e.ReadyForReview,variables:{input:{pullRequestId:this.graphNodeId}}});return this._telemetry.sendTelemetryEvent("pr.readyForReview.success"),r.markPullRequestReadyForReview.pullRequest.isDraft}catch(t){throw this._telemetry.sendTelemetryErrorEvent("pr.readyForReview.failure"),t}}updateCommentReactions(t,e){const r=this._reviewThreadsCache.find(i=>i.comments.some(o=>o.graphNodeId===t));if(r){const i=r.comments.find(o=>o.graphNodeId===t);i.reactions=Fo(e),this._onDidChangeReviewThreads.fire({added:[],changed:[r],removed:[]})}}async addCommentReaction(t,e){const r=wn().reduce((L,$)=>(L[$.label]=$.title,L),{}),{mutate:i,schema:o}=await this.githubRepository.ensure(),{data:p}=await i({mutation:o.AddReaction,variables:{input:{subjectId:t,content:r[e.label]}}}),N=p.addReaction.subject.reactionGroups;return this.updateCommentReactions(t,N),p}async deleteCommentReaction(t,e){const r=wn().reduce((L,$)=>(L[$.label]=$.title,L),{}),{mutate:i,schema:o}=await this.githubRepository.ensure(),{data:p}=await i({mutation:o.DeleteReaction,variables:{input:{subjectId:t,content:r[e.label]}}}),N=p.removeReaction.subject.reactionGroups;return this.updateCommentReactions(t,N),p}async resolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.ResolveReviewThread,variables:{input:{threadId:t}}}),o=this._reviewThreadsCache.findIndex(p=>p.id===t);if(o>-1){const p=bn(i.resolveReviewThread.thread);this._reviewThreadsCache.splice(o,1,p),this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}async unresolveReviewThread(t){const{mutate:e,schema:r}=await this.githubRepository.ensure(),{data:i}=await e({mutation:r.UnresolveReviewThread,variables:{input:{threadId:t}}}),o=this._reviewThreadsCache.findIndex(p=>p.id===t);if(o>-1){const p=bn(i.unresolveReviewThread.thread);this._reviewThreadsCache.splice(o,1,p),this._onDidChangeReviewThreads.fire({added:[],changed:[p],removed:[]})}}async getPullRequestFileViewState(){const{query:t,schema:e,remote:r}=await this.githubRepository.ensure(),i=[];let o=null,p=!1;do{const{data:N}=await t({query:e.PullRequestFiles,variables:{owner:r.owner,name:r.repositoryName,number:this.number,after:o}});N.repository.pullRequest.files.nodes.forEach(L=>{this.fileChangeViewedState[L.path]!==L.viewerViewedState&&i.push({fileName:L.path,viewed:L.viewerViewedState}),this.fileChangeViewedState[L.path]=L.viewerViewedState}),p=N.repository.pullRequest.files.pageInfo.hasNextPage,o=N.repository.pullRequest.files.pageInfo.endCursor}while(p);return i.length&&this._onDidChangeFileViewedState.fire({changed:i}),this.fileChangeViewedState}async markFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.MarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=qe.VIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:qe.VIEWED}]})}async unmarkFileAsViewed(t){const{mutate:e,schema:r}=await this.githubRepository.ensure();await e({mutation:r.UnmarkFileAsViewed,variables:{input:{path:t,pullRequestId:this.graphNodeId}}}),this.fileChangeViewedState[t]=qe.UNVIEWED,this._onDidChangeFileViewedState.fire({changed:[{fileName:t,viewed:qe.UNVIEWED}]})}};let Ir=pr;Rt(Ir,"ID","PullRequestModel");var Rf=Object.defineProperty,Go=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Rf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class xf extends xo{constructor(e,r,i){super();this._extensionUri=e,this._folderRepositoryManager=r,this._item=i,Go(this,"viewType","github:activePullRequest"),Go(this,"_existingReviewers",[]),this._disposables.push(this._folderRepositoryManager.onDidMergePullRequest(o=>{this._postMessage({command:"update-state",state:ct.Merged})}))}resolveWebviewView(e,r,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this.updatePullRequest(this._item)}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"alert":v.window.showErrorMessage(e.args);return;case"pr.close":return this.close(e);case"pr.comment":return this.createComment(e);case"pr.merge":return this.mergePullRequest(e);case"pr.deleteBranch":return this.deleteBranch(e);case"pr.readyForReview":return this.setReadyForReview(e);case"pr.approve":return this.approvePullRequest(e);case"pr.request-changes":return this.requestChanges(e);case"pr.submit":return this.submitReview(e);case"pr.openOnGitHub":return $i(this._item,this._item._telemetry);case"pr.checkout-default-branch":return this.checkoutDefaultBranch(e)}}async checkoutDefaultBranch(e){try{const r=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.checkoutDefaultBranch(r)}finally{this._replyMessage(e,{})}}async refresh(){await this.updatePullRequest(this._item)}async updatePullRequest(e){return Promise.all([this._folderRepositoryManager.resolvePullRequest(e.remote.owner,e.remote.repositoryName,e.number),this._folderRepositoryManager.getPullRequestRepositoryAccessAndMergeMethods(e),e.getTimelineEvents(),e.getReviewRequests(),this._folderRepositoryManager.getBranchNameForPullRequest(e)]).then(r=>{const[i,o,p,N,L]=r;if(!i)throw new Error(`Fail to resolve Pull Request #${e.number} in ${e.remote.owner}/${e.remote.repositoryName}`);if(!this._view)return;this._item=i,this._view.title=`${i.title} #${e.number.toString()}`;const $=e.equals(this._folderRepositoryManager.activePullRequest),K=o.hasWritePermission,re=o.mergeMethodsAvailability,ce=K||this._item.canEdit(),de=v.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),we=Mo(re,de),Re=this._folderRepositoryManager.getCurrentUser(this._item);this._existingReviewers=$o(N!=null?N:[],p!=null?p:[],i.author);const Ce=i.base&&i.head&&!i.base.repositoryCloneUrl.equals(i.head.repositoryCloneUrl)&&Ss();this._postMessage({command:"pr.initialize",pullrequest:{number:i.number,title:i.title,url:i.html_url,createdAt:i.createdAt,body:i.body,bodyHTML:i.bodyHTML,labels:i.item.labels,author:{login:i.author.login,name:i.author.name,avatarUrl:i.userAvatar,url:i.author.url},state:i.state,isCurrentlyCheckedOut:$,isRemoteBaseDeleted:i.isRemoteBaseDeleted,base:i.base.label,isRemoteHeadDeleted:i.isRemoteHeadDeleted,isLocalHeadDeleted:!L,head:i.head.label,canEdit:ce,hasWritePermission:K,mergeable:i.item.mergeable,isDraft:i.isDraft,status:{statuses:[]},events:[],mergeMethodsAvailability:re,defaultMergeMethod:we,isIssue:!1,isAuthor:Re.login===i.author.login,reviewers:this._existingReviewers,continueOnGitHub:Ce}})}).catch(r=>{v.window.showErrorMessage(U(r))})}close(e){v.commands.executeCommand("pr.close",this._item,e.args).then(r=>{r&&this._replyMessage(e,{value:r})})}createComment(e){this._item.createIssueComment(e.args).then(r=>{this._replyMessage(e,{value:r})})}updateReviewers(e){if(e){const r=this._existingReviewers.find(i=>e.user.login===i.reviewer.login);r?r.state=e.state:this._existingReviewers.push({reviewer:e.user,state:e.state})}}approvePullRequest(e){this._item.approve(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers}),v.commands.executeCommand("pr.refreshList")},r=>{v.window.showErrorMessage(`Approving pull request failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}requestChanges(e){this._item.requestChanges(e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{v.window.showErrorMessage(`Requesting changes failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}submitReview(e){this._item.submitReview(Et.Comment,e.args).then(r=>{this.updateReviewers(r),this._replyMessage(e,{review:r,reviewers:this._existingReviewers})},r=>{v.window.showErrorMessage(`Submitting review failed. ${U(r)}`),this._throwError(e,`${U(r)}`)})}async deleteBranch(e){const r=await this._folderRepositoryManager.getBranchNameForPullRequest(this._item),i=[];if(this._item.isResolved()){const N=this._item.head.ref;await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item)===this._item.head.ref||i.push({label:`Delete remote branch ${this._item.remote.remoteName}/${N}`,description:`${this._item.remote.normalizedHost}/${this._item.remote.owner}/${this._item.remote.repositoryName}`,type:"upstream",picked:!0})}if(r){const N=v.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectLocalBranch");i.push({label:`Delete local branch ${r.branch}`,type:"local",picked:!!N});const L=v.workspace.getConfiguration("githubPullRequests").get("defaultDeletionMethod.selectRemote");r.remote&&r.createdForPullRequest&&!r.remoteInUse&&i.push({label:`Delete remote ${r.remote}, which is no longer used by any other branch`,type:"remote",picked:!!L})}if(v.env.remoteName==="codespaces"&&i.push({label:"Suspend Codespace",type:"suspend"}),!i.length){v.window.showWarningMessage(`There is no longer an upstream or local branch for Pull Request #${this._item.number}`),this._replyMessage(e,{cancelled:!0});return}const o=await v.window.showQuickPick(i,{canPickMany:!0,ignoreFocusOut:!0}),p=[];if(o){const N=this._item.equals(this._folderRepositoryManager.activePullRequest),L=o.map(async $=>{switch($.type){case"upstream":return await this._folderRepositoryManager.deleteBranch(this._item),p.push($.type),this._folderRepositoryManager.repository.fetch({prune:!0});case"local":if(N){if(this._folderRepositoryManager.repository.state.workingTreeChanges.length)if(await v.window.showWarningMessage("Your local changes will be lost, do you want to continue?",{modal:!0},"Yes")==="Yes")await v.commands.executeCommand("git.cleanAll");else return;const K=await this._folderRepositoryManager.getPullRequestRepositoryDefaultBranch(this._item);await this._folderRepositoryManager.repository.checkout(K)}return await this._folderRepositoryManager.repository.deleteBranch(r.branch,!0),p.push($.type);case"remote":return await this._folderRepositoryManager.repository.removeRemote(r.remote),p.push($.type);case"suspend":return await v.commands.executeCommand("github.codespaces.disconnectSuspend"),p.push($.type)}});await Promise.all(L),v.commands.executeCommand("pr.refreshList"),this._postMessage({command:"pr.deleteBranch",branchTypes:p})}else this._replyMessage(e,{cancelled:!0})}setReadyForReview(e){this._item.setReadyForReview().then(r=>{v.commands.executeCommand("pr.refreshList"),this._replyMessage(e,{isDraft:r})}).catch(r=>{v.window.showErrorMessage(`Unable to set PR ready for review. ${U(r)}`),this._throwError(e,{})})}async mergePullRequest(e){const{title:r,description:i,method:o}=e.args;if(await v.window.showInformationMessage("Merge this pull request?",{modal:!0},"Yes")!=="Yes"){this._replyMessage(e,{state:ct.Open});return}this._folderRepositoryManager.mergePullRequest(this._item,r,i,o).then(N=>{v.commands.executeCommand("pr.refreshList"),N.merged||v.window.showErrorMessage(`Merging PR failed: ${N.message}`),this._replyMessage(e,{state:N.merged?ct.Merged:ct.Open})}).catch(N=>{v.window.showErrorMessage(`Unable to merge pull request. ${U(N)}`),this._throwError(e,{})})}_getHtmlForWebview(){const e=ys(),r=v.Uri.joinPath(this._extensionUri,"dist","webview-open-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Active Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}class Mf{constructor(e,r){this.reviewManager=e,this.folderRepositoryManager=r}provideTerminalLinks(e,r){var i;const o=e.line.indexOf("https://github.com");if(o===-1)return[];const p=e.line.substring(o),N=new RegExp(/https:\/\/github\.com\/(.*)\/(.*)\/pull\/new\/(.*)/),L=p.match(N);if(L&&L.length===4){const $=L[1],K=L[2],re=L[3];if(this.folderRepositoryManager.gitHubRepositories.findIndex(de=>de.remote.owner===$&&de.remote.repositoryName===K)>-1&&((i=this.reviewManager.repository.state.HEAD)==null?void 0:i.name)===re)return[{startIndex:o,length:e.line.length-o,tooltip:"Create a Pull Request",url:p}]}return[]}handleTerminalLink(e){const r=v.workspace.getConfiguration("githubPullRequests").get("terminalLinksHandler");if(r==="github"){v.env.openExternal(v.Uri.parse(e.url));return}if(r==="vscode"){this.reviewManager.createPullRequest();return}v.window.showInformationMessage("Do you want to create a pull request using the GitHub Pull Requests and Issues extension?","Yes","No, continue to github.com").then(i=>{i==="Yes"?this.reviewManager.createPullRequest():v.env.openExternal(v.Uri.parse(e.url))})}}let Vo=!1;const jo=class{static async getApiHost(t){const e=process.env.GITHUB_TEST_SERVER;if(e){if(Vo)return v.Uri.parse(e);if(await v.window.showInformationMessage(`The 'GITHUB_TEST_SERVER' environment variable is set to '${e}'. Use this as the GitHub API endpoint?`,{modal:!0},"Yes")==="Yes")return Vo=!0,v.Uri.parse(e)}const r=t instanceof v.Uri?t:v.Uri.parse(t.host);return r.authority==="github.com"?v.Uri.parse("https://api.github.com"):v.Uri.parse(`${r.scheme}://${r.authority}`)}static getApiPath(t,e){return(t instanceof v.Uri?t:v.Uri.parse(t.host)).authority==="github.com"?e:`/api/v3${e}`}};var Tf=Object.defineProperty,Cf=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Tf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Es{constructor(){Cf(this,"_servers",new Map().set("github.com",!0))}async isGitHub(e){if(e===null)return!1;if(this._servers.has(e.authority))return!!this._servers.get(e.authority);const[r,i]=await Es.getOptions(e,"HEAD","/rate_limit");let o=!1;try{return o=(await Fn()(r.toString(),i)).headers.get("x-github-request-id")!==void 0,o}catch(p){return a.appendLine(`No response from host ${e}: ${p.message}`,"GitHubServer"),o}finally{a.debug(`Host ${e} is associated with GitHub: ${o}`,"GitHubServer"),this._servers.set(e.authority,o)}}static async getOptions(e,r="GET",i,o){const p={"user-agent":"GitHub VSCode Pull Requests"};o&&(p.authorization=`token ${o}`);const N=v.Uri.joinPath(await jo.getApiHost(e),jo.getApiPath(e,i));return[N,{hostname:N.authority,port:443,method:r,headers:p,agent:vo}]}}var Nf=st(1336),Pf=st(9593),Af=st.n(Pf),Sn=st(7228);const zo=/http(s)?\:\/\/github\.com\/([^\/]+)\/([^\/]+)\/blob\/([0-9a-fA-F]{40})\/([^#]+)#L(\d+)(-L(\d+))?/;function Wo(t){return t.match(zo)}function If(t){return!!Wo(t.body)}async function Qo(t,e,r=!0){const i=t[2],o=t[3],p=t[5],N=Number(t[6])-1,L=t[8]?Number(t[8])-1:N;let $;for(const re of e.folderManagers){const ce=re.getGitHubRemotes();for(const de of ce)if(i.toLowerCase()===de.owner.toLowerCase()&&o.toLowerCase()===de.repositoryName.toLowerCase()){$=re;break}if($)break}if(!$)return;const K=v.Uri.joinPath($.repository.rootUri,p);try{await v.workspace.fs.stat(K)}catch(re){return}return{file:K,start:N,end:L}}async function Df(t,e){const r=Wo(t.body);if(!r){v.window.showInformationMessage("Issue has no link.");return}const i=await Qo(r,e,!1);if(!i)return v.env.openExternal(v.Uri.parse(r[0]));const o=await v.workspace.openTextDocument(i==null?void 0:i.file),p=o.lineAt(i.end<o.lineCount?i.end:o.lineCount-1),N=new v.Range(i.start,0,i.end,p.text.length);return v.window.showTextDocument(i.file,{selection:N})}var Ff=Object.defineProperty,Ko=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ff(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Bm=/(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,Fi=/(https?:\/\/github\.com\/(([^\s]+)\/([^\s]+))\/([^\s]+\/)?(issues|pull)\/([0-9]+)(#issuecomment\-([0-9]+))?)|(([^\s]+)\/([^\s]+))?(#|GH-)([1-9][0-9]*)($|\b)/,Rs=/\@([^\s]+)/,Of=150,Nt="githubIssues",vi="queries",Bf="default",Yo="workingIssueBranch",xs="issueBranchTitle",Zo="useBranchForIssues",Lf="workingIssueFormatScm";function Ms(t){if(!t)return;const e={owner:void 0,name:void 0,issueNumber:0};return t.length===7?(e.owner=t[2],e.name=t[3],e.issueNumber=parseInt(t[5]),e):t.length===16?(e.owner=t[3]||t[11],e.name=t[4]||t[12],e.issueNumber=parseInt(t[7]||t[14]),e.commentNumber=t[9]!==void 0?parseInt(t[9]):void 0,e):void 0}async function Uf(t,e,r,i){var o;const p=(o=t.resolvedIssues.get(e.repository.rootUri.path))==null?void 0:o.get(r);if(p)return p;{let N,L,$;const K=e.getGitHubRemotes();for(const re of K){if(i)N=i.owner?i.owner:re.owner,L=i.name?i.name:re.repositoryName,$=i.issueNumber;else{const ce=Ms(r.match(Fi));ce&&(!ce.name||!ce.owner)&&(N=re.owner,L=re.repositoryName)}if(N&&L&&$!==void 0){let ce=await e.resolveIssue(N,L,$,!!i.commentNumber);if(ce||(ce=await e.resolvePullRequest(N,L,$)),ce){let de;return t.resolvedIssues.has(e.repository.rootUri.path)?de=t.resolvedIssues.get(e.repository.rootUri.path):t.resolvedIssues.set(e.repository.rootUri.path,de=new(Af())(50)),de.set(r,ce),ce}}}}}function qf(t,e){let r;return t.commitContributions.forEach(i=>{e.toLowerCase()===i.repoNameWithOwner.toLowerCase()&&(r=i.createdAt.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"}))}),r}class $f extends v.CompletionItem{constructor(){super(...arguments);Ko(this,"login"),Ko(this,"uri")}}function Ts(t,e){const r=new v.MarkdownString(void 0,!0);r.appendMarkdown(`![Avatar](${e.avatarUrl}|height=50,width=50) **${e.name}** [${e.login}](${e.url})`),e.bio&&r.appendText(`  \r
`+e.bio.replace(/\r\n/g," "));const i=qf(e,t.owner+"/"+t.repo);return(e.location||i)&&r.appendMarkdown(`  \r
\r
---`),e.location&&r.appendMarkdown(`  \r
$(location) ${e.location}`),i&&r.appendMarkdown(`  \r
$(git-commit) Committed to this repository on ${i}`),e.company&&r.appendMarkdown(`  \r
$(jersey) Member of ${e.company}`),r}function Hf(t){const e=/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:void 0}function Gf(t,e){const r=Hf(t);let i="ffffff";return r&&(.299*r.r+.587*r.g+.114*r.b)/255>.5&&(i="000000"),`<span style="color:#${i};background-color:#${t};">&nbsp;&nbsp;${e}&nbsp;&nbsp;</span>`}async function Jo(t,e,r){let i=t.search(e),o=0;for(;i>=0&&i<t.length;){let p;if(i===0||t.charAt(i-1)!=="&"){const L=t.substring(i).match(e);if(L){const $=await r(L);$&&(p=t.slice(0,i)+$,t=p+t.slice(i+L[0].length))}}o=p?p.length:i+1;const N=t.substring(o).search(e);i=N>0?o+N:N}return t}function Xo(t,e){return Jo(t,Fi,async r=>{const i=Ms(r);if(i){const o=ru(i);return(!i.owner||!i.name)&&(i.owner=e.remote.owner,i.name=e.remote.repositoryName),`[${o}](https://github.com/${i.owner}/${i.name}/issues/${i.issueNumber})`}})}async function Vf(t,e){return Jo(t,zo,async r=>{const i=await Qo(r,e);if(i){const o=await v.workspace.openTextDocument(i==null?void 0:i.file),p=o.lineAt(i.end<o.lineCount?i.end:o.lineCount-1),N=[i.file,{selection:{start:{line:i.start,character:0},end:{line:i.end,character:p.text.length}}}],L=v.Uri.parse(`command:vscode.open?${encodeURIComponent(JSON.stringify(N))}`);return`[${r[0]}](${L} "Open ${i.file.fsPath}")`}})}const En=200;async function Cs(t,e,r,i){const o=new v.MarkdownString(void 0,!0);o.isTrusted=!0;const p=new Date(t.createdAt),N=`${t.remote.owner}/${t.remote.repositoryName}`;o.appendMarkdown(`[${N}](https://github.com/${N}) on ${p.toLocaleString("default",{day:"numeric",month:"short",year:"numeric"})}  
`);const L=Sn.parse(t.title,{renderer:new As}).trim();o.appendMarkdown(`${zf(t)} **${L}** [#${t.number}](${t.html_url})  
`);let $=Sn.parse(t.body,{renderer:new As});if(o.appendMarkdown(`  
`),$=$.length>En?$.substr(0,En)+"...":$,$=await Xo($,t),$=await Vf($,r),o.appendMarkdown($+`  
`),o.appendMarkdown(`&nbsp;  
`),t.item.labels.length>0&&t.item.labels.forEach(K=>{o.appendMarkdown(`[${Gf(K.color,K.name)}](https://github.com/${N}/labels/${encodeURIComponent(K.name)}) `)}),t.item.comments&&i){for(const K of t.item.comments)if(K.databaseId===i){o.appendMarkdown(`  \r
\r
---\r
`),o.appendMarkdown(`&nbsp;  
`),o.appendMarkdown(`![Avatar](${K.author.avatarUrl}|height=15,width=15) &nbsp;&nbsp;**${K.author.login}** commented`),o.appendMarkdown(`&nbsp;  
`);let re=Sn.parse(K.body.length>En?K.body.substr(0,En)+"...":K.body,{renderer:new As});re=await Xo(re,t),o.appendMarkdown(re)}}return o}function jf(t){switch(t.state){case ct.Open:return t instanceof Ir?"$(git-pull-request)":"$(issues)";case ct.Closed:return t instanceof Ir?"$(git-pull-request)":"$(issue-closed)";case ct.Merged:return"$(git-merge)"}}function zf(t){if(t instanceof Ir)return jf(t);switch(t.state){case ct.Open:return'<span style="color:#22863a;">$(issues)</span>';case ct.Closed:return'<span style="color:#cb2431;">$(issue-closed)</span>'}}const eu="HEAD",Wf=1,Qf=2,Kf=3,tu=4,Rn=new Map([["upstream",Wf],["ups",Qf],["origin",Kf]]);async function Yf(t,e){var r,i,o;const p=((r=t.state.HEAD)==null?void 0:r.upstream)&&!Rn.has(t.state.HEAD.upstream.remote)?t.state.HEAD.upstream.remote:void 0;let N;const L=t.state.remotes.map(ce=>({name:ce.name,remote:ce})).filter(ce=>(ce.name===p&&(N=ce.remote),Rn.has(ce.name))).sort((ce,de)=>{var we,Re;const ke=(we=Rn.get(ce.name))!=null?we:tu,Ce=(Re=Rn.get(de.name))!=null?Re:tu;return ke-Ce});p&&L.push({name:p,remote:N});const $=[eu];((i=t.state.HEAD)==null?void 0:i.name)&&t.state.HEAD.name!==eu&&$.unshift((o=t.state.HEAD)==null?void 0:o.name);let K,re;for(let ce=0;ce<$.length&&!K;ce++)for(let de=0;de<L.length&&!K;de++){const we=(await t.getBranches({contains:e.hash,remote:!0,pattern:`remotes/${L[de].name}/${$[ce]}`,count:1})).filter(Re=>Re.remote&&Re.name);we&&we.length>0&&(K=we[0],re=L[de].remote)}return re}async function Ns(t,e){let r,i;if(!e&&v.window.activeTextEditor)r=v.window.activeTextEditor.document,i=v.window.activeTextEditor.selection;else if(e)r=e.document,i=e.range;else return{permalink:void 0,error:"No active text editor position to create permalink from."};const o=qo(t,r.uri);if(!o)return{permalink:void 0,error:"The current file isn't part of repository."};const p=await o.log({maxEntries:1,path:r.uri.fsPath});if(p.length===0)return{permalink:void 0,error:"No branch on a remote contains the most recent commit for the file."};const N=new Promise(K=>{var re;if((re=o.state.HEAD)==null?void 0:re.upstream)for(const ce of o.state.remotes)o.state.HEAD.upstream.remote===ce.name&&K(ce);K(void 0)});let L=await Promise.race([Yf(o,p[0]),new Promise(K=>{setTimeout(()=>{K(N)},2e3)})]);if((!L||!L.fetchUrl)&&(L=await N,!L||!L.fetchUrl))return{permalink:void 0,error:"There is no suitable remote."};const $=r.uri.path.substring(o.rootUri.path.length);return{permalink:`https://github.com/${new rt(L.fetchUrl).nameWithOwner}/blob/${p[0].hash}${$}#L${i.start.line+1}-L${i.end.line+1}`,error:void 0}}function Zf(t){const e=/[~^:;'".,~#?%*[\]@\\{}]|\/\//g;return t.replace(e,"").trim().replace(/\s+/g,"-")}const Jf=/\$\{(.*?)\}/g;async function xn(t,e,r,i){return t.replace(Jf,(o,p)=>{switch(p){case"user":return i||o;case"issueNumber":return e?`${e.number}`:o;case"issueNumberLabel":return e?`${gi(e,r)}`:o;case"issueTitle":return e?e.title:o;case"repository":return r?r.repo:o;case"owner":return r?r.owner:o;case"sanitizedIssueTitle":return e?Zf(e.title):o;default:return o}})}function gi(t,e){const r={issueNumber:t.number,owner:void 0,name:void 0};return e&&(e.owner.toLowerCase()!==t.remote.owner.toLowerCase()||e.repo.toLowerCase()!==t.remote.repositoryName.toLowerCase())&&(r.owner=t.remote.owner,r.name=t.remote.repositoryName),ru(r)}function ru(t){return!t.owner||!t.name?`#${t.issueNumber}`:`${t.owner}/${t.name}#${t.issueNumber}`}async function iu(t,e,r){var i;const o=await((i=e.currentIssue(t.repository.rootUri))==null?void 0:i.getCommitMessage());if(o)return t.repository.commit(o,{all:r})}const nu="Commit Staged",su="Commit All";async function Xf(t,e,r){var i,o;if(t.repository.state.workingTreeChanges.length>0||t.repository.state.indexChanges.length>0){const p=[];switch(t.repository.state.indexChanges&&p.push(nu),t.repository.state.workingTreeChanges&&p.push(su),await v.window.showInformationMessage("There are uncommitted changes. Do you want to commit them with the default commit message?",{modal:!0},...p)){case nu:{await iu(t,r,!1);break}case su:{await iu(t,r,!0);break}default:return!1}}if((i=t.repository.state.HEAD)==null?void 0:i.upstream)return await t.repository.push(),await e.createPullRequest(void 0),!0;{let p;return t.repository.state.remotes.length===1?p=t.repository.state.remotes[0].name:t.repository.state.remotes.length>1&&(p=await v.window.showQuickPick(t.repository.state.remotes.map(N=>N.name),{placeHolder:"Remote to push to"})),p?(await t.repository.push(p,(o=t.repository.state.HEAD)==null?void 0:o.name,!0),await e.createPullRequest(void 0),!0):(v.window.showWarningMessage("The current repository has no remotes to push to. Please set up a remote and try again."),!1)}}async function Ps(t,e){return!(t.languageId!=="markdown"&&t.languageId!=="plaintext"&&(await v.languages.getTokenInformationAtPosition(t,e)).type!==v.StandardTokenType.Comment)}async function au(t,e){return t.lineAt(e.line).range.end.character>1e4?!1:Ps(t,e)}function ou(t){const e=new Nf.URLSearchParams(t.query).get("rootUri");return e?v.Uri.parse(e):void 0}class As extends Sn.Renderer{code(e){return e}blockquote(e){return e}html(e){return""}heading(e,r,i,o){return e+" "}hr(){return""}list(e,r,i){return e}listitem(e){return" "+e}checkbox(e){return""}paragraph(e){return e.replace(/\</g,"\\<").replace(/\>/g,"\\>")+" "}table(e,r){return e+" "+r}tablerow(e){return e}tablecell(e,r){return e}strong(e){return e}em(e){return e}codespan(e){return`\\\`${e}\\\``}br(){return" "}del(e){return e}image(e,r,i){return""}text(e){return e}link(e,r,i){return i+" "}}var eh=Object.defineProperty,th=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?eh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const uu="github-pr-remote",lu="github-pr-owner-number",cu=/branch\.(.+)\.github-pr-owner-number/,rh=/branch\.(.+)\.remote/,_t=class{static async checkoutFromFork(t,e,r){const i=await _t.calculateUniqueBranchNameForPR(t,e);r||(a.appendLine(`Branch ${i} is from a fork. Create a remote first.`,_t.ID),r=await _t.createRemote(t,e.remote,e.head.repositoryCloneUrl));const o=`${e.head.ref}:${i}`;a.debug(`Fetch ${r}/${e.head.ref}:${i} - start`,_t.ID),await t.fetch(r,o,1),a.debug(`Fetch ${r}/${e.head.ref}:${i} - done`,_t.ID),await t.checkout(i),await t.setBranchUpstream(i,`refs/remotes/${r}/${e.head.ref}`),await this.unshallow(t),_t.associateBranchWithPullRequest(t,e,i)}static async fetchAndCheckout(t,e,r){if(!r.validatePullRequestModel("Checkout pull request failed"))return;const i=_t.getHeadRemoteForPullRequest(e,r),o=r.head.repositoryCloneUrl.owner!==r.base.repositoryCloneUrl.owner;if(!i||o)return _t.checkoutFromFork(t,r,i&&i.remoteName);const p=r.head.ref,N=i.remoteName;let L;try{if(L=await t.getBranch(p),a.debug(`Checkout ${p}`,_t.ID),await t.checkout(p),!L.upstream){const $=`refs/remotes/${N}/${p}`;await t.setBranchUpstream(p,$)}L.behind!==void 0&&L.behind>0&&L.ahead===0&&(a.debug("Pull from upstream",_t.ID),await t.pull())}catch($){a.appendLine(`Branch ${N}/${p} doesn't exist on local disk yet.`,_t.ID);const K=`refs/remotes/${N}/${p}`;a.appendLine(`Fetch tracked branch ${K}`,_t.ID),await t.fetch(N,p,1);const re=await t.getBranch(K);await t.createBranch(p,!0,re.commit),await t.setBranchUpstream(p,K),await this.unshallow(t)}await _t.associateBranchWithPullRequest(t,r,p)}static async unshallow(t){try{await t.pull(!0)}catch(e){a.appendLine(`Unshallowing failed: ${e}. Falling back to git pull`),await t.pull()}}static async checkoutExistingPullRequestBranch(t,e){const r=_t.buildPullRequestMetadata(e),i=await t.getConfigs(),o=N=>i.filter(({key:L})=>N===L).map(({value:L})=>L)[0],p=i.map(N=>{const L=cu.exec(N.key);return{branch:L&&L.length?L[1]:null,value:N.value}}).filter(N=>N.branch&&N.value===r);if(p&&p.length){const N=p[0].branch;await t.checkout(N);const L=o(`branch.${N}.remote`),$=o(`branch.${N}.merge`);await t.fetch(L,$);const K=await t.getBranch(p[0].branch);return K.behind!==void 0&&K.behind>0&&K.ahead===0&&(a.debug("Pull from upstream",_t.ID),await t.pull()),!0}else return!1}static async getBranchNRemoteForPullRequest(t,e){const r=_t.buildPullRequestMetadata(e),i=await t.getConfigs(),o=i.map(p=>{const N=cu.exec(p.key);return{branch:N&&N.length?N[1]:null,value:p.value}}).find(p=>!!p.branch&&p.value===r);if(o){const p=o.branch;try{const N=`branch.${p}.remote`,L=i.filter(ce=>ce.key===N).map(ce=>ce.value);let $;L.length&&($=L[0]);let K=!1;if($){const ce=`remote.${$}.github-pr-remote`;i.filter(we=>we.key===ce&&we.value).length&&(K=!0)}let re;return K&&(re=i.some(ce=>!!(rh.exec(ce.key)&&ce.key!==`branch.${p}.remote`&&ce.value===$))),{branch:p,remote:$,createdForPullRequest:K,remoteInUse:re}}catch(N){return{branch:p}}}return null}static buildPullRequestMetadata(t){return`${t.base.repositoryCloneUrl.owner}#${t.base.repositoryCloneUrl.repositoryName}#${t.number}`}static parsePullRequestMetadata(t){if(t){const e=/(.*)#(.*)#(.*)/g.exec(t);if(e&&e.length===4){const[,r,i,o]=e;return{owner:r,repositoryName:i,prNumber:Number(o)}}}}static getMetadataKeyForBranch(t){return`branch.${t}.${lu}`}static async getMatchingPullRequestMetadataForBranch(t,e){try{const r=this.getMetadataKeyForBranch(e),i=await t.getConfig(r);return _t.parsePullRequestMetadata(i)}catch(r){return}}static async createRemote(t,e,r){a.appendLine(`create remote for ${r}.`,_t.ID);const i=ci(t);for(const p of i)if(new rt(p.url).equals(r))return p.remoteName;const o=_t.getUniqueRemoteName(t,r.owner);return r.update({type:e.gitProtocol.type}),await t.addRemote(o,r.toString()),await t.setConfig(`remote.${o}.${uu}`,"true"),o}static async isRemoteCreatedForPullRequest(t,e){try{a.debug(`Check if remote '${e}' is created for pull request - start`,_t.ID);const r=await t.getConfig(`remote.${e}.${uu}`);return a.debug(`Check if remote '${e}' is created for pull request - end`,_t.ID),r==="true"}catch(r){return!1}}static async calculateUniqueBranchNameForPR(t,e){const r=`pr/${e.author.login}/${e.number}`;let i=r,o=1;for(;;)try{await t.getBranch(i),i=`${r}-${o++}`}catch(p){break}return i}static getUniqueRemoteName(t,e){let r=e,i=1;const o=ci(t);for(;o.find(p=>p.remoteName===r);)r=`${e}${i++}`;return r}static getHeadRemoteForPullRequest(t,e){return t.find(r=>r.gitProtocol&&r.gitProtocol.equals(e.head.repositoryCloneUrl))}static async associateBranchWithPullRequest(t,e,r){a.appendLine(`associate ${r} with Pull Request #${e.number}`,_t.ID);const i=`branch.${r}.${lu}`;await t.setConfig(i,_t.buildPullRequestMetadata(e))}};let mr=_t;th(mr,"ID","PullRequestGitHelper");var ih=Object.defineProperty,yt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ih(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class nh extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class du extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class sh extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:o}=this;return`The upstream ref ${e}/${r} for branch ${i} ${o}.`}}const Dr="githubPullRequests",Is="remotes",fu="ReposManagerStateContext";var er;(function(t){t.Initializing="Initializing",t.NeedsAuthentication="NeedsAuthentication",t.RepositoriesLoaded="RepositoriesLoaded"})(er||(er={}));const hu="No Milestone";var pu;(function(t){t[t.PullRequest=0]="PullRequest",t[t.Milestones=1]="Milestones",t[t.IssuesWithoutMilestone=2]="IssuesWithoutMilestone",t[t.IssueSearch=3]="IssueSearch"})(pu||(pu={}));const vr=class{constructor(t,e,r,i,o){this.context=t,this._repository=e,this.telemetry=r,this._git=i,this._credentialStore=o,yt(this,"_subs"),yt(this,"_activePullRequest"),yt(this,"_activeIssue"),yt(this,"_githubRepositories"),yt(this,"_allGitHubRemotes",[]),yt(this,"_mentionableUsers"),yt(this,"_fetchMentionableUsersPromise"),yt(this,"_assignableUsers"),yt(this,"_fetchAssignableUsersPromise"),yt(this,"_gitBlameCache",{}),yt(this,"_githubManager"),yt(this,"_repositoryPageInformation",new Map),yt(this,"_onDidMergePullRequest",new v.EventEmitter),yt(this,"onDidMergePullRequest",this._onDidMergePullRequest.event),yt(this,"_onDidChangeActivePullRequest",new v.EventEmitter),yt(this,"onDidChangeActivePullRequest",this._onDidChangeActivePullRequest.event),yt(this,"_onDidChangeActiveIssue",new v.EventEmitter),yt(this,"onDidChangeActiveIssue",this._onDidChangeActiveIssue.event),yt(this,"_onDidLoadRepositories",new v.EventEmitter),yt(this,"onDidLoadRepositories",this._onDidLoadRepositories.event),yt(this,"_onDidChangeRepositories",new v.EventEmitter),yt(this,"onDidChangeRepositories",this._onDidChangeRepositories.event),yt(this,"_onDidChangeAssignableUsers",new v.EventEmitter),yt(this,"onDidChangeAssignableUsers",this._onDidChangeAssignableUsers.event),yt(this,"totalFetchedPages",new Map),this._subs=[],this._githubRepositories=[],this._githubManager=new Es,this._subs.push(v.workspace.onDidChangeConfiguration(async p=>{p.affectsConfiguration(`${Dr}.${Is}`)&&await this.updateRepositories()})),this.setUpCompletionItemProvider()}get gitHubRepositories(){return this._githubRepositories}computeAllGitHubRemotes(){const e=ci(this.repository).filter(r=>r.host);return Promise.all(e.map(r=>this._githubManager.isGitHub(r.gitProtocol.normalizeUri()))).then(r=>e.filter((i,o,p)=>r[o])).catch(r=>(a.appendLine(`Resolving GitHub remotes failed: ${r}`),v.window.showErrorMessage(`Resolving GitHub remotes failed: ${U(r)}`),[]))}async getActiveGitHubRemotes(t){const e=v.workspace.getConfiguration(Dr).get(Is);return e?(e.forEach(r=>{t.some(i=>i.remoteName===r)||a.appendLine(`No remote with name '${r}' found.`)}),a.debug(`Displaying configured remotes: ${e.join(", ")}`,vr.ID),e.map(r=>t.find(i=>i.remoteName===r)).filter(r=>!!r)):(a.appendLine("Unable to read remotes setting"),Promise.resolve([]))}setUpCompletionItemProvider(){let t,e=[],r=[];v.languages.registerCompletionItemProvider({scheme:"comment"},{provideCompletionItems:async(i,o,p)=>{try{if(JSON.parse(i.uri.query).extensionId!==ge)return;const L=i.getWordRangeAtPosition(o,/@([a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38})?/i);if(!L||L.isEmpty)return;let $=[];const K={};let re={},ce,de;const we=v.window.visibleTextEditors;if(we.length){const He=we.find(Ue=>Ue.document.uri.scheme==="pr");if(He){const Ue=xe(He.document.uri);ce=Ue.prNumber,de=Ue.remoteName}else this._activePullRequest&&(ce=this._activePullRequest.number,de=this._activePullRequest.remote.remoteName);if(t&&ce&&ce===t.number)return r}const Re=new Promise(async He=>{if(ce&&de){if(a.debug("get Timeline Events and parse users",vr.ID),t&&t.number===ce)return e;const Ue=this._githubRepositories.find(ut=>ut.remote.remoteName===de);Ue&&(t=await Ue.getPullRequest(ce),e=await t.getTimelineEvents()),$=yf(e),He()}He()}),ke=new Promise(async He=>{if(we.length)try{a.debug("git blame and parse users",vr.ID);const Ue=f.resolve(we[0].document.uri.fsPath);let ut;this._gitBlameCache[Ue]?ut=this._gitBlameCache[Ue]:(ut=await this.repository.blame(Ue),this._gitBlameCache[Ue]=ut);const kt=ut.split(`
`);for(const wt of kt){const Mt=/^\w{11} \S*\s*\((.*)\s*\d{4}\-/.exec(wt);if(Mt&&Mt.length===2){const bt=Mt[1].trim();K[bt]=!0}}}catch(Ue){a.debug(Ue,vr.ID)}He()}),Ce=new Promise(async He=>{a.debug("get mentionable users",vr.ID),re=await this.getMentionableUsers(),He()});await Promise.all([Re,ke,Ce]),r=[];const Pe={};a.debug("prepare user suggestions",vr.ID),$.forEach(He=>{Pe[He.login]||(Pe[He.login]=He)});const Le={};for(const He in re)for(const Ue of re[He])if(!Pe[Ue.login]&&!Le[Ue.login]){Le[Ue.login]=!0;let ut=2;(K[Ue.login]||Ue.name&&K[Ue.name])&&(ut=1),Pe[Ue.login]&&(ut=0),r.push({label:Ue.login,insertText:Ue.login,filterText:`${Ue.login}`+(Ue.name&&Ue.name!==Ue.login?`_${Ue.name.toLowerCase().replace(" ","_")}`:""),sortText:`${ut}_${Ue.login}`,detail:Ue.name,kind:v.CompletionItemKind.User,login:Ue.login,uri:this.repository.rootUri})}for(const He in Pe)Le[He]||r.push({label:Pe[He].login,insertText:`${Pe[He].login}`,filterText:`${Pe[He].login}`+(Pe[He].name&&Pe[He].name!==Pe[He].login?`_${Pe[He].name.toLowerCase().replace(" ","_")}`:""),sortText:`0_${Pe[He].login}`,detail:Pe[He].name,kind:v.CompletionItemKind.User,login:Pe[He].login,uri:this.repository.rootUri});return a.debug("done",vr.ID),r}catch(N){return[]}},resolveCompletionItem:async(i,o)=>{try{const p=await this.getPullRequestDefaults(),N=await this.resolveUser(p.owner,p.repo,i.label);N&&(i.documentation=Ts(p,N))}catch(p){}return i}},"@")}get activeIssue(){return this._activeIssue}set activeIssue(t){this._activeIssue=t,this._onDidChangeActiveIssue.fire()}get activePullRequest(){return this._activePullRequest}set activePullRequest(t){this._activePullRequest&&(this._activePullRequest.isActive=!1),t&&(t.isActive=!0),this._activePullRequest=t,this._onDidChangeActivePullRequest.fire()}get repository(){return this._repository}set repository(t){this._repository=t}get credentialStore(){return this._credentialStore}async getActiveRemotes(){this._allGitHubRemotes=await this.computeAllGitHubRemotes();const t=await this.getActiveGitHubRemotes(this._allGitHubRemotes);return t.length?(await v.commands.executeCommand("setContext","github:hasGitHubRemotes",!0),a.appendLine("Found GitHub remote")):(await v.commands.executeCommand("setContext","github:hasGitHubRemotes",!1),a.appendLine("No GitHub remotes found")),t}async updateRepositories(t=!1){if(this._git.state==="uninitialized"){a.appendLine("Cannot updates repositories as git is uninitialized");return}const e=await this.getActiveRemotes(),r=this._credentialStore.isAuthenticated(ht.github)||this._credentialStore.isAuthenticated(ht["github-enterprise"]);v.commands.executeCommand("setContext","github:authenticated",r);const i=[],o=[];return e.filter(N=>this._credentialStore.isAuthenticated(N.authProviderId)).forEach(N=>{const L=this.createGitHubRepository(N,this._credentialStore);o.push(L.resolveRemote()),i.push(L)}),Promise.all(o).then(N=>{const L=this._githubRepositories;this._githubRepositories=i,L.forEach(K=>K.dispose());const $=L.length!==this._githubRepositories.length||!L.every(K=>this._githubRepositories.some(re=>re.remote.equals(K.remote)));return this._githubRepositories.length&&$&&this.checkIfMissingUpstream(),this.getMentionableUsers($),this.getAssignableUsers($),this._onDidLoadRepositories.fire(r||!e.length?er.RepositoriesLoaded:er.NeedsAuthentication),t||this._onDidChangeRepositories.fire(),Promise.resolve()})}async checkIfMissingUpstream(){try{const e=await(await this.getOrigin()).getMetadata();if(e.fork){const r=new rt(e.parent.git_url);if(!this._githubRepositories.some(o=>o.remote.owner===r.owner&&o.remote.repositoryName===r.repositoryName)){const p=!this.repository.state.remotes.some(N=>N.name==="upstream")?"upstream":e.parent.owner.login;await this.repository.addRemote(p,e.parent.clone_url)}}}catch(t){a.appendLine(`Missing upstream check failed: ${t}`)}}getAllAssignableUsers(){if(this._assignableUsers){const t=[];return Object.keys(this._assignableUsers).forEach(e=>{t.push(...this._assignableUsers[e])}),t}}async getMentionableUsers(t){if(t&&delete this._mentionableUsers,this._mentionableUsers)return this._mentionableUsers;if(!this._fetchMentionableUsersPromise){const e={};return this._fetchMentionableUsersPromise=new Promise(r=>{const i=this._githubRepositories.map(async o=>{const p=await o.getMentionableUsers();e[o.remote.remoteName]=p});Promise.all(i).then(()=>{this._mentionableUsers=e,this._fetchMentionableUsersPromise=void 0,r(e)})})}return this._fetchMentionableUsersPromise}async getAssignableUsers(t){if(t&&delete this._assignableUsers,this._assignableUsers)return this._assignableUsers;if(!this._fetchAssignableUsersPromise){const e={},r=[];return this._fetchAssignableUsersPromise=new Promise(i=>{const o=this._githubRepositories.map(async p=>{const N=await p.getAssignableUsers();e[p.remote.remoteName]=N.sort(Lo),r.push(...N)});Promise.all(o).then(()=>{this._assignableUsers=e,this._fetchAssignableUsersPromise=void 0,i(e),this._onDidChangeAssignableUsers.fire(r)})})}return this._fetchAssignableUsersPromise}getGitHubRemotes(){const t=this._githubRepositories;return!t||!t.length?[]:t.map(e=>e.remote)}async getAllGitHubRemotes(){return await this.computeAllGitHubRemotes()}async getLocalPullRequests(){const t=this._githubRepositories;if(!t||!t.length)return[];const r=this.repository.state.refs.filter(i=>i.type===B.Head&&i.name!==void 0).map(i=>i.name).map(async i=>{const o=await mr.getMatchingPullRequestMetadataForBranch(this.repository,i);if(o){const{owner:p,prNumber:N}=o,L=t.find($=>$.remote.owner.toLocaleLowerCase()===p.toLocaleLowerCase());if(L){const $=await L.getPullRequest(N);if($)return $.localBranchName=i,$}}return Promise.resolve(null)});return Promise.all(r).then(i=>i.filter(o=>o!==null))}async getLabels(t,e){const r=t?t.githubRepository:this._githubRepositories.find($=>$.remote.owner===(e==null?void 0:e.owner)&&$.remote.repositoryName===(e==null?void 0:e.repo));if(!r)throw new Error("No matching repository found for getting labels.");const{remote:i,octokit:o}=await r.ensure();let p=!1,N=1,L=[];do{const $=await o.issues.listLabelsForRepo({owner:i.owner,repo:i.repositoryName,per_page:100,page:N});L=L.concat($.data.map(K=>({name:K.name,color:K.color}))),L=L.sort((K,re)=>K.name.localeCompare(re.name)),p=!!$.headers.link&&$.headers.link.indexOf('rel="next"')>-1,N+=1}while(p);return L}async listBranches(t,e){if(this._githubRepositories.length)return this._githubRepositories[0].listBranches(t,e);throw new Error("No GitHub repositories found")}async deleteLocalPullRequest(t,e){if(!t.localBranchName)return;await this.repository.deleteBranch(t.localBranchName,e);let r;try{r=await this.repository.getConfig(`branch.${t.localBranchName}.remote`)}catch(o){}if(!r)return;await mr.isRemoteCreatedForPullRequest(this.repository,r)&&((await this.repository.getConfigs()).some(({key:N,value:L})=>/^branch.*\.remote$/.test(N)&&L===r)||await this.repository.removeRemote(r)),this.telemetry.sendTelemetryEvent("branch.delete")}async fetchPagedData(t={fetchNextPage:!1},e,r=0,i=gt.All,o){if(!this._githubRepositories||!this._githubRepositories.length)return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1};const p=()=>this.totalFetchedPages.get(e)||0,N=ce=>this.totalFetchedPages.set(e,ce);for(const ce of this._githubRepositories){const de=ce.remote.url.toString()+e;this._repositoryPageInformation.get(de)||this._repositoryPageInformation.set(de,{pullRequestPage:0,hasMorePages:null})}let L=0;const $={hasMorePages:!1,items:[]},K=ce=>{L++,ce&&($.items=$.items.concat(ce.items),$.hasMorePages=ce.hasMorePages)},re=this._githubRepositories.filter(ce=>{const de=this._repositoryPageInformation.get(ce.remote.url.toString()+e);return de&&(t.fetchNextPage===!1||de.hasMorePages!==!1)});for(let ce=0;ce<re.length;ce++){const de=re[ce],we=de.remote.url.toString()+e,Re=this._repositoryPageInformation.get(we),ke=async Ce=>{switch(r){case 0:return i===gt.All?de.getAllPullRequests(Ce):de.getPullRequestsForCategory(o||"",Ce);case 1:return de.getIssuesForUserByMilestone(Re.pullRequestPage);case 2:return de.getIssuesWithoutMilestone(Re.pullRequestPage);case 3:return de.getIssues(Re.pullRequestPage,o)}};if(t.fetchNextPage?(Re.pullRequestPage++,K(await ke(Re.pullRequestPage)),N(p()+1)):(Re.pullRequestPage===0&&(Re.pullRequestPage=1),(await Promise.all(Array.from({length:Re.pullRequestPage}).map((Pe,Le)=>ke(Le+1)))).forEach(Pe=>K(Pe))),Re.hasMorePages=$.hasMorePages,$.items.length&&(t.fetchNextPage===!0||t.fetchNextPage===!1&&L>=p()))return p()===0&&N(L),{items:$.items,hasMorePages:Re.hasMorePages,hasUnsearchedRepositories:ce<re.length-1}}return{items:[],hasMorePages:!1,hasUnsearchedRepositories:!1}}async getPullRequests(t,e={fetchNextPage:!1},r){const i=t.toString()+(r||"");return this.fetchPagedData(e,i,0,t,r)}async getMilestones(t={fetchNextPage:!1},e=!1,r){const i=await this.fetchPagedData(t,"issuesKey",1,gt.All,r);if(e){const o=await this.fetchPagedData(t,"issuesKey",2,gt.All,r);i.items.push({milestone:{createdAt:new Date(0).toDateString(),id:"",title:hu},issues:o.items})}return i}async getIssues(t={fetchNextPage:!1},e){return this.fetchPagedData(t,"issuesKey",3,gt.All,e)}async getMaxIssue(){const t=await Promise.all(this._githubRepositories.map(r=>r.getMaxIssue()));let e=0;for(const r of t)r!==void 0&&(e=Math.max(e,r));return e}async getPullRequestTemplates(){const t=await v.workspace.findFiles(new v.RelativePattern(this._repository.rootUri.path,"{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),e=await v.workspace.findFiles(new v.RelativePattern(this._repository.rootUri.path,"{docs,.github}/{pull_request_template,PULL_REQUEST_TEMPLATE}.md")),r=await v.workspace.findFiles(new v.RelativePattern(this._repository.rootUri.path,"PULL_REQUEST_TEMPLATE/*.md")),i=await v.workspace.findFiles(new v.RelativePattern(this._repository.rootUri.path,"{docs,.github}/PULL_REQUEST_TEMPLATE/*.md"));return[...t,...e,...r,...i]}async getPullRequestDefaults(t){if(!t&&!this.repository.state.HEAD)throw new du(this.repository);const e=await this.getOrigin(t),r=await e.getMetadata(),i=r.fork?r.parent:await(this.findRepo(yi("upstream"))||e).getMetadata();return{owner:i.owner.login,repo:i.name,base:i.default_branch}}async getMetadata(t){const e=this.findRepo(yi(t));return e&&e.getMetadata()}async getHeadCommitMessage(){const{repository:t}=this;if(t.state.HEAD&&t.state.HEAD.commit){const{message:e}=await t.getCommit(t.state.HEAD.commit);return e}return""}async getTipCommitMessage(t){const{repository:e}=this,{commit:r}=await e.getBranch(t);if(r){const{message:i}=await e.getCommit(r);return i}return""}async getOrigin(t){if(!this._githubRepositories.length)throw new nh(this.repository);const e=t?t.upstream:this.upstreamRef;if(e){const o=this.findRepo(yi(e.remote));if(!o){const p=(await this.getAllGitHubRemotes()).find(N=>N.remoteName===e.remote);if(p)return new hi(p,this._credentialStore,this.telemetry);throw a.appendLine(`The remote '${e.remote}' is not a GitHub repository.`),new sh(this.repository.state.HEAD.name,e,"is not a GitHub repo")}return o}const[r,...i]=this._githubRepositories;return i.length&&(this.findRepo(yi("origin"))||this.findRepo(ah))||r}findRepo(t){return this._githubRepositories.filter(t)[0]}get upstreamRef(){const{HEAD:t}=this.repository.state;return t&&t.upstream}async createPullRequest(t){var e,r;const i=this._githubRepositories.find(o=>o.remote.owner===t.owner&&o.remote.repositoryName===t.repo);if(!i)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);try{const o=await i.createPullRequest(t),p=t.head.indexOf(":"),N=t.head.slice(p+1);return await mr.associateBranchWithPullRequest(this._repository,o,N),this.telemetry.sendTelemetryEvent("pr.create.success",{isDraft:(t.draft||"").toString()}),o}catch(o){if(o.message.indexOf("No commits between ")>-1){if((e=this._repository.state.HEAD)==null?void 0:e.ahead)return await v.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to push your local commits and create the pull request?`,{modal:!0},"Push commits")==="Push commits"?(await this._repository.push(),this.createPullRequest(t)):void 0;if(this._repository.state.workingTreeChanges.length||this._repository.state.indexChanges.length)return await v.window.showInformationMessage(`There are no commits between '${t.base}' and '${t.head}'.

Do you want to commit your changes and create the pull request?`,{modal:!0},"Commit changes")==="Commit changes"?(await v.commands.executeCommand("git.commit"),await this._repository.push(),this.createPullRequest(t)):void 0}if(!((r=this._repository.state.HEAD)==null?void 0:r.upstream))return await v.window.showInformationMessage(`There is no upstream branch for '${t.base}'.

Do you want to publish it and create the pull request?`,{modal:!0},"Publish branch")==="Publish branch"?(await this._repository.push(i.remote.remoteName,t.base,!0),this.createPullRequest(t)):void 0;throw a.appendLine(`GitHubRepository> Creating pull requests failed: ${o}`),this.telemetry.sendTelemetryErrorEvent("pr.create.failure",{isDraft:(t.draft||"").toString()}),new Error(U(o))}}async createIssue(t){try{const e=this._githubRepositories.find(p=>p.remote.owner===t.owner&&p.remote.repositoryName===t.repo);if(!e)throw new Error(`No matching repository ${t.repo} found for ${t.owner}`);await e.ensure();const{data:r}=await e.octokit.issues.create(t),i=ff(r,e),o=new Bt(e,e.remote,i);return this.telemetry.sendTelemetryEvent("issue.create.success"),o}catch(e){a.appendLine(`GitHubRepository> Creating issue failed: ${e}`),this.telemetry.sendTelemetryErrorEvent("issue.create.failure"),v.window.showWarningMessage(`Creating issue failed: ${U(e)}`)}}async assignIssue(t,e){try{const r=this._githubRepositories.find(o=>o.remote.owner===t.remote.owner&&o.remote.repositoryName===t.remote.repositoryName);if(!r)throw new Error(`No matching repository ${t.remote.repositoryName} found for ${t.remote.owner}`);await r.ensure();const i={assignees:[e],owner:t.remote.owner,repo:t.remote.repositoryName,issue_number:t.number};await r.octokit.issues.addAssignees(i),this.telemetry.sendTelemetryEvent("issue.assign.success")}catch(r){a.appendLine(`GitHubRepository> Assigning issue failed: ${r}`),this.telemetry.sendTelemetryErrorEvent("issue.assign.failure"),v.window.showWarningMessage(`Assigning issue failed: ${U(r)}`)}}getCurrentUser(t){return $r(this._credentialStore.getCurrentUser(t.githubRepository.remote.authProviderId),t.githubRepository)}async mergePullRequest(t,e,r,i){const{octokit:o,remote:p}=await t.githubRepository.ensure(),N=this.activePullRequest&&this.activePullRequest.head&&this.activePullRequest.head.sha,L=this.repository.state.HEAD&&this.repository.state.HEAD.commit,$=t.head&&t.head.sha,K=this.repository.state.workingTreeChanges.length>0;if(N===$){if(L!==$){const{ahead:re}=this.repository.state.HEAD;if(re&&await v.window.showWarningMessage(`You have ${re} unpushed ${re>1?"commits":"commit"} on this PR branch.

Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"unpushed changes"}}if(K&&await v.window.showWarningMessage(`You have uncommitted changes on this PR branch.

 Would you like to proceed anyway?`,{modal:!0},"Yes")===void 0)return{merged:!1,message:"uncommitted changes"}}return await o.pulls.merge({commit_message:r,commit_title:e,merge_method:i||v.workspace.getConfiguration("githubPullRequests").get("defaultMergeMethod"),owner:p.owner,repo:p.repositoryName,pull_number:t.number}).then(re=>(this.telemetry.sendTelemetryEvent("pr.merge.success"),this._onDidMergePullRequest.fire(),re.data)).catch(re=>{throw this.telemetry.sendTelemetryErrorEvent("pr.merge.failure"),re})}async deleteBranch(t){await t.githubRepository.deleteBranch(t)}async getBranchDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(o=>{const p=o.key,N=/^branch\.(.*)\.(.*)$/.exec(p);if(N&&N.length===3){const L=N[1];e.has(L)||e.set(L,{});const $=e.get(L);if(N[2]==="remote"&&($.remote=o.value),N[2]==="github-pr-owner-number"){const K=mr.parsePullRequestMetadata(o.value);$.metadata=K}e.set(L,$)}});const r=[];e.forEach((o,p)=>{if(o.metadata){const N=this.activePullRequest&&this.activePullRequest.base.repositoryCloneUrl;(N?N.owner===o.metadata.owner&&N.repositoryName===o.metadata.repositoryName&&this.activePullRequest&&this.activePullRequest.number===o.metadata.prNumber:!1)||r.push({label:`${p}`,description:`${o.metadata.repositoryName}/${o.metadata.owner} #${o.metadata.prNumber}`,picked:!1,metadata:o.metadata})}});const i=await Promise.all(r.map(async o=>{const p=o.metadata,N=this._githubRepositories.find(re=>re.remote.owner.toLowerCase()===p.owner.toLowerCase()&&re.remote.repositoryName.toLowerCase()===p.repositoryName.toLowerCase());if(!N)return o;const{remote:L,query:$,schema:K}=await N.ensure();try{const{data:re}=await $({query:K.PullRequestState,variables:{owner:L.owner,name:L.repositoryName,number:p.prNumber}});o.legacy=re.repository.pullRequest.state!=="OPEN"}catch{}return o}));return i.forEach(o=>{o.legacy?o.picked=!0:o.description=`${o.description} is still Open`}),i}async getRemoteDeletionItems(){const t=await this.repository.getConfigs(),e=new Map;t.forEach(i=>{const o=i.key;let p=/^branch\.(.*)\.(.*)$/.exec(o);if(p&&p.length===3){const N=p[1];if(p[2]==="remote"){const L=i.value;e.has(L)||e.set(L,{branches:new Set}),e.get(L).branches.add(N)}}if(p=/^remote\.(.*)\.(.*)$/.exec(o),p&&p.length===3){const N=p[1];e.has(N)||e.set(N,{branches:new Set});const L=e.get(N);p[2]==="github-pr-remote"&&(L.createdForPullRequest=i.value==="true"),p[2]==="url"&&(L.url=i.value)}});const r=[];return e.forEach((i,o)=>{if(i.branches.size===0){let p=i.createdForPullRequest?"":"Not created by GitHub Pull Request extension";i.url&&(p=p?p+" "+i.url:i.url),r.push({label:o,description:p,picked:i.createdForPullRequest,remote:o})}}),r}async deleteLocalBranchesNRemotes(){return new Promise(async t=>{const e=v.window.createQuickPick();e.canSelectMany=!0,e.ignoreFocusOut=!0,e.placeholder="Choose local branches you want to delete permanently",e.show(),e.busy=!0;const r=await this.getBranchDeletionItems();e.items=r,e.selectedItems=r.filter(o=>o.picked),e.busy=!1;let i=!0;e.onDidAccept(async()=>{if(i){const o=e.selectedItems;if(o.length){e.busy=!0;try{await Promise.all(o.map(async N=>{await this.repository.deleteBranch(N.label,!0)})),e.busy=!1}catch(N){e.hide(),v.window.showErrorMessage(`Deleting branches failed: ${N}`)}}i=!1,e.busy=!0;const p=await this.getRemoteDeletionItems();p?(e.placeholder="Choose remotes you want to delete permanently",e.busy=!1,e.items=p,e.selectedItems=p.filter(N=>N.picked)):e.hide()}else{const o=e.selectedItems;o.length&&(e.busy=!0,await Promise.all(o.map(async p=>{await this.repository.removeRemote(p.label)})),e.busy=!1),e.hide()}}),e.onDidHide(()=>{t()})})}async getPullRequestRepositoryDefaultBranch(t){return await t.githubRepository.getDefaultBranch()}async getPullRequestRepositoryAccessAndMergeMethods(t){return await t.githubRepository.getRepoAccessAndMergeMethods()}async fulfillPullRequestMissingInfo(t){try{if(!t.isResolved())return;a.debug("Fulfill pull request missing info - start",vr.ID);const e=t.githubRepository,{octokit:r,remote:i}=await e.ensure();if(!t.base){const{data:o}=await r.pulls.get({owner:i.owner,repo:i.repositoryName,pull_number:t.number});t.update(Yr(o,e))}if(!t.mergeBase){const{data:o}=await r.repos.compareCommits({repo:i.repositoryName,owner:i.owner,base:`${t.base.repositoryCloneUrl.owner}:${t.base.ref}`,head:`${t.head.repositoryCloneUrl.owner}:${t.head.ref}`});t.mergeBase=o.merge_base_commit.sha}}catch(e){v.window.showErrorMessage(`Fetching Pull Request merge base failed: ${U(e)}`)}a.debug("Fulfill pull request missing info - done",vr.ID)}async resolveItem(t,e){let r=this._githubRepositories.find(i=>i.remote.owner.toLowerCase()===t.toLowerCase()&&i.remote.repositoryName.toLowerCase()===e.toLowerCase());return r||(r=this.createGitHubRepositoryFromOwnerName(t,e)),r}async resolvePullRequest(t,e,r){const i=await this.resolveItem(t,e);if(i)return i.getPullRequest(r)}async resolveIssue(t,e,r,i=!1){const o=await this.resolveItem(t,e);if(o)return o.getIssue(r,i)}async resolveUser(t,e,r){a.debug(`Fetch user ${r}`,vr.ID);const i=this.createGitHubRepositoryFromOwnerName(t,e),{query:o,schema:p}=await i.ensure();try{const{data:N}=await o({query:p.GetUser,variables:{login:r}});return gf(N)}catch(N){console.log(N)}}async getMatchingPullRequestMetadataForBranch(){return!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name?null:await mr.getMatchingPullRequestMetadataForBranch(this.repository,this.repository.state.HEAD.name)}async getMatchingPullRequestMetadataFromGitHub(){if(!this.repository||!this.repository.state.HEAD||!this.repository.state.HEAD.name||!this.repository.state.HEAD.upstream)return null;for(const t of this.gitHubRepositories)if(t.remote.remoteName===this.repository.state.HEAD.upstream.remote){const e=await t.getPullRequestForBranch(this.repository.state.HEAD.upstream.name);if(e&&e.length>0)return{owner:t.remote.owner,repositoryName:t.remote.repositoryName,prNumber:e[0].number,model:e[0]};break}return null}async checkoutExistingPullRequestBranch(t){return await mr.checkoutExistingPullRequestBranch(this.repository,t)}async getBranchNameForPullRequest(t){return await mr.getBranchNRemoteForPullRequest(this.repository,t)}async fetchAndCheckout(t){await mr.fetchAndCheckout(this.repository,this._allGitHubRemotes,t)}async checkout(t){return this.repository.checkout(t)}async checkoutDefaultBranch(t){try{const e=await this.repository.getBranch(t);e.upstream&&t===e.upstream.name?await this.repository.checkout(t):await v.commands.executeCommand("git.checkout")}catch(e){if(e.gitErrorCode&&e.gitErrorCode===q.DirtyWorkTree){v.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}v.window.showErrorMessage(`Exiting failed: ${e}`)}}createGitHubRepository(t,e){return new hi(t,e,this.telemetry)}createGitHubRepositoryFromOwnerName(t,e){const r=`https://github.com/${t}/${e}`;return new hi(new pn(e,r,new rt(r)),this._credentialStore,this.telemetry)}async findUpstreamForItem(t){let e,r;for(const o of this.gitHubRepositories){if(!e&&o.remote.owner===t.remote.owner&&o.remote.repositoryName===t.remote.repositoryName){e=o;continue}const p=await o.getRepositoryForkDetails();if(p&&p.isFork&&p.parent.owner===t.remote.owner&&p.parent.name===t.remote.repositoryName){const N=await o.getViewerPermission();if(N===zt.Admin||N===zt.Maintain||N===zt.Write){r=o.remote;break}}}let i=!1;if(e&&!r){const o=await t.githubRepository.getViewerPermission();(o===zt.Read||o===zt.Triage||o===zt.Unknown)&&(i=!0)}return{needsFork:i,upstream:e,remote:r}}async forkWithProgress(t,e,r,i){t.report({message:`Forking ${r}...`});const o=await e.fork();if(t.report({increment:50}),!o){v.window.showErrorMessage(`Unable to create a fork of ${r}. Check that your GitHub credentials are correct.`);return}const p=i.state.remotes.length>1?"origin":i.state.remotes[0].name;return t.report({message:"Adding remotes. This may take a few moments."}),await i.renameRemote(p,"upstream"),await i.addRemote(p,o),await new Promise(N=>{if(this.gitHubRepositories.length===0){const L=this.onDidChangeRepositories(()=>{this.gitHubRepositories.length>0&&(L.dispose(),N())})}else N()}),t.report({increment:50}),p}async doFork(t,e,r){return v.window.withProgress({location:v.ProgressLocation.Notification,title:"Creating Fork"},async i=>{try{return this.forkWithProgress(i,t,e,r)}catch(o){v.window.showErrorMessage(`Creating fork failed: ${o}`)}})}async tryOfferToFork(t){const e=`${t.remote.owner}/${t.remote.repositoryName}`,r="Fork",i="Don't Fork";switch(await v.window.showInformationMessage(`You don't have permission to push to ${e}. Do you want to fork ${e}? This will modify your git remotes to set \`origin\` to the fork, and \`upstream\` to ${e}.`,{modal:!0},r,i)){case r:return this.doFork(t,e,this.repository);case i:return!1;default:return}}dispose(){this._subs.forEach(t=>t.dispose())}};let bi=vr;yt(bi,"ID","FolderRepositoryManager");function Lm(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}const ah=t=>{const{currentUser:e=null}=t.octokit;return e&&t.remote.owner===e.login},yi=t=>({remote:{remoteName:e}})=>e===t,mu=t=>{const e=t.indexOf(`
`);return{title:e===-1?t:t.substr(0,e),body:e===-1?"":t.slice(e+1).trim()}};var oh=Object.defineProperty,tr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?oh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class uh extends xo{constructor(e,r,i,o){super();this._extensionUri=e,this._folderRepositoryManager=r,this._pullRequestDefaults=i,tr(this,"viewType","github:createPullRequest"),tr(this,"_onDone",new v.EventEmitter),tr(this,"onDone",this._onDone.event),tr(this,"_onDidChangeBaseRemote",new v.EventEmitter),tr(this,"onDidChangeBaseRemote",this._onDidChangeBaseRemote.event),tr(this,"_onDidChangeBaseBranch",new v.EventEmitter),tr(this,"onDidChangeBaseBranch",this._onDidChangeBaseBranch.event),tr(this,"_onDidChangeCompareRemote",new v.EventEmitter),tr(this,"onDidChangeCompareRemote",this._onDidChangeCompareRemote.event),tr(this,"_onDidChangeCompareBranch",new v.EventEmitter),tr(this,"onDidChangeCompareBranch",this._onDidChangeCompareBranch.event),tr(this,"_firstLoad",!0),tr(this,"_compareBranch"),this._compareBranch=o}resolveWebviewView(e,r,i){this._view=e,this._webview=e.webview,super.initialize(),e.webview.options={enableScripts:!0,localResourceRoots:[this._extensionUri]},e.webview.html=this._getHtmlForWebview(),this._firstLoad?(this._firstLoad=!1,this.initializeParams(!0)):this.initializeParams()}get compareBranch(){return this._compareBranch}set compareBranch(e){var r,i;((e==null?void 0:e.name)!==this._compareBranch.name||((r=e==null?void 0:e.upstream)==null?void 0:r.remote)!==((i=this._compareBranch.upstream)==null?void 0:i.remote))&&(this._compareBranch=e,this.initializeParams(),this._onDidChangeCompareBranch.fire(this._compareBranch.name))}show(e){e&&(this.compareBranch=e),super.show()}async getTitle(){var e,r;const i=await this._folderRepositoryManager.getOrigin(this._compareBranch);let o=!1;if(this.compareBranch.upstream){const p=this._folderRepositoryManager.findRepo(yi(this.compareBranch.upstream.remote));if(p){const N=`${p.remote.owner}:${(e=this.compareBranch.name)!=null?e:""}`;try{(await i.compareCommits(`${this._pullRequestDefaults.owner}:${this._pullRequestDefaults.base}`,N)).total_commits>1&&(o=await i.getDefaultBranch()!==this._compareBranch.name)}catch(L){}}}return o?(r=this.compareBranch.name)!=null?r:"":this.compareBranch.name?mu(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).title:""}async getPullRequestTemplate(){const e=await this._folderRepositoryManager.getPullRequestTemplates();if(e[0])try{return(await v.workspace.fs.readFile(e[0])).toString()}catch(r){a.appendLine(`Reading pull request template failed: ${r}`);return}}async getDescription(){const e=await this.getPullRequestTemplate();return e||(this.compareBranch.name?mu(await this._folderRepositoryManager.getTipCommitMessage(this.compareBranch.name)).body:"")}async initializeParams(e=!1){var r,i;if(!this.compareBranch)throw new du(this._folderRepositoryManager.repository);const o={owner:this._pullRequestDefaults.owner,repositoryName:this._pullRequestDefaults.repo},p=await this._folderRepositoryManager.getOrigin(this.compareBranch),N={owner:p.remote.owner,repositoryName:p.remote.repositoryName},[L,$,K,re]=await Promise.all([this._folderRepositoryManager.getGitHubRemotes(),this._folderRepositoryManager.listBranches(this._pullRequestDefaults.owner,this._pullRequestDefaults.repo),this.getTitle(),this.getDescription()]),ce=L.map(we=>({owner:we.owner,repositoryName:we.repositoryName}));let de=$;N.owner!==o.owner&&(de=await this._folderRepositoryManager.listBranches(N.owner,N.repositoryName)),this.compareBranch.name&&!de.includes(this.compareBranch.name)&&(de.push(this.compareBranch.name),de.sort()),this._postMessage({command:e?"reset":"pr.initialize",params:{availableRemotes:ce,defaultBaseRemote:o,defaultBaseBranch:this._pullRequestDefaults.base,defaultCompareRemote:N,defaultCompareBranch:(r=this.compareBranch.name)!=null?r:"",branchesForRemote:$,branchesForCompare:de,defaultTitle:K,defaultDescription:re,compareBranch:(i=this.compareBranch.name)!=null?i:"",isDraft:!1}})}async changeRemote(e,r){const{owner:i,repositoryName:o}=e.args,p=this._folderRepositoryManager.findRepo($=>i===$.remote.owner&&o===$.remote.repositoryName);if(!p)throw new Error("No matching GitHub repository found.");const N=await p.getDefaultBranch(),L=await this._folderRepositoryManager.listBranches(i,o);return!r&&this.compareBranch.name&&!L.includes(this.compareBranch.name)&&(L.push(this.compareBranch.name),L.sort()),r?(this._onDidChangeBaseRemote.fire({owner:i,repositoryName:o}),this._onDidChangeBaseBranch.fire(N)):(this._onDidChangeCompareRemote.fire({owner:i,repositoryName:o}),this._onDidChangeCompareBranch.fire(N)),this._replyMessage(e,{branches:L,defaultBranch:N})}async create(e){var r,i;try{let o,p;if(!this.compareBranch.name){this._throwError(e,"Please create a branch.");return}if(this.compareBranch.type===B.RemoteHead){const K=this.compareBranch.name.indexOf("/");o=this.compareBranch.name.substring(K+1),p=this.compareBranch.name.substring(0,K)}else o=this.compareBranch.name,p=(r=this.compareBranch.upstream)==null?void 0:r.remote;if(!p)if(await v.window.showInformationMessage(`There is no upstream branch for '${o}'.

Do you want to publish it and then create the pull request?`,{modal:!0},"Publish branch")==="Publish branch")await v.commands.executeCommand("git.publish"),this._folderRepositoryManager.repository.state.HEAD&&(this.compareBranch=this._folderRepositoryManager.repository.state.HEAD,p=(i=this.compareBranch.upstream)==null?void 0:i.remote);else{this._throwError(e,"No upstream for the compare branch.");return}const N=this._folderRepositoryManager.findRepo(yi(p));if(!N)throw new Error(`Unable to find GitHub repository matching '${p}'.`);const L=`${N.remote.owner}:${o}`,$=await this._folderRepositoryManager.createPullRequest({...e.args,head:L});$?(await this._replyMessage(e,{}),await mr.associateBranchWithPullRequest(this._folderRepositoryManager.repository,$,o),this._onDone.fire($)):this._throwError(e,"There must be a difference in commits to create a pull request.")}catch(o){this._throwError(e,o.message)}}async _onDidReceiveMessage(e){if(await super._onDidReceiveMessage(e)===this.MESSAGE_UNHANDLED)switch(e.command){case"pr.cancelCreate":v.commands.executeCommand("setContext","github:createPullRequest",!1),this._onDone.fire(void 0);return;case"pr.create":return this.create(e);case"pr.changeBaseRemote":return this.changeRemote(e,!0);case"pr.changeBaseBranch":this._onDidChangeBaseBranch.fire(e.args);return;case"pr.changeCompareRemote":return this.changeRemote(e,!1);case"pr.changeCompareBranch":this._onDidChangeCompareBranch.fire(e.args);return;default:v.window.showErrorMessage("Unsupported webview message")}}_getHtmlForWebview(){const e=ys(),r=v.Uri.joinPath(this._extensionUri,"dist","webview-create-pr-view.js");return`<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src vscode-resource: https:; script-src 'nonce-${e}'; style-src vscode-resource: 'unsafe-inline' http: https: data:;">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Create Pull Request</title>
	</head>
	<body>
		<div id="app"></div>
		<script nonce="${e}" src="${this._webview.asWebviewUri(r).toString()}"></script>
	</body>
</html>`}}var lh=Object.defineProperty,Ds=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ch{constructor(){Ds(this,"fileViewedState",new Map),Ds(this,"_onDidChangeFileDecorations",new v.EventEmitter),Ds(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileViewedState(e,r,i,o){this.fileViewedState.set(`${r}:${i}`,o),this._onDidChangeFileDecorations.fire(e)}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const i=Z(e);if(i){const o=`${i.prNumber}:${i.fileName}`;if(this.fileViewedState.get(o)===qe.VIEWED)return{propagate:!1,badge:"\u2713",tooltip:"Viewed"}}}}const Fs=new ch;var dh=Object.defineProperty,Os=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?dh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class fh{constructor(){Os(this,"fileHasComments",new Map),Os(this,"_onDidChangeFileDecorations",new v.EventEmitter),Os(this,"onDidChangeFileDecorations",this._onDidChangeFileDecorations.event)}updateFileComments(e,r,i,o){const p=`${r}:${i}`;this.fileHasComments.get(p)!==o&&(this.fileHasComments.set(`${r}:${i}`,o),this._onDidChangeFileDecorations.fire(e))}provideFileDecoration(e,r){const i=Z(e);if(i){const o=`${i.prNumber}:${i.fileName}`;if(this.fileHasComments.get(o))return{propagate:!1,tooltip:"Commented",badge:"\u{1F4AC}"}}}}const vu=new fh;var hh=Object.defineProperty,Bs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?hh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Vt{constructor(){Bs(this,"childrenDisposables"),Bs(this,"parent"),Bs(this,"label")}getParent(){if(this.parent instanceof Vt)return this.parent}async reveal(e,r){return this.parent.reveal(e||this,r)}refresh(e){return this.parent.refresh(e)}async getChildren(){return[]}dispose(){this.childrenDisposables&&(this.childrenDisposables.forEach(e=>e.dispose()),this.childrenDisposables=[])}}var ph=Object.defineProperty,xt=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ph(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);function gu(t){const e=v.window.activeTextEditor,r={preserveFocus:!0,viewColumn:v.ViewColumn.Active};return e&&e.document.uri.path===t.path&&(r.selection=e.selection),{command:"vscode.open",arguments:[t,r],title:"Open File"}}async function Ls(t,e,r,i,o){let p=await pt(e,t.repository)||e,N=await pt(r,t.repository)||r;(p.scheme==="data"||N.scheme==="data")&&(o===Me.ADD&&(p=Ie),o===Me.DELETE&&(N=Ie));const L=r.path.split("/");return{command:"vscode.diff",arguments:[p,N,`${L[L.length-1]} (Pull Request)`,i],title:"Open Changed File in PR"}}class Oi extends Vt{constructor(e,r,i,o,p,N,L,$){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=o,this.previousFileName=p,this.blobUrl=N,this.filePath=L,this.parentFilePath=$,xt(this,"description"),xt(this,"iconPath"),xt(this,"command"),xt(this,"resourceUri"),xt(this,"contextValue"),xt(this,"childrenDisposables",[]),xt(this,"_viewed");var K;const re=(K=this.pullRequest.fileChangeViewedState[o])!=null?K:qe.UNVIEWED;this.contextValue=`filechange:${Me[i]}:${re===qe.VIEWED?"viewed":"unviewed"}`,this.label=f.basename(o),this.description=f.relative(".",f.dirname(o)),this.iconPath=v.ThemeIcon.File,this.resourceUri=j(v.Uri.parse(this.blobUrl),r.number,o,i),this.updateViewed(re),this.command={command:"pr.openFileOnGitHub",title:"Open File on GitHub",arguments:[this]},this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(ce=>{const de=ce.changed.find(we=>we.fileName===this.fileName);de&&(this.updateViewed(de.viewed),this.refresh(this))}))}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${Me[this.status]}:${e===qe.VIEWED?"viewed":"unviewed"}`,Fs.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}getTreeItem(){return this}}class bu extends Vt{constructor(e,r,i,o,p,N,L,$,K,re){super();this.parent=e,this.pullRequest=r,this.status=i,this.fileName=o,this.blobUrl=p,this.filePath=N,this.parentFilePath=L,this.diffHunks=$,this.comments=K,this.sha=re,xt(this,"description"),xt(this,"iconPath"),xt(this,"resourceUri"),xt(this,"parentSha"),xt(this,"contextValue"),xt(this,"command"),xt(this,"opts"),xt(this,"childrenDisposables",[]),xt(this,"_viewed");var ce;const de=(ce=this.pullRequest.fileChangeViewedState[o])!=null?ce:qe.UNVIEWED;this.contextValue=`filechange:${Me[i]}:${de===qe.VIEWED?"viewed":"unviewed"}`,this.label=f.basename(o),this.description=f.relative(".",f.dirname(o)),this.iconPath=v.ThemeIcon.File,this.opts={preserveFocus:!0},this.updateShowOptions(),this.resourceUri=j(v.Uri.file(this.fileName),this.pullRequest.number,this.fileName,this.status),this.updateViewed(de),this.childrenDisposables.push(this.pullRequest.onDidChangeReviewThreads(we=>{[...we.added,...we.removed].some(Re=>Re.path===this.fileName)&&this.updateShowOptions()})),this.childrenDisposables.push(this.pullRequest.onDidChangeFileViewedState(we=>{const Re=we.changed.find(ke=>ke.fileName===this.fileName);Re&&(this.updateViewed(Re.viewed),this.refresh(this))}))}updateViewed(e){this._viewed!==e&&(this._viewed=e,this.contextValue=`filechange:${Me[this.status]}:${e===qe.VIEWED?"viewed":"unviewed"}`,Fs.updateFileViewedState(this.resourceUri,this.pullRequest.number,this.fileName,e))}updateShowOptions(){const e=this.pullRequest.reviewThreadsCache,i=(le(e,o=>o.path)[this.fileName]||[]).filter(o=>!o.isOutdated);vu.updateFileComments(this.resourceUri,this.pullRequest.number,this.fileName,i.length>0),i.length?(i.sort((o,p)=>o.line-p.line),this.opts.selection=new v.Range(i[0].line,0,i[0].line,0)):delete this.opts.selection}getTreeItem(){return this}openFileCommand(){return gu(this.filePath)}async openDiff(e){var r;const i=await Ls(e,this.parentFilePath,this.filePath,this.opts,this.status);v.commands.executeCommand(i.command,...(r=i.arguments)!=null?r:[])}}class Mn extends bu{constructor(e,r,i,o,p,N,L,$,K,re,ce,de,we,Re){super(r,i,o,p,L,$,K,de,we,Re);this.folderRepositoryManager=e,this.parent=r,this.pullRequest=i,this.status=o,this.fileName=p,this.previousFileName=N,this.blobUrl=L,this.filePath=$,this.parentFilePath=K,this.isPartial=re,this.patch=ce,this.diffHunks=de,this.comments=we,this.sha=Re}getTreeItem(){return this}async resolve(){this.command=await Ls(this.folderRepositoryManager,this.parentFilePath,this.filePath,void 0,this.status)}}class wi extends bu{constructor(e,r,i,o,p,N,L,$,K,re=[],ce){super(e,i,o,p,N,L,$,K,re,ce);this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.status=o,this.fileName=p,this.blobUrl=N,this.filePath=L,this.parentFilePath=$,this.diffHunks=K,this.comments=re,this.sha=ce,xt(this,"_useViewChangesCommand",!1)}useViewChangesCommand(){this._useViewChangesCommand=!0}async alternateCommand(){if(this.status===Me.DELETE||this.status===Me.ADD){const de=this.parentFilePath.with({query:JSON.stringify({path:null,commit:null})});return{command:"vscode.diff",arguments:this.status===Me.DELETE?[this.parentFilePath,de,`${this.fileName}`,{preserveFocus:!0}]:[de,this.parentFilePath,`${this.fileName}`,{preserveFocus:!0}],title:"Open Diff"}}const{path:e,ref:r,commit:i,rootPath:o}=Ne(this.filePath),p=`${i}^`,N={path:e,ref:r,commit:p,base:!0,isOutdated:!0,rootPath:o},L=this.filePath.with({query:JSON.stringify(N)}),$={preserveFocus:!0},K=this.pullRequest.reviewThreadsCache,ce=(le(K,de=>de.path)[this.fileName]||[]).filter(de=>de.isOutdated).sort((de,we)=>de.line-we.line);return ce.length&&($.selection=new v.Range(ce[0].originalLine,0,ce[0].originalLine,0)),{command:"vscode.diff",arguments:[L,this.filePath,`${this.fileName} from ${(i||"").substr(0,8)}`,$],title:"View Changes"}}async resolve(){this._useViewChangesCommand?this.command=await this.alternateCommand():v.workspace.getConfiguration().get("git.openDiffOnClick")?this.command=await Ls(this.pullRequestManager,this.parentFilePath,this.filePath,this.opts,this.status):this.command=this.openFileCommand()}}class mh extends Vt{constructor(e,r,i,o,p,N){super();this.parent=e,this.fileName=r,this.previousFileName=i,this.status=o,this.baseBranch=p,this.headBranch=N,xt(this,"description"),xt(this,"iconPath"),xt(this,"resourceUri"),xt(this,"command"),this.label=r,this.iconPath=v.ThemeIcon.File,this.resourceUri=v.Uri.file(r).with({scheme:"github",query:JSON.stringify({status:o,fileName:r})});let L=v.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:p})}),$=v.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:N})});switch(o){case Me.ADD:L=v.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:p,isEmpty:!0})});break;case Me.RENAME:L=v.Uri.file(i).with({scheme:"github",query:JSON.stringify({fileName:i,branch:p,isEmpty:!0})});break;case Me.DELETE:$=v.Uri.file(r).with({scheme:"github",query:JSON.stringify({fileName:r,branch:N,isEmpty:!0})});break}this.command={title:"Open Diff",command:"vscode.diff",arguments:[L,$,`${r} (Pull Request Preview)`]}}getTreeItem(){return this}}function Us(t){return t.filter(e=>e instanceof wi)}var vh=Object.defineProperty,_i=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?vh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class gh{constructor(e,r,i,o,p,N,L){this.repository=e,this.baseOwner=r,this.baseBranchName=i,this._compareOwner=o,this.compareBranchName=p,this.compareHasUpstream=N,this.folderRepoManager=L,_i(this,"_view"),_i(this,"_onDidChangeTreeData",new v.EventEmitter),_i(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),_i(this,"_contentProvider"),_i(this,"_disposables",[]),_i(this,"_gitHubRepository"),this._view=v.window.createTreeView("github:compareChanges",{treeDataProvider:this}),this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find($=>$.remote.owner===this._compareOwner),this._disposables.push(this._view)}get view(){return this._view}updateBaseBranch(e){this.baseBranchName=e,this._onDidChangeTreeData.fire()}updateBaseOwner(e){this.baseOwner=e,this._onDidChangeTreeData.fire()}async reveal(e,r){return this._view.reveal(e,r)}refresh(){this._onDidChangeTreeData.fire()}async updateHasUpstream(e){var r;if(((r=this.repository.state.HEAD)==null?void 0:r.name)===e){const i=await this.repository.getBranch(e);this.compareHasUpstream=!!i.upstream}else this.compareHasUpstream=!0}async updateCompareBranch(e){await this.updateHasUpstream(e),this.compareBranchName=e,this._onDidChangeTreeData.fire()}get compareOwner(){return this._compareOwner}set compareOwner(e){this._gitHubRepository=this.folderRepoManager.gitHubRepositories.find(r=>r.remote.owner===e),this._contentProvider&&this._gitHubRepository&&(this._contentProvider.gitHubRepository=this._gitHubRepository),this._compareOwner=e,this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async getChildren(){if(this.compareHasUpstream)v.commands.executeCommand("setContext","github:noUpstream",!1);else return v.commands.executeCommand("setContext","github:noUpstream",!0),this._view.message=void 0,[];if(!this._gitHubRepository)return[];this._contentProvider||(this._contentProvider=new bh(this._gitHubRepository),this._disposables.push(v.workspace.registerTextDocumentContentProvider("github",this._contentProvider)));const{octokit:e,remote:r}=await this._gitHubRepository.ensure();try{const{data:i}=await e.repos.compareCommits({repo:r.repositoryName,owner:r.owner,base:`${this.baseOwner}:${this.baseBranchName}`,head:`${this.compareOwner}:${this.compareBranchName}`});return i.files.length?this._view.message=void 0:this._view.message=`The are no commits between the base '${this.baseBranchName}' branch and the comparing '${this.compareBranchName}' branch`,i.files.map(o=>new mh(this,o.filename,o.previous_filename,Ve(o.status),i.merge_base_commit.sha,this.compareBranchName))}catch(i){return a.appendLine(`Comparing changes failed: ${i}`),[]}}dispose(){this._disposables.forEach(e=>e.dispose())}}class bh{constructor(e){this.gitHubRepository=e}async provideTextDocumentContent(e,r){var i;const o=ft(e);if(!o||o.isEmpty)return"";const{octokit:p,remote:N}=await this.gitHubRepository.ensure(),L=await p.repos.getContent({owner:N.owner,repo:N.repositoryName,path:o.fileName,ref:o.branch}),$=(i=L.data.content)!=null?i:"";return Buffer.from($,L.data.encoding).toString()}}var yh=Object.defineProperty,Bi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?yh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class wh{constructor(e){this.repository=e,Bi(this,"_disposables",[]),Bi(this,"_createPRViewProvider"),Bi(this,"_treeView"),Bi(this,"_onDidCreate",new v.EventEmitter),Bi(this,"onDidCreate",this._onDidCreate.event)}registerListeners(e){this._disposables.push(this._createPRViewProvider.onDone(async r=>{var i,o;v.commands.executeCommand("setContext","github:createPullRequest",!1),(i=this._createPRViewProvider)==null||i.dispose(),this._createPRViewProvider=void 0,(o=this._treeView)==null||o.dispose(),this._treeView=void 0,this._disposables.forEach(p=>p.dispose()),r&&this._onDidCreate.fire(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareBranch(r=>{var i;(i=this._treeView)==null||i.updateCompareBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeCompareRemote(r=>{this._treeView&&(this._treeView.compareOwner=r.owner)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseBranch(r=>{var i;(i=this._treeView)==null||i.updateBaseBranch(r)})),this._disposables.push(this._createPRViewProvider.onDidChangeBaseRemote(r=>{var i;(i=this._treeView)==null||i.updateBaseOwner(r.owner)})),e&&this._disposables.push(this.repository.state.onDidChange(r=>{this._createPRViewProvider&&this.repository.state.HEAD&&(this._createPRViewProvider.compareBranch=this.repository.state.HEAD)}))}get isCreatingPullRequest(){return!!this._createPRViewProvider}async ensureDefaultsAreLocal(e,r){if(e.gitHubRepositories.some(i=>i.remote.owner===r.owner&&i.remote.repositoryName===r.repo))return r;{const i=await e.getOrigin(),o=await e.getMetadata(i.remote.remoteName);return{owner:o.owner.login,repo:o.name,base:o.default_branch}}}async create(e,r,i){var o;v.commands.executeCommand("setContext","github:createPullRequest",!0);const p=(o=i?await r.repository.getBranch(i):void 0)!=null?o:r.repository.state.HEAD;if(!this._createPRViewProvider){const N=await this.ensureDefaultsAreLocal(r,await r.getPullRequestDefaults(p));this._createPRViewProvider=new uh(e,r,N,p);const L=await r.getOrigin(p);this._treeView=new gh(this.repository,N.owner,N.base,L.remote.owner,p.name,!!p.upstream,r),this.registerListeners(!i),this._disposables.push(v.window.registerWebviewViewProvider(this._createPRViewProvider.viewType,this._createPRViewProvider))}this._createPRViewProvider.show(p)}}var _h=Object.defineProperty,yu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?_h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class wu{constructor(e,r,i,o,p=`${e}:${r}`){this.owner=e,this.name=r,this.description=i,this.remote=o,this.label=p,yu(this,"detail"),yu(this,"picked")}static fromRemote(e){return new this(e.owner,e.repositoryName,e.url,e)}}function Li(t){return t===void 0||t===0?0:t-1}function Um(t,e){for(let r=0;r<t.length;r++){const i=t[r];for(let o=0;o<i.diffLines.length;o++)if(i.diffLines[o].positionInHunk===e)return i.diffLines[o]}}function qs(t,e){const r=Ge(t);let i=r.next(),o=0;for(;!i.done;){const p=i.value;if(!(p.oldLineNumber>e))if(p.oldLineNumber+p.oldLength-1<e)o+=p.newLength-p.oldLength;else return o+=p.newLength-p.oldLength,e+o;i=r.next()}return e+o}function $s(t,e){const r=Ge(t);let i=r.next(),o=0;for(;!i.done;){const p=i.value;if(!(p.newLineNumber>e))if(p.newLineNumber+p.newLength-1<e)o+=p.oldLength-p.newLength;else return o+=p.oldLength-p.newLength,e+o;i=r.next()}return e+o}function _u(t,e){const r=[];for(let i=0;i<t.length;i++){const o=t[i];let p,N;if(e){let L;for(let $=0;$<o.diffLines.length;$++){const K=o.diffLines[$];K.type===$e.Delete?(p!==void 0||(p=Li(K.oldLineNumber)),L=Li(K.oldLineNumber)):p!==void 0&&L!==void 0&&(r.push(new v.Range(p,0,L,0)),p=void 0,L=void 0)}p!==void 0&&L!==void 0&&(r.push(new v.Range(p,0,L,0)),p=void 0,L=void 0)}else o.newLineNumber&&(p=Li(o.newLineNumber),N=Li(o.newLength),r.push(new v.Range(p,0,p+N,0)))}return r}var kh=Object.defineProperty,Rr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?kh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Sh{constructor(e,r,i,o){this._reviewManager=e,this._reposManager=r,this._repository=i,this._localFileChanges=o,Rr(this,"_localToDispose",[]),Rr(this,"_onDidChangeComments",new v.EventEmitter),Rr(this,"onDidChangeComments",this._onDidChangeComments.event),Rr(this,"_commentHandlerId"),Rr(this,"_commentController"),Rr(this,"_workspaceFileChangeCommentThreads",{}),Rr(this,"_reviewSchemeFileChangeCommentThreads",{}),Rr(this,"_obsoleteFileChangeCommentThreads",{}),Rr(this,"_visibleNormalTextEditors",[]),Rr(this,"_pendingCommentThreadAdds",[]),this._commentController=v.comments.createCommentController(`github-review-${r.activePullRequest.number}`,r.activePullRequest.title),this._commentController.commentingRangeProvider=this,this._commentController.reactionHandler=this.toggleReaction.bind(this),this._localToDispose.push(this._commentController),this._commentHandlerId=Eo(),ve(this._commentHandlerId,this)}get commentController(){return this._commentController}async initialize(){this._visibleNormalTextEditors=v.window.visibleTextEditors.filter(e=>e.document.uri.scheme!=="comment"),await this._reposManager.activePullRequest.validateDraftMode(),await this.initializeCommentThreads(),await this.registerListeners()}createOutdatedCommentThread(e,r){const i=r.comments[0].originalCommitId,o=v.Uri.file(f.join(`commit~${i.substr(0,8)}`,e)),p=ne(o,e,void 0,i,!0,{base:r.diffSide===mt.LEFT},this._repository.rootUri),N=new v.Range(new v.Position(r.originalLine-1,0),new v.Position(r.originalLine-1,0));return Ii(p,N,r,this._commentController)}async createWorkspaceCommentThread(e,r,i){let o=i.line;const p=await this._repository.diffWithHEAD(r);p&&(o=qs(p,i.line));const N=new v.Range(new v.Position(o-1,0),new v.Position(o-1,0));return Ii(e,N,i,this._commentController)}createReviewCommentThread(e,r,i){const o=ne(e,r,void 0,this._reposManager.activePullRequest.mergeBase,!1,{base:!0},this._repository.rootUri),p=new v.Range(new v.Position(i.line-1,0),new v.Position(i.line-1,0));return Ii(o,p,i,this._commentController)}async initializeCommentThreads(){if(!this._reposManager.activePullRequest||!this._reposManager.activePullRequest.isResolved())return;const e=this._reposManager.activePullRequest.reviewThreadsCache,r=le(e,i=>i.path);Object.keys(r).forEach(i=>{const o=r[i],p=o[0];if(p){const N=f.join(this._repository.rootUri.path,p.path).replace(/\\/g,"/"),L=this._repository.rootUri.with({path:N});let $=[],K=[],re=[];const ce=o.map(async de=>{de.isOutdated?re.push(this.createOutdatedCommentThread(i,de)):de.diffSide===mt.RIGHT?$.push(await this.createWorkspaceCommentThread(L,i,de)):K.push(this.createReviewCommentThread(L,i,de))});Promise.all(ce),this._workspaceFileChangeCommentThreads[i]=$,this._reviewSchemeFileChangeCommentThreads[i]=K,this._obsoleteFileChangeCommentThreads[i]=re}})}async registerListeners(){this._localToDispose.push(this._reposManager.activePullRequest.onDidChangePendingReviewState(e=>{[this._workspaceFileChangeCommentThreads,this._obsoleteFileChangeCommentThreads,this._reviewSchemeFileChangeCommentThreads].forEach(r=>{for(const i in r)r[i].forEach(o=>{Po(o,e),pi(o)})})})),this._localToDispose.push(this._reposManager.activePullRequest.onDidChangeReviewThreads(e=>{e.added.forEach(async r=>{const{path:i}=r,o=this._pendingCommentThreadAdds.findIndex(async L=>{const $=this.gitRelativeRootPath(L.uri.path);if($!==r.path)return!1;const K=await this.getContentDiff(L.uri,$);return $s(K,L.range.start.line)+1===r.line});let p;if(o>-1)p=this._pendingCommentThreadAdds[o],p.threadId=r.id,p.comments=r.comments.map(L=>new Pt(L,p)),this._pendingCommentThreadAdds.splice(o,1);else{const L=f.join(this._repository.rootUri.path,i).replace(/\\/g,"/"),$=this._repository.rootUri.with({path:L});r.isOutdated?p=this.createOutdatedCommentThread(i,r):r.diffSide===mt.RIGHT?p=await this.createWorkspaceCommentThread($,i,r):p=this.createReviewCommentThread($,i,r)}const N=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===mt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads;N[i]?N[i].push(p):N[i]=[p]}),e.changed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===mt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,o=i[r.path].findIndex(p=>p.threadId===r.id);if(o>-1){const p=i[r.path][o];No(p,r)}}),e.removed.forEach(r=>{const i=r.isOutdated?this._obsoleteFileChangeCommentThreads:r.diffSide===mt.RIGHT?this._workspaceFileChangeCommentThreads:this._reviewSchemeFileChangeCommentThreads,o=i[r.path].findIndex(p=>p.threadId===r.id);if(o>-1){const p=i[r.path][o];i[r.path].splice(o,1),p.dispose()}})}))}visibleEditorsEqual(e,r){if(e=e.filter(i=>i.document.uri.scheme!=="comment"),r=r.filter(i=>i.document.uri.scheme!=="comment"),e=D(e,i=>i.document.uri.toString()),r=D(r,i=>i.document.uri.toString()),e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!r.find(p=>p.document.uri.toString()===e[i].document.uri.toString()))return!1;return!0}hasCommentThread(e){if(e.uri.scheme==="review")return!0;const r=v.workspace.getWorkspaceFolder(e.uri);return r?!!(e.uri.scheme===r.uri.scheme&&e.uri.fsPath.startsWith(this._repository.rootUri.fsPath)):!1}async provideCommentingRanges(e,r){let i;try{i=Ne(e.uri)}catch(p){}if(i){const p=this.findMatchedFileChangeForReviewDiffView(this._localFileChanges,e.uri);if(p)return _u(p.diffHunks,i.base)}const o=v.workspace.getWorkspaceFolder(e.uri);if(!!o&&e.uri.scheme===o.uri.scheme){if(!this._reposManager.activePullRequest.isResolved())return;const p=this.gitRelativeRootPath(e.uri.path),N=Us(this._localFileChanges).find($=>$.fileName===p),L=[];if(N){if(N.status===Me.RENAME)return[];const $=await this.getContentDiff(e.uri,N.fileName),K=N.diffHunks;for(let re=0;re<K.length;re++){const ce=K[re],de=qs($,ce.newLineNumber),we=qs($,ce.newLineNumber+ce.newLength-1);de>0&&we>0&&L.push(new v.Range(de-1,0,we-1,0))}}return L}}async getContentDiff(e,r){const i=v.window.visibleTextEditors.find(o=>o.document.uri.toString()===e.toString());if(i&&i.document.isDirty){const o=i.document.getText(),N=(await this._repository.getObjectDetails(this._reposManager.activePullRequest.head.sha,r)).object,L=await this._repository.hashObject(o);return await this._repository.diffBlobs(N,L)}else return await this._repository.diffWith(this._reposManager.activePullRequest.head.sha,r)}findMatchedFileChangeForReviewDiffView(e,r){const i=Ne(r),o=e.filter(p=>{if(p instanceof Oi||p.fileName!==i.path)return!1;if(p.filePath.scheme!=="review"&&p.sha===i.commit)return!0;try{if(JSON.parse(p.filePath.query).commit===i.commit)return!0}catch(N){}try{if(JSON.parse(p.parentFilePath.query).commit===i.commit)return!0}catch(N){}return!1});if(o&&o.length)return o[0]}gitRelativeRootPath(e){return f.relative(this._repository.rootUri.path,e).replace(/\\/g,"/")}getCommentSide(e){return e.uri.scheme==="review"&&Ne(e.uri).base?mt.LEFT:mt.RIGHT}async startReview(e,r){const i=e.comments.length,o=this.optimisticallyAddComment(e,r,!0);try{if(i){const p=e.comments[0];if(p instanceof Pt)await this._reposManager.activePullRequest.createCommentReply(r,p._rawComment.graphNodeId,!1);else throw new Error("Cannot reply to temporary comment")}else{const p=this.gitRelativeRootPath(e.uri.path),N=this.getCommentSide(e);this._pendingCommentThreadAdds.push(e);let L;if(N===mt.RIGHT){const $=await this.getContentDiff(e.uri,p);L=$s($,e.range.start.line)}else L=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,p,L+1,N)}}catch(p){v.window.showErrorMessage(`Starting review failed: ${p}`),e.comments=e.comments.map(N=>(N instanceof Xt&&N.id===o&&(N.mode=v.CommentMode.Editing),N))}}async openReview(){await this._reviewManager.openDescription(),ur.scrollToReview()}optimisticallyAddComment(e,r,i){const o=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),p=new Xt(e,r,i,o);return this.updateCommentThreadComments(e,[...e.comments,p]),p.id}updateCommentThreadComments(e,r){e.comments=r,pi(e)}optimisticallyEditComment(e,r){const i=this._reposManager.getCurrentUser(this._reposManager.activePullRequest),o=new Xt(e,r.body instanceof v.MarkdownString?r.body.value:r.body,!!r.label,i,r);return e.comments=e.comments.map(p=>p instanceof Pt&&p.commentId===r.commentId?o:p),o.id}async createOrReplyComment(e,r,i,o){const p=e.comments.length,N=i?!1:o!==void 0?o:this._reposManager.activePullRequest.hasPendingReview,L=this.optimisticallyAddComment(e,r,N);try{if(p){const $=e.comments[0];if($ instanceof Pt)await this._reposManager.activePullRequest.createCommentReply(r,$._rawComment.graphNodeId,i);else throw new Error("Cannot reply to temporary comment")}else{const $=this.gitRelativeRootPath(e.uri.path);this._pendingCommentThreadAdds.push(e);const K=this.getCommentSide(e);let re;if(K===mt.RIGHT){const ce=await this.getContentDiff(e.uri,$);re=$s(ce,e.range.start.line)}else re=e.range.start.line;await this._reposManager.activePullRequest.createReviewThread(r,$,re+1,K,i)}i&&await this._reposManager.activePullRequest.submitReview()}catch($){v.window.showErrorMessage(`Creating comment failed: ${$}`),e.comments=e.comments.map(K=>(K instanceof Xt&&K.id===L&&(K.mode=v.CommentMode.Editing),K))}}async createCommentOnResolve(e,r){const i=await this._reposManager.activePullRequest.getPendingReviewId();await this.createOrReplyComment(e,r,!i)}async resolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.resolveReviewThread(e.threadId)}catch(i){v.window.showErrorMessage(`Resolving conversation failed: ${i}`)}}async unresolveReviewThread(e,r){try{r&&await this.createCommentOnResolve(e,r),await this._reposManager.activePullRequest.unresolveReviewThread(e.threadId)}catch(i){v.window.showErrorMessage(`Unresolving conversation failed: ${i}`)}}async editComment(e,r){if(r instanceof Pt){const i=this.optimisticallyEditComment(e,r);try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");await this._reposManager.activePullRequest.editReviewComment(r._rawComment,r.body instanceof v.MarkdownString?r.body.value:r.body)}catch(o){v.window.showErrorMessage(U(o)),e.comments=e.comments.map(p=>p instanceof Xt&&p.id===i?new Pt(r._rawComment,e):p)}}else this.createOrReplyComment(e,r.body instanceof v.MarkdownString?r.body.value:r.body,!1)}async deleteComment(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");r instanceof Pt?await this._reposManager.activePullRequest.deleteReviewComment(r.commentId):e.comments=e.comments.filter(o=>!(o instanceof Xt&&o.id===r.id)),e.comments.length===0?e.dispose():pi(e);const i=await this._reposManager.activePullRequest.validateDraftMode();i!==this._reposManager.activePullRequest.hasPendingReview&&(this._reposManager.activePullRequest.hasPendingReview=i),this.update(this._localFileChanges)}catch(i){throw new Error(U(i))}}async update(e){await this._reposManager.activePullRequest.validateDraftMode(),this._localFileChanges=e}async toggleReaction(e,r){try{if(!this._reposManager.activePullRequest)throw new Error("Unable to find active pull request");e.reactions&&!e.reactions.find(i=>i.label===r.label&&!!i.authorHasReacted)?await this._reposManager.activePullRequest.addCommentReaction(e._rawComment.graphNodeId,r):await this._reposManager.activePullRequest.deleteCommentReaction(e._rawComment.graphNodeId,r)}catch(i){throw new Error(U(i))}}dispose(){this._commentController&&this._commentController.dispose(),Se(this._commentHandlerId),this._localToDispose.forEach(e=>e.dispose())}}var Eh=Object.defineProperty,It=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Eh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const ku=class{constructor(t,e,r,i,o){this._context=t,this._repository=e,this._folderRepoManager=r,this._telemetry=i,this.changesInPrDataProvider=o,It(this,"_localToDispose",[]),It(this,"_disposables"),It(this,"_comments",[]),It(this,"_localFileChanges",[]),It(this,"_obsoleteFileChanges",[]),It(this,"_lastCommitSha"),It(this,"_updateMessageShown",!1),It(this,"_validateStatusInProgress"),It(this,"_reviewCommentController"),It(this,"_statusBarItem"),It(this,"_prNumber"),It(this,"_previousRepositoryState"),It(this,"_webviewViewProvider"),It(this,"_createPullRequestHelper"),It(this,"_switchingToReviewMode"),It(this,"justSwitchedToRevieMode",!1),It(this,"_isFirstLoad",!0),this._switchingToReviewMode=!1,this._disposables=[],this._previousRepositoryState={HEAD:e.state.HEAD,remotes:ci(this._repository)},this.registerListeners(),this.updateState(),this.pollForStatusChange()}get switchingToReviewMode(){return this._switchingToReviewMode}set switchingToReviewMode(t){this._switchingToReviewMode=t,t||this.updateState()}registerListeners(){this._disposables.push(this._repository.state.onDidChange(t=>{const e=this._previousRepositoryState.HEAD,r=this._repository.state.HEAD;if(!e&&!r)return;let i;!e||!r?i=!1:i=e.upstream?r.upstream&&e.upstream.name===r.upstream.name&&e.upstream.remote===r.upstream.remote:!r.upstream;const o=i&&e.ahead===r.ahead&&e.behind===r.behind&&e.commit===r.commit&&e.name===r.name&&e.remote===r.remote&&e.type===r.type,p=ci(this._repository),N=this._previousRepositoryState.remotes.length===p.length&&this._previousRepositoryState.remotes.every(L=>p.some($=>L.equals($)));(!o||!N)&&(this._previousRepositoryState={HEAD:this._repository.state.HEAD,remotes:p},this.updateState(!!e))})),this._disposables.push(v.workspace.onDidChangeConfiguration(t=>{this.updateFocusedViewMode()})),this._disposables.push(this._folderRepoManager.onDidChangeActivePullRequest(t=>{this.updateFocusedViewMode()})),this._disposables.push(v.window.registerTerminalLinkProvider(new Mf(this,this._folderRepoManager)))}get statusBarItem(){return this._statusBarItem||(this._statusBarItem=v.window.createStatusBarItem(v.StatusBarAlignment.Left)),this._statusBarItem}get repository(){return this._repository}get localFileChanges(){return this._localFileChanges}pollForStatusChange(){setTimeout(async()=>{this._validateStatusInProgress||await this.updateComments(),this.pollForStatusChange()},1e3*60*5)}async checkBranchUpToDate(t){var e;const r=this._repository.state.HEAD;if(r){const i=r.upstream?r.upstream.remote:null;i&&(await this._repository.fetch(i,(e=this._repository.state.HEAD)==null?void 0:e.name),(t.head.sha!==this._lastCommitSha||r.behind!==void 0&&r.behind>0)&&!this._updateMessageShown&&(this._updateMessageShown=!0,await v.window.showInformationMessage("There are updates available for this pull request.",{},"Pull")==="Pull"&&(await v.commands.executeCommand("git.pull"),this._updateMessageShown=!1)))}}async updateState(t=!1){if(!this.switchingToReviewMode)return this._validateStatusInProgress?(a.appendLine("Review> Queuing additional validate state"),this._validateStatusInProgress=this._validateStatusInProgress.then(async e=>await this.validateState(t)),this._validateStatusInProgress):(a.appendLine("Review> Validate state in progress"),this._validateStatusInProgress=this.validateState(t),this._validateStatusInProgress)}async validateState(t){if(a.appendLine("Review> Validating state..."),await this._folderRepoManager.updateRepositories(t),!this._repository.state.HEAD){this.clear(!0);return}const e=this._repository.state.HEAD;let r=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!r){a.appendLine(`Review> no matching pull request metadata found for current branch ${e.name}`);const $=await this._folderRepoManager.getMatchingPullRequestMetadataFromGitHub();$&&(mr.associateBranchWithPullRequest(this._repository,$.model,e.name),r=$)}if(!r){a.appendLine(`Review> no matching pull request metadata found on GitHub for current branch ${e.name}`),this.clear(!0);return}const i=e.commit!==this._lastCommitSha&&e.ahead===0&&e.behind===0;if(this._prNumber===r.prNumber&&!i){v.commands.executeCommand("pr.refreshList");return}if(!(e.upstream?e.upstream.remote:null)){a.appendLine(`Review> current branch ${this._repository.state.HEAD.name} hasn't setup remote yet`),this.clear(!0);return}a.appendLine(`Review> current branch ${this._repository.state.HEAD.name} is associated with pull request #${r.prNumber}`),this.clear(!1),this._prNumber=r.prNumber,this._lastCommitSha=void 0;const{owner:p,repositoryName:N}=r;a.appendLine("Review> Resolving pull request");const L=await this._folderRepoManager.resolvePullRequest(p,N,r.prNumber);if(!L||!L.isResolved()){this._prNumber=void 0,a.appendLine("Review> This PR is no longer valid");return}if(this._folderRepoManager.activePullRequest=L,this._lastCommitSha=L.head.sha,this._isFirstLoad&&(this._isFirstLoad=!1,this.checkBranchUpToDate(L)),a.appendLine("Review> Fetching pull request data"),await this.getPullRequestData(L),await this.changesInPrDataProvider.addPrToView(this._folderRepoManager,L,this._localFileChanges,this._comments,this.justSwitchedToRevieMode),this.justSwitchedToRevieMode=!1,a.appendLine("Review> register comments provider"),await this.registerCommentController(),this._webviewViewProvider?this._webviewViewProvider.updatePullRequest(L):(this._webviewViewProvider=new xf(this._context.extensionUri,this._folderRepoManager,L),this._context.subscriptions.push(v.window.registerWebviewViewProvider(this._webviewViewProvider.viewType,this._webviewViewProvider)),this._context.subscriptions.push(v.commands.registerCommand("pr.refreshActivePullRequest",$=>{var K;(K=this._webviewViewProvider)==null||K.refresh()})),!t&&this._context.workspaceState.get(at)&&v.env.remoteName==="codespaces"&&this._webviewViewProvider.show()),this.statusBarItem.text=`$(git-branch) Pull Request #${this._prNumber}`,this.statusBarItem.command={command:"pr.openDescription",title:"View Pull Request Description",arguments:[L]},a.appendLine("Review> display pull request status bar indicator and refresh pull request tree view."),this.statusBarItem.show(),v.commands.executeCommand("pr.refreshList"),!t&&this._context.workspaceState.get(at)&&v.env.remoteName==="codespaces"&&this.localFileChanges.length>0){let $;for(const K of this.localFileChanges)if(K.status===Me.MODIFY){$=K;break}$=$!=null?$:this.localFileChanges[0],$.openDiff(this._folderRepoManager)}this._validateStatusInProgress=void 0}async updateComments(){const t=this._repository.state.HEAD;if(!t)return;const e=await this._folderRepoManager.getMatchingPullRequestMetadataForBranch();if(!e||!(t.upstream?t.upstream.remote:null)||this._prNumber===void 0||!this._folderRepoManager.activePullRequest)return;const i=await this._folderRepoManager.resolvePullRequest(e.owner,e.repositoryName,this._prNumber);if(!i||!i.isResolved()){a.appendLine("Review> This PR is no longer valid");return}return await this.checkBranchUpToDate(i),await this.getPullRequestData(i),await this._reviewCommentController.update(this._localFileChanges),Promise.resolve(void 0)}async getLocalChangeNodes(t,e,r){const i=[],o=t.mergeBase||t.base.sha,p=t.head.sha;for(let N=0;N<e.length;N++){const L=e[N];let $=[];if(L instanceof lr)$=L.diffHunks;else if(L.status!==Me.RENAME)try{const Re=await this._repository.diffBetween(t.base.sha,t.head.sha,L.fileName);$=ir(Re)}catch(Re){a.appendLine(`Failed to parse patch for outdated comments: ${Re}`)}const K=f.join(this._repository.rootUri.path,L.fileName).replace(/\\/g,"/"),re=this._repository.rootUri.with({path:K}),ce=L.status===Me.DELETE?ne(re,void 0,void 0,"",!1,{base:!1},this._repository.rootUri):re,de=ne(re,L.status===Me.RENAME?L.previousFileName:L.fileName,void 0,L.status===Me.ADD?"":o,!1,{base:!0},this._repository.rootUri),we=new wi(this.changesInPrDataProvider,this._folderRepoManager,t,L.status,L.fileName,L.blobUrl,ce,de,$,r.filter(Re=>Re.path===L.fileName),p);i.push(we)}return i}async getPullRequestData(t){try{this._comments=await t.getReviewComments(),await t.initializeReviewThreadCache(),await t.getPullRequestFileViewState();const e=this._comments.filter(L=>L.position),r=this._comments.filter(L=>!L.position),i=await t.getFileChangesInfo(),o=t.mergeBase||t.base.sha,p=await nr(i,this._repository,o);this._localFileChanges=await this.getLocalChangeNodes(t,p,e);const N=le(r,L=>L.originalCommitId);this._obsoleteFileChanges=[];for(const L in N){const $=N[L],K=le($,re=>re.path);for(const re in K){let ce=[];try{const ke=await this._repository.diffBetween(t.base.sha,L,re);ce=ir(ke)}catch(ke){a.appendLine(`Failed to parse patch for outdated comments: ${ke}`)}const de=K[re],we=v.Uri.file(f.join(`commit~${L.substr(0,8)}`,re)),Re=new wi(this.changesInPrDataProvider,this._folderRepoManager,t,Me.MODIFY,re,void 0,ne(we,re,void 0,de[0].originalCommitId,!0,{base:!1},this._repository.rootUri),ne(we,re,void 0,de[0].originalCommitId,!0,{base:!0},this._repository.rootUri),ce,de,L);this._obsoleteFileChanges.push(Re)}}return Promise.resolve(void 0)}catch(e){a.appendLine(`Review> ${e}`)}}async registerCommentController(){this._reviewCommentController=new Sh(this,this._folderRepoManager,this._repository,this._localFileChanges),await this._reviewCommentController.initialize(),this._localToDispose.push(this._reviewCommentController),this._localToDispose.push(this._reviewCommentController.onDidChangeComments(t=>{this._comments=t}))}async switch(t){a.appendLine(`Review> switch to Pull Request #${t.number} - start`),this.statusBarItem.text="$(sync~spin) Switching to Review Mode",this.statusBarItem.command=void 0,this.statusBarItem.show(),this.switchingToReviewMode=!0;try{await this._folderRepoManager.checkoutExistingPullRequestBranch(t)||await this._folderRepoManager.fetchAndCheckout(t)}catch(e){if(a.appendLine(`Review> checkout failed #${JSON.stringify(e)}`),this.switchingToReviewMode=!1,e.gitErrorCode&&(e.gitErrorCode===q.LocalChangesOverwritten||e.gitErrorCode===q.DirtyWorkTree)){v.window.showErrorMessage("Your local changes would be overwritten by checkout, please commit your changes or stash them before you switch branches");return}v.window.showErrorMessage(U(e));return}try{this.statusBarItem.text=`$(sync~spin) Fetching additional data: pr/${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._folderRepoManager.fulfillPullRequestMissingInfo(t),this._telemetry.sendTelemetryEvent("pr.checkout"),a.appendLine(`Review> switch to Pull Request #${t.number} - done`,ku.ID)}finally{this.switchingToReviewMode=!1,this.justSwitchedToRevieMode=!0,this.statusBarItem.text=`Pull Request #${t.number}`,this.statusBarItem.command=void 0,this.statusBarItem.show(),await this._repository.status()}}async publishBranch(t){const e=await this._folderRepoManager.getAllGitHubRemotes();let r=(await this.getRemote(e,`Pick a remote to publish the branch '${t.name}' to:`)).remote;if(!r||t.name===void 0)return;const i=this._folderRepoManager.createGitHubRepository(r,this._folderRepoManager.credentialStore),o=await i.getViewerPermission();if(o===zt.Read||o===zt.Triage||o===zt.Unknown){const N=await this._folderRepoManager.tryOfferToFork(i);if(!N)return;r=this._folderRepoManager.getGitHubRemotes().find(L=>L.remoteName===N)}if(!r)return;const p=r;return new Promise(async N=>{const L=v.window.createInputBox();L.value=t.name,L.ignoreFocusOut=!0,L.prompt=e.length===1?`The branch '${t.name}' is not published yet, pick a name for the upstream branch`:"Pick a name for the upstream branch";const $=async function(K){try{L.busy=!0,await this._reposManager.getBranch(p,K)?L.validationMessage=`Branch ${K} already exists in ${p.owner}/${p.repositoryName}`:L.validationMessage=void 0}catch(re){L.validationMessage=void 0}L.busy=!1};await $(t.name),L.onDidChangeValue($.bind(this)),L.onDidAccept(async()=>{L.validationMessage=void 0,L.hide();try{await this._repository.push(p.remoteName,`${t.name}:${L.value}`,!0)}catch(re){throw re.gitErrorCode===q.PushRejected&&(v.window.showWarningMessage("Can't push refs to remote, try running 'git pull' first to integrate with your change",{modal:!0}),N(void 0)),re.gitErrorCode===q.RemoteConnectionError&&(v.window.showWarningMessage(`Could not read from remote repository '${p.remoteName}'. Please make sure you have the correct access rights and the repository exists.`,{modal:!0}),N(void 0)),re}const K=await this._repository.getBranch(t.name);(!K||!K.upstream)&&N(void 0),N(K)}),L.show()})}async getRemote(t,e,r){if(!t.length){v.window.showWarningMessage("No GitHub remotes found. Add a remote and try again.");return}if(t.length===1&&!r)return wu.fromRemote(t[0]);if(t.length===1&&r&&r.owner===t[0].owner&&r.name===t[0].repositoryName)return r;let i=!1;const o=t.map(N=>{const L=wu.fromRemote(N);if(r){const{owner:$,name:K}=r;L.picked=L.owner===$&&L.name===K,L.picked&&(i=!0)}return L});!i&&r&&o.unshift(r);const p=await v.window.showQuickPick(o,{ignoreFocusOut:!0,placeHolder:e});if(!!p)return p}async createPullRequest(t){this._createPullRequestHelper||(this._createPullRequestHelper=new wh(this.repository),this._createPullRequestHelper.onDidCreate(async e=>{await this.updateState();const r=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Vs(this._context,this._telemetry,e,r,this._folderRepoManager)})),this._createPullRequestHelper.create(this._context.extensionUri,this._folderRepoManager,t)}async openDescription(){const t=this._folderRepoManager.activePullRequest;if(!t)return;const e=this.changesInPrDataProvider.getDescriptionNode(this._folderRepoManager);await Vs(this._context,this._telemetry,t,e,this._folderRepoManager)}get isCreatingPullRequest(){var t,e;return(e=(t=this._createPullRequestHelper)==null?void 0:t.isCreatingPullRequest)!=null?e:!1}async updateFocusedViewMode(){v.workspace.getConfiguration(Dr).get("focusedMode")&&this._folderRepoManager.activePullRequest?(v.commands.executeCommand("setContext",at,!0),await this._context.workspaceState.update(at,!0)):(v.commands.executeCommand("setContext",at,!1),this._context.workspaceState.update(at,!1))}clear(t){this._updateMessageShown=!1,this._localToDispose.forEach(e=>e.dispose()),t&&(this._prNumber=void 0,this._folderRepoManager.activePullRequest=void 0,this._statusBarItem&&this._statusBarItem.hide(),this.changesInPrDataProvider&&this.changesInPrDataProvider.removePrFromView(this._folderRepoManager),this._comments=[],v.commands.executeCommand("pr.refreshList"))}async provideTextDocumentContent(t){const{path:e,commit:r}=Ne(t);let i=Us(this._localFileChanges).filter(o=>o.fileName===e).filter(o=>o.sha===r||(o.parentSha?o.parentSha:`${o.sha}^`)===r);if(i.length){const o=i[0],p=r===o.sha?$e.Delete:$e.Add;return o.diffHunks.map(L=>L.diffLines.filter($=>$.type!==p).map($=>$.text)).reduce((L,$)=>L.concat(...$),[]).join(`
`)}if(i=Us(this._obsoleteFileChanges).filter(o=>o.fileName===e).filter(o=>o.sha===r||(o.parentSha?o.parentSha:`${o.sha}^`)===r),i.length){const o=i[0],p=r===o.sha?$e.Delete:$e.Add,N=[],L=le(o.comments,$=>String($.originalPosition));for(const $ in L){if(!L[$][0].diffHunks)continue;const K=L[$][0].diffHunks.map(re=>re.diffLines.filter(ce=>ce.type!==p).map(ce=>ce.text)).reduce((re,ce)=>re.concat(...ce),[]);N.push(...K)}return N.join(`
`)}}dispose(){this.clear(!0),this._disposables.forEach(t=>{t.dispose()})}static getReviewManagerForRepository(t,e){return t.find(r=>r._folderRepoManager.gitHubRepositories.some(i=>i.equals(e)))}static getReviewManagerForFolderManager(t,e){return t.find(r=>r._folderRepoManager===e)}};let Zr=ku;It(Zr,"ID","Review");var Rh=Object.defineProperty,Hs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Rh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Jr extends Vt{constructor(e,r,i,o){super();this.parent=e,this.label=r,this.iconPath=i,this.pullRequestModel=o,Hs(this,"command"),Hs(this,"contextValue"),Hs(this,"tooltip"),this.command={title:"View Pull Request Description",command:"pr.openDescription",arguments:[this]},this.contextValue="description",this.tooltip=`Description of pull request #${o.number}`}getTreeItem(){return this}}var xh=Object.defineProperty,Su=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?xh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Mh{constructor(){Su(this,"_onDidChange",new v.EventEmitter),Su(this,"_prFileChangeContentProviders",{})}get onDidChange(){return this._onDidChange.event}fireDidChange(e){this._onDidChange.fire(e)}async provideTextDocumentContent(e,r){const i=xe(e);if(i&&i.prNumber){const o=this._prFileChangeContentProviders[i.prNumber];if(o)return await o(e)}return""}registerTextDocumentContentProvider(e,r){return this._prFileChangeContentProviders[e]=r,{dispose:()=>{delete this._prFileChangeContentProviders[e]}}}}const Th=new Mh;function Eu(){return Th}var Ch=Object.defineProperty,Gs=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ch(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Xr extends Vt{constructor(e,r){super();this.parent=e,this.label=r,Gs(this,"collapsibleState"),Gs(this,"children",[]),Gs(this,"pathToChild",new Map),this.collapsibleState=v.TreeItemCollapsibleState.Expanded}async getChildren(){return this.children}finalize(){this.trimTree(),this.sort()}trimTree(){if(this.children.length===0||(this.children.forEach(r=>{r instanceof Xr&&r.trimTree()}),this.children.length!==1))return;const e=this.children[0];e instanceof Xr&&(this.label=this.label+"/"+e.label,this.label.startsWith("/")&&(this.label=this.label.substr(1)),this.children=e.children)}sort(){if(this.children.length<=1)return;const e=[],r=[];this.children.forEach(i=>{i instanceof Xr?(i.sort(),e.push(i)):r.push(i)}),e.sort((i,o)=>i.label<o.label?-1:1),r.sort((i,o)=>i.label<o.label?-1:1),this.children=[...e,...r]}addFile(e){const r=e.fileName.split("/");e.description="",this.addPathRecc(r,e)}addPathRecc(e,r){if(e.length<=0)return;if(e.length===1){this.children.push(r);return}const i=e[0],o=e.slice(1);let p=this.pathToChild.get(i);p||(p=new Xr(this,i),this.pathToChild.set(i,p),this.children.push(p)),p.addPathRecc(o,r)}getTreeItem(){return this}}var Nh=Object.defineProperty,ki=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Ru=class extends Vt{constructor(t,e,r,i){super();this.parent=t,this._folderReposManager=e,this.pullRequestModel=r,this._isLocal=i,ki(this,"_fileChanges"),ki(this,"_commentController"),ki(this,"_disposables",[]),ki(this,"_inMemPRContentProvider"),ki(this,"_command")}get command(){return this._command}set command(t){this._command=t}async getChildren(){a.debug(`Fetch children of PRNode #${this.pullRequestModel.number}`,Ru.ID);try{this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(i=>i.dispose()),this.childrenDisposables=[]);const t=new Jr(this,"Description",new v.ThemeIcon("git-pull-request"),this.pullRequestModel);if(!this.pullRequestModel.isResolved())return[t];await this.pullRequestModel.initializeReviewThreadCache(),await this.pullRequestModel.getPullRequestFileViewState(),this._fileChanges=await this.resolveFileChanges(),this._inMemPRContentProvider||(this._inMemPRContentProvider=Eu().registerTextDocumentContentProvider(this.pullRequestModel.number,this.provideDocumentContent.bind(this))),this._commentController||await this.resolvePRCommentController(),await this.pullRequestModel.validateDraftMode();const e=[t];if(v.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"){const i=new Xr(this,"");this._fileChanges.forEach(o=>i.addFile(o)),i.finalize(),i.label===""?e.push(...i.children):e.push(i)}else e.push(...this._fileChanges);return this.childrenDisposables=e,e}catch(t){return a.appendLine(t),[]}}async resolvePRCommentController(){await this.pullRequestModel.githubRepository.ensureCommentsController(),this._commentController=this.pullRequestModel.githubRepository.commentsController,this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentingRangeProvider(this.pullRequestModel.number,this)),this._disposables.push(this.pullRequestModel.githubRepository.commentsHandler.registerCommentController(this.pullRequestModel.number,this.pullRequestModel,this._folderReposManager)),this.registerListeners()}registerListeners(){this._disposables.push(this.pullRequestModel.onDidChangePendingReviewState(async t=>{t||(await this.getFileChanges()).forEach(e=>{e instanceof Mn&&e.comments.forEach(r=>r.isDraft=t)})}))}async getFileChanges(){return this._fileChanges||(this._fileChanges=await this.resolveFileChanges()),this._fileChanges}async resolveFileChanges(){if(!this.pullRequestModel.isResolved())return[];const t=await this.pullRequestModel.getReviewComments(),e=await this.pullRequestModel.getFileChangesInfo(),r=this.pullRequestModel.mergeBase;return r?(await nr(e,this._folderReposManager.repository,r)).map(o=>{const p=this.pullRequestModel.head.sha,N=o.status===Me.RENAME?o.previousFileName:o.fileName;return o instanceof je?new Oi(this,this.pullRequestModel,o.status,o.fileName,o.previousFileName,o.blobUrl,ue(v.Uri.file(f.resolve(this._folderReposManager.repository.rootUri.fsPath,o.fileName)),this.pullRequestModel,o.baseCommit,p,o.fileName,!1,o.status),ue(v.Uri.file(f.resolve(this._folderReposManager.repository.rootUri.fsPath,N)),this.pullRequestModel,o.baseCommit,p,o.fileName,!0,o.status)):new Mn(this._folderReposManager,this,this.pullRequestModel,o.status,o.fileName,o.previousFileName,o.blobUrl,ue(v.Uri.file(f.resolve(this._folderReposManager.repository.rootUri.fsPath,o.fileName)),this.pullRequestModel,o.baseCommit,p,o.fileName,!1,o.status),ue(v.Uri.file(f.resolve(this._folderReposManager.repository.rootUri.fsPath,N)),this.pullRequestModel,o.baseCommit,p,o.fileName,!0,o.status),o.isPartial,o.patch,o.diffHunks,t.filter($=>$.path===o.fileName&&$.position!==null))}):[]}getTreeItem(){const t=this.pullRequestModel.equals(this._folderReposManager.activePullRequest),{title:e,number:r,author:i,isDraft:o,html_url:p}=this.pullRequestModel,{login:N}=i,L=t?"\u2713 ":"",$=t?"Current Branch * ":"",K=r.toString(),re=`${L}#${K}: ${o?"[DRAFT] ":""}${e}`,ce=`${$}${e} by @${N}`,de=`by @${N}`;return{label:re,id:`${this.parent instanceof Vt?this.parent.label:""}${p}`,tooltip:ce,description:de,collapsibleState:1,contextValue:"pullrequest"+(this._isLocal?":local":"")+(t?":active":":nonactive"),iconPath:this.pullRequestModel.userAvatarUri?this.pullRequestModel.userAvatarUri:new v.ThemeIcon("github")}}async provideCommentingRanges(t,e){if(t.uri.scheme==="pr"){const r=xe(t.uri);if(!r||r.prNumber!==this.pullRequestModel.number)return;const i=(await this.getFileChanges()).find(o=>o.fileName===r.fileName);return!i||i instanceof Oi?void 0:_u(i.diffHunks,r.isBase)}}async provideDocumentContent(t){const e=xe(t);if(!e)return"";const r=(await this.getFileChanges()).find(i=>i.fileName===e.fileName);if(!r)return a.appendLine(`PR> can not find content for document ${t.toString()}`),"";if(e.isBase&&r.status===Me.ADD||!e.isBase&&r.status===Me.DELETE)return"";if(r instanceof Oi||r.isPartial)try{return e.isBase?this.pullRequestModel.getFile(r.previousFileName||r.fileName,e.baseCommit):this.pullRequestModel.getFile(r.fileName,e.headCommit)}catch(i){return a.appendLine(`PR> Fetching file content failed: ${i}`),v.window.showWarningMessage("Opening this file locally failed. Would you like to view it on GitHub?","Open on GitHub").then(o=>{o==="Open on GitHub"&&v.commands.executeCommand("vscode.open",v.Uri.parse(r.blobUrl))}),""}if(r instanceof Mn)if(r.status===Me.ADD||r.status===Me.DELETE)if(e.isBase){const o=[];for(let p=0;p<r.diffHunks.length;p++)for(let N=0;N<r.diffHunks[p].diffLines.length;N++){const L=r.diffHunks[p].diffLines[N];L.type===$e.Add||(L.type===$e.Delete?o.push(L.text):L.type===$e.Control||o.push(L.text))}return o.join(`
`)}else{const o=[];for(let p=0;p<r.diffHunks.length;p++)for(let N=0;N<r.diffHunks[p].diffLines.length;N++){const L=r.diffHunks[p].diffLines[N];L.type===$e.Add?o.push(L.text):L.type===$e.Delete||L.type===$e.Control||o.push(L.text)}return o.join(`
`)}else{const o=r.status===Me.RENAME?r.previousFileName:r.fileName,p=v.Uri.joinPath(this._folderReposManager.repository.rootUri,o),N=await this._folderReposManager.repository.show(e.baseCommit,p.fsPath);return e.isBase?N:Xe(N,r.patch)}return""}dispose(){super.dispose(),this._inMemPRContentProvider&&this._inMemPRContentProvider.dispose(),this._commentController=void 0,this._disposables.forEach(t=>t.dispose()),this._disposables=[]}};let Si=Ru;ki(Si,"ID","PRNode");const Tn=new v.EventEmitter,Ph=Tn.event;function Ui(t,e){if(e)return e instanceof Si?e.pullRequestModel:e;if(!t.activePullRequest)throw v.window.showErrorMessage("Unable to find current pull request."),new Error("Unable to find current pull request.");return t.activePullRequest}async function Vs(t,e,r,i,o){const p=Ui(o,r);i==null||i.reveal(i,{select:!0,focus:!0}),await ur.createOrShow(t.extensionUri,o,p),e.sendTelemetryEvent("pr.openDescription")}async function qi(t,e,r){var i;if(t.length===1)return t[0];const o=t.map(p=>({label:e(p),itemValue:p}));return(i=await v.window.showQuickPick(o,r))==null?void 0:i.itemValue}async function $i(t,e){t instanceof Si||t instanceof Jr?v.commands.executeCommand("vscode.open",v.Uri.parse(t.pullRequestModel.html_url)):v.commands.executeCommand("vscode.open",v.Uri.parse(t.html_url)),e.sendTelemetryEvent("pr.openInGitHub")}function Ah(t,e,r,i,o,p){t.subscriptions.push(v.commands.registerCommand("auth.signout",async()=>{o.logout()})),t.subscriptions.push(v.commands.registerCommand("pr.openPullRequestOnGitHub",async $=>{if($)$i($,i);else{const K=e.folderManagers.map(re=>re.activePullRequest).filter(re=>!!re);if(K.length>=1){const re=await qi(K,ce=>ce.html_url);re&&$i(re,i)}}})),t.subscriptions.push(v.commands.registerCommand("review.suggestDiff",async $=>{try{const K=await qi(e.folderManagers,Le=>f.basename(Le.repository.rootUri.fsPath));if(!K||!K.activePullRequest)return;const{indexChanges:re,workingTreeChanges:ce}=K.repository.state;if(!re.length)if(ce.length)if(await v.window.showWarningMessage(`There are no staged changes to suggest.

Would you like to automatically stage all your of changes and suggest them?`,{modal:!0},"Yes")==="Yes")await v.commands.executeCommand("git.stageAll");else return;else{v.window.showInformationMessage("There are no changes to suggest.");return}const de=await K.repository.diff(!0);let we="";$&&$.inputBox&&$.inputBox.value&&(we=`${$.inputBox.value}
`,$.inputBox.value="");const Re=`${we}\`\`\`diff
${de}
\`\`\``;await K.activePullRequest.createIssueComment(Re),await v.commands.executeCommand("git.unstageAll");const ke=f.join(K.repository.rootUri.path,".git",`${K.activePullRequest.number}.diff`),Ce=new TextEncoder,Pe=v.Uri.parse(ke);await v.workspace.fs.writeFile(Pe,Ce.encode(de)),await K.repository.apply(ke,!0),await v.workspace.fs.delete(Pe)}catch(K){a.appendLine(`Applying patch failed: ${K}`),v.window.showErrorMessage(`Applying patch failed: ${U(K)}`)}})),t.subscriptions.push(v.commands.registerCommand("pr.openFileOnGitHub",async $=>{if(!($ instanceof Oi&&!await v.window.showInformationMessage(`${$.fileName} can't be opened locally. Do you want to open it on GitHub?`,"Open")))return v.commands.executeCommand("vscode.open",v.Uri.parse($.blobUrl))})),t.subscriptions.push(v.commands.registerCommand("pr.copyCommitHash",$=>{v.env.clipboard.writeText($.sha)})),t.subscriptions.push(v.commands.registerCommand("pr.openOriginalFile",async $=>{const K=e.getManagerForIssueModel($.pullRequest);if(K){const re=await pt($.parentFilePath,K.repository);v.commands.executeCommand("vscode.open",re||$.parentFilePath)}})),t.subscriptions.push(v.commands.registerCommand("pr.openModifiedFile",$=>{v.commands.executeCommand("vscode.open",$.filePath)})),t.subscriptions.push(v.commands.registerCommand("pr.openDiffView",$=>{const K=e.getManagerForIssueModel($.pullRequest);!K||$.openDiff(K)})),t.subscriptions.push(v.commands.registerCommand("pr.deleteLocalBranch",async $=>{const K=e.getManagerForIssueModel($.pullRequestModel);if(!K)return;const re=Ui(K,$),ce="delete branch (even if not merged)";let de=null;try{await K.deleteLocalPullRequest(re)}catch(we){if(we.gitErrorCode===q.BranchNotFullyMerged){if(await v.window.showErrorMessage(`The branch '${re.localBranchName}' is not fully merged, are you sure you want to delete it? `,ce)!==ce)return;try{await K.deleteLocalPullRequest(re,!0)}catch(ke){de=ke}}else de=we}de?(i.sendTelemetryErrorEvent("pr.deleteLocalPullRequest.failure"),await v.window.showErrorMessage(`Deleting local pull request branch failed: ${de}`)):(i.sendTelemetryEvent("pr.deleteLocalPullRequest.success"),v.commands.executeCommand("pr.refreshList"))}));function N($){if($){const K=v.Uri.file($).toString();for(const re of r)if(re.repository.rootUri.toString()===K)return re}return qi(r,K=>f.basename(K.repository.rootUri.fsPath),{placeHolder:"Choose a repository to create a pull request in",ignoreFocusOut:!0})}function L($){return!!($==null?void 0:$.rootUri)}t.subscriptions.push(v.commands.registerCommand("pr.create",async $=>{var K,re;L($)?(K=await N($.rootUri.fsPath))==null||K.createPullRequest():(re=await N($==null?void 0:$.repoPath))==null||re.createPullRequest($==null?void 0:$.compareBranch)})),t.subscriptions.push(v.commands.registerCommand("pr.pick",async $=>{let K;$ instanceof Si||$ instanceof Jr?K=$.pullRequestModel:K=$;const re=$ instanceof Ir;return i.sendTelemetryEvent("pr.checkout",{fromDescription:re.toString()}),v.window.withProgress({location:v.ProgressLocation.SourceControl,title:`Switching to Pull Request #${K.number}`},async()=>{var ce;await((ce=Zr.getReviewManagerForRepository(r,K.githubRepository))==null?void 0:ce.switch(K))})})),t.subscriptions.push(v.commands.registerCommand("pr.exit",async $=>{let K;$ instanceof Si||$ instanceof Jr?K=$.pullRequestModel:K=$;const re=$ instanceof Ir;return i.sendTelemetryEvent("pr.exit",{fromDescription:re.toString()}),v.window.withProgress({location:v.ProgressLocation.SourceControl,title:"Exiting Pull Request"},async()=>{const ce=await K.githubRepository.getDefaultBranch(),de=e.getManagerForIssueModel(K);de&&de.checkoutDefaultBranch(ce)})})),t.subscriptions.push(v.commands.registerCommand("pr.merge",async $=>{const K=e.getManagerForIssueModel($==null?void 0:$.pullRequestModel);if(!K)return;const re=Ui(K,$);return re.base&&re.head&&!re.base.repositoryCloneUrl.equals(re.head.repositoryCloneUrl)&&Ss()?$i(re,i):v.window.showWarningMessage("Are you sure you want to merge this pull request on GitHub?",{modal:!0},"Yes").then(async we=>{let Re;if(we==="Yes")try{return Re=await K.mergePullRequest(re),Re}catch(ke){return v.window.showErrorMessage(`Unable to merge pull request. ${U(ke)}`),Re}})})),t.subscriptions.push(v.commands.registerCommand("pr.readyForReview",async $=>{const K=e.getManagerForIssueModel($==null?void 0:$.pullRequestModel);if(!K)return;const re=Ui(K,$);return v.window.showWarningMessage("Are you sure you want to mark this pull request as ready to review on GitHub?",{modal:!0},"Yes").then(async ce=>{let de;if(ce==="Yes")try{return de=await re.setReadyForReview(),v.commands.executeCommand("pr.refreshList"),de}catch(we){return v.window.showErrorMessage(`Unable to mark pull request as ready to review. ${U(we)}`),de}})})),t.subscriptions.push(v.commands.registerCommand("pr.close",async($,K)=>{let re;if($)re=$ instanceof Ir?$:$.pullRequestModel;else{const de=e.folderManagers.map(we=>we.activePullRequest).filter(we=>!!we);re=await qi(de,we=>`${we.number}: ${we.title}`,{placeHolder:"Pull request to close"})}if(!re)return;const ce=re;return v.window.showWarningMessage("Are you sure you want to close this pull request on GitHub? This will close the pull request without merging.",{modal:!0},"Yes","No").then(async de=>{if(de==="Yes")try{let we;K&&(we=await ce.createIssueComment(K));const Re=await ce.close();return v.commands.executeCommand("pr.refreshList"),Tn.fire(Re),we}catch(we){v.window.showErrorMessage(`Unable to close pull request. ${U(we)}`),Tn.fire()}Tn.fire()})})),t.subscriptions.push(v.commands.registerCommand("pr.openDescription",async $=>{let K;if($)K=$ instanceof Jr?$.pullRequestModel:$;else{const de=e.folderManagers.map(we=>we.activePullRequest).filter(we=>!!we);de.length>=1&&(K=await qi(de,we=>we.title))}if(!K){a.appendLine("No pull request found.");return}const re=e.getManagerForIssueModel(K);if(!re)return;let ce;if($ instanceof Jr)ce=$;else{const de=Zr.getReviewManagerForFolderManager(r,re);if(!de)return;ce=de.changesInPrDataProvider.getDescriptionNode(re)}await Vs(t,i,K,ce,re)})),t.subscriptions.push(v.commands.registerCommand("pr.refreshDescription",async()=>{ur.currentPanel&&ur.refresh()})),t.subscriptions.push(v.commands.registerCommand("pr.openDescriptionToTheSide",async $=>{const K=e.getManagerForIssueModel($.pullRequestModel);if(!K)return;const re=$.pullRequestModel,ce=Ui(K,re);$.reveal($,{select:!0,focus:!0}),ur.createOrShow(t.extensionUri,K,ce,!0),i.sendTelemetryEvent("pr.openDescriptionToTheSide")})),t.subscriptions.push(v.commands.registerCommand("pr.signin",async()=>{await e.authenticate()})),t.subscriptions.push(v.commands.registerCommand("pr.deleteLocalBranchesNRemotes",async()=>{for(const $ of e.folderManagers)await $.deleteLocalBranchesNRemotes()})),t.subscriptions.push(v.commands.registerCommand("pr.signinAndRefreshList",async()=>{await e.authenticate()&&v.commands.executeCommand("pr.refreshList")})),t.subscriptions.push(v.commands.registerCommand("pr.configureRemotes",async()=>v.commands.executeCommand("workbench.action.openSettings",`@ext:${ge} remotes`))),t.subscriptions.push(v.commands.registerCommand("pr.startReview",async $=>{i.sendTelemetryEvent("pr.startReview");const K=nt($.thread);K&&K.startReview($.thread,$.text)})),t.subscriptions.push(v.commands.registerCommand("pr.openReview",async $=>{i.sendTelemetryEvent("pr.openReview");const K=nt($.thread);K&&await K.openReview($.thread)})),t.subscriptions.push(v.commands.registerCommand("pr.resolveReviewThread",async $=>{i.sendTelemetryEvent("pr.resolveReviewThread");const K=nt($.thread);K&&await K.resolveReviewThread($.thread,$.text)})),t.subscriptions.push(v.commands.registerCommand("pr.unresolveReviewThread",async $=>{i.sendTelemetryEvent("pr.unresolveReviewThread");const K=nt($.thread);K&&await K.unresolveReviewThread($.thread,$.text)})),t.subscriptions.push(v.commands.registerCommand("pr.createComment",async $=>{i.sendTelemetryEvent("pr.createComment");const K=nt($.thread);K&&K.createOrReplyComment($.thread,$.text,!1)})),t.subscriptions.push(v.commands.registerCommand("pr.createSingleComment",async $=>{i.sendTelemetryEvent("pr.createSingleComment");const K=nt($.thread);K&&K.createOrReplyComment($.thread,$.text,!0)})),t.subscriptions.push(v.commands.registerCommand("pr.editComment",async $=>{i.sendTelemetryEvent("pr.editComment"),$.startEdit()})),t.subscriptions.push(v.commands.registerCommand("pr.cancelEditComment",async $=>{i.sendTelemetryEvent("pr.cancelEditComment"),$.cancelEdit()})),t.subscriptions.push(v.commands.registerCommand("pr.saveComment",async $=>{i.sendTelemetryEvent("pr.saveComment");const K=nt($.parent);K&&await K.editComment($.parent,$)})),t.subscriptions.push(v.commands.registerCommand("pr.deleteComment",async $=>{if(i.sendTelemetryEvent("pr.deleteComment"),await v.window.showWarningMessage("Delete comment?",{modal:!0},"Delete")==="Delete"){const re=nt($.parent);re&&await re.deleteComment($.parent,$)}})),t.subscriptions.push(v.commands.registerCommand("review.openFile",$=>{var K;const re=$ instanceof wi?$.openFileCommand():gu($);v.commands.executeCommand(re.command,...(K=re.arguments)!=null?K:[])})),t.subscriptions.push(v.commands.registerCommand("pr.refreshChanges",$=>{r.forEach(K=>{K.updateComments(),ur.refresh(),K.changesInPrDataProvider.refresh()})})),t.subscriptions.push(v.commands.registerCommand("pr.setFileListLayoutAsTree",$=>{v.workspace.getConfiguration("githubPullRequests").update("fileListLayout","tree",!0)})),t.subscriptions.push(v.commands.registerCommand("pr.setFileListLayoutAsFlat",$=>{v.workspace.getConfiguration("githubPullRequests").update("fileListLayout","flat",!0)})),t.subscriptions.push(v.commands.registerCommand("pr.refreshPullRequest",$=>{var K;const re=e.getManagerForIssueModel($.pullRequestModel);re&&$.pullRequestModel.equals(re==null?void 0:re.activePullRequest)&&((K=Zr.getReviewManagerForFolderManager(r,re))==null||K.updateComments()),ur.refresh(),p.refresh($)})),t.subscriptions.push(v.commands.registerCommand("pr.markFileAsViewed",async $=>{try{await $.pullRequest.markFileAsViewed($.fileName)}catch(K){v.window.showErrorMessage(`Marked file as viewed failed: ${K}`)}})),t.subscriptions.push(v.commands.registerCommand("pr.unmarkFileAsViewed",async $=>{try{await $.pullRequest.unmarkFileAsViewed($.fileName)}catch(K){v.window.showErrorMessage(`Marked file as not viewed failed: ${K}`)}}))}var Ei=st(9035),Ih=Object.defineProperty,xu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ih(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Dh{constructor(e){this.baseReporter=e,xu(this,"sharedProperties",{})}sendTelemetryEvent(e,r,i){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...r},i)}sendTelemetryErrorEvent(e,r,i){this.baseReporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...r})}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){const i={};for(const[o,p]of r)i[o]=p;this.sendTelemetryEvent(e,i)}dispose(){return this.baseReporter.dispose()}}function Fh(){switch(v.env.uriScheme){case"vscode":return Ei.aU.Public;case"vscode-insiders":return Ei.aU.Insiders;case"vscode-exploration":return Ei.aU.Internal;case"code-oss":return Ei.aU.Team;default:return Ei.aU.Public}}class Oh{constructor(){xu(this,"initializePromise",Promise.resolve())}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}}async function Bh(t,e){const r=t.extension.id,i=t.extension.packageJSON.name,o=t.extension.packageJSON.version,p=Fh();return i==="vscode-pull-request-github"?(0,Ei.X7)(r,o,p,e,t.globalState):new Oh}var Lh=Object.defineProperty,Hi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Lh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class qm extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has no GitHub remotes`}}class $m extends Error{constructor(e){super();this.repository=e}get message(){return`${this.repository.rootUri.toString()} has a detached HEAD (create a branch first)`}}class Hm extends Error{constructor(e,r,i){super();this.branchName=e,this.upstreamRef=r,this.problem=i}get message(){const{upstreamRef:{remote:e,name:r},branchName:i,problem:o}=this;return`The upstream ref ${e}/${r} for branch ${i} ${o}.`}}const Gm="remotes",Vm="No Milestone";class Mu{constructor(e,r,i){this._folderManagers=e,this._credentialStore=r,this._telemetry=i,Hi(this,"_subs"),Hi(this,"_onDidChangeState",new v.EventEmitter),Hi(this,"onDidChangeState",this._onDidChangeState.event),Hi(this,"_state",er.Initializing),this._subs=[],v.commands.executeCommand("setContext",fu,this._state),this._subs.push(...e.map(o=>o.onDidLoadRepositories(p=>this.state=p)))}get folderManagers(){return this._folderManagers}insertFolderManager(e){const r=v.workspace.workspaceFolders;if(r){const i=r.findIndex(o=>o.uri.toString()===e.repository.rootUri.toString());if(i>-1){const o=this._folderManagers.slice(i,this._folderManagers.length);this._folderManagers=this._folderManagers.slice(0,i),this._folderManagers.push(e),this._folderManagers.push(...o);return}}this._folderManagers.push(e)}removeRepo(e){const r=this._folderManagers.findIndex(i=>i.repository.rootUri.toString()===e.rootUri.toString());if(r>-1){const i=this._folderManagers[r];this._folderManagers.splice(r),i.dispose()}}getManagerForIssueModel(e){if(e===void 0)return;const r=e.remote.url.substring(0,e.remote.url.length-f.extname(e.remote.url).length);for(const i of this._folderManagers)if(i.gitHubRepositories.map(o=>o.remote.url.substring(0,o.remote.url.length-f.extname(o.remote.url).length)).includes(r))return i}getManagerForFile(e){for(const r of this._folderManagers){const i=r.repository.rootUri.path,o=e.path.substring(i.length>1?i.length+1:i.length);if(v.Uri.joinPath(r.repository.rootUri,o).path===e.path)return r}}get state(){return this._state}set state(e){const r=e!==this._state;this._state=e,r&&(v.commands.executeCommand("setContext",fu,e),this._onDidChangeState.fire())}get credentialStore(){return this._credentialStore}async clearCredentialCache(){await this._credentialStore.reset(),this.state=er.Initializing}async authenticate(){const e=await this._credentialStore.login(ht.github);let r;return Di()&&(r=await this._credentialStore.login(ht["github-enterprise"])),!!e||!!r}createGitHubRepository(e,r){return new hi(e,r,this._telemetry)}createGitHubRepositoryFromOwnerName(e,r){const i=`https://github.com/${e}/${r}`;return new hi(new pn(r,i,new rt(i)),this._credentialStore,this._telemetry)}dispose(){this._subs.forEach(e=>e.dispose())}}Hi(Mu,"ID","RepositoriesManager");function jm(t){switch(t){case"committed":return EventType.Committed;case"mentioned":return EventType.Mentioned;case"subscribed":return EventType.Subscribed;case"commented":return EventType.Commented;case"reviewed":return EventType.Reviewed;default:return EventType.Other}}var Uh=Object.defineProperty,xr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Uh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class js{constructor(e){xr(this,"_onDidOpenRepository",new v.EventEmitter),xr(this,"onDidOpenRepository",this._onDidOpenRepository.event),xr(this,"_onDidCloseRepository",new v.EventEmitter),xr(this,"onDidCloseRepository",this._onDidCloseRepository.event),xr(this,"_onDidChangeState",new v.EventEmitter),xr(this,"onDidChangeState",this._onDidChangeState.event),xr(this,"_onDidPublish",new v.EventEmitter),xr(this,"onDidPublish",this._onDidPublish.event),xr(this,"_gitAPI"),xr(this,"_disposables");const r=e.exports;try{this._gitAPI=r.getAPI(1)}catch(i){throw v.window.showErrorMessage("Activating the Pull Requests and Issues extension failed. Please make sure you have git installed."),i}this._disposables=[],this._disposables.push(this._gitAPI.onDidCloseRepository(i=>this._onDidCloseRepository.fire(i))),this._disposables.push(this._gitAPI.onDidOpenRepository(i=>this._onDidOpenRepository.fire(i))),this._disposables.push(this._gitAPI.onDidChangeState(i=>this._onDidChangeState.fire(i))),this._disposables.push(this._gitAPI.onDidPublish(i=>this._onDidPublish.fire(i)))}get repositories(){return this._gitAPI.repositories}get state(){return this._gitAPI.state}static async createProvider(){const e=v.extensions.getExtension("vscode.git");if(e)return await e.activate(),new js(e)}dispose(){this._disposables.forEach(e=>e.dispose())}}var qh=Object.defineProperty,At=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?qh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class $h{constructor(e){this._liveShareAPI=e,At(this,"_onDidOpenRepository",new v.EventEmitter),At(this,"onDidOpenRepository",this._onDidOpenRepository.event),At(this,"_onDidCloseRepository",new v.EventEmitter),At(this,"onDidCloseRepository",this._onDidCloseRepository.event),At(this,"_openRepositories",[]),At(this,"_sharedServiceProxy"),At(this,"_disposables"),this._disposables=[]}get repositories(){return this._openRepositories}async initialize(){this._sharedServiceProxy=await this._liveShareAPI.getSharedService(lt)||void 0,!!this._sharedServiceProxy&&(this._sharedServiceProxy.isServiceAvailable&&await this._refreshWorkspaces(!0),this._disposables.push(this._sharedServiceProxy.onDidChangeIsServiceAvailable(async e=>{await this._refreshWorkspaces(e)})),this._disposables.push(v.workspace.onDidChangeWorkspaceFolders(this._onDidChangeWorkspaceFolders.bind(this))))}async _onDidChangeWorkspaceFolders(e){e.added.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.openVSLSRepository(r)}),e.removed.forEach(async r=>{r.uri.scheme==="vsls"&&this._sharedServiceProxy&&this._sharedServiceProxy.isServiceAvailable&&await this.closeVSLSRepository(r)})}async _refreshWorkspaces(e){v.workspace.workspaceFolders&&v.workspace.workspaceFolders.forEach(async r=>{r.uri.scheme==="vsls"&&(e?await this.openVSLSRepository(r):await this.closeVSLSRepository(r))})}async openVSLSRepository(e){if(this.getRepository(e))return;const i=new Vh(e,this._sharedServiceProxy),o=new Hh,p=new Proxy(i,o);await p.initialize(),this.openRepository(p)}async closeVSLSRepository(e){const r=this.getRepository(e);!r||this.closeRepository(r)}openRepository(e){this._openRepositories.push(e),this._onDidOpenRepository.fire(e)}closeRepository(e){this._openRepositories=this._openRepositories.filter(r=>r!==e),this._onDidCloseRepository.fire(e)}getRepository(e){return this._openRepositories.filter(r=>r.workspaceFolder===e)[0]}dispose(){this._sharedServiceProxy=void 0,this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}class Hh{constructor(){}get(e,r){return r in e?e[r]:function(...i){return e.proxy.request(Te,[r,e.workspaceFolder.uri.toString(),...i])}}}class Gh{constructor(e){At(this,"HEAD"),At(this,"refs"),At(this,"remotes"),At(this,"submodules",[]),At(this,"rebaseCommit"),At(this,"mergeChanges",[]),At(this,"indexChanges",[]),At(this,"workingTreeChanges",[]),At(this,"_onDidChange",new v.EventEmitter),At(this,"onDidChange",this._onDidChange.event),this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs}update(e){this.HEAD=e.HEAD,this.remotes=e.remotes,this.refs=e.refs,this._onDidChange.fire()}}class Vh{constructor(e,r){this.workspaceFolder=e,this.proxy=r,At(this,"rootUri"),At(this,"state")}async initialize(){const e=await this.proxy.request(Te,[Fe,this.workspaceFolder.uri.toString()]);this.state=new Gh(e),this.rootUri=v.Uri.parse(e.rootUri),this.proxy.onNotify(Oe,this._notifyHandler.bind(this))}_notifyHandler(e){var r;(r=this.state)==null||r.update(e)}}var jh=Object.defineProperty,Tu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?jh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class zh{constructor(e,r){this._liveShareAPI=e,this._api=r,Tu(this,"_sharedService"),Tu(this,"_disposables"),this._disposables=[]}async initialize(){this._sharedService=await this._liveShareAPI.shareService(lt)||void 0,this._sharedService&&this._sharedService.onRequest(Te,this._gitHandler.bind(this))}async _gitHandler(e){const r=e[0],i=e[1],o=v.Uri.parse(i),p=this._liveShareAPI.convertSharedUriToLocal(o),N=this._api.getGitProvider(p);if(!N)return;const L=N.repositories.filter($=>$.rootUri.toString()===p.toString())[0];if(L){const $=e.slice(2);if(r===Fe)return this._disposables.push(L.state.onDidChange(K=>{this._sharedService.notify(Oe,{HEAD:L.state.HEAD,remotes:L.state.remotes,refs:L.state.refs})})),{HEAD:L.state.HEAD,remotes:L.state.remotes,refs:L.state.refs,rootUri:o.toString()};if(r==="show"){const K=$[1],re=o.with({path:K}),ce=this._liveShareAPI.convertSharedUriToLocal(re);return $[1]=ce.fsPath,L[r](...$)}if(L[r])return L[r](...$)}else return null}dispose(){this._disposables.forEach(e=>e.dispose()),this._sharedService=void 0,this._disposables=[]}}var Wh=Object.defineProperty,Gi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Wh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);async function Qh(){const t=v.extensions.getExtension("ms-vsliveshare.vsliveshare");if(!t)return null;const e=t.isActive?t.exports:await t.activate();if(!e)return null;const r="0.3.967";return e.getApi?e.getApi(r):e.getApiAsync(r)}class Kh{constructor(e){this._api=e,Gi(this,"_liveShareAPI"),Gi(this,"_host"),Gi(this,"_guest"),Gi(this,"_localDisposables"),Gi(this,"_globalDisposables"),this._localDisposables=[],this._globalDisposables=[]}async initialize(){if(this._liveShareAPI||(this._liveShareAPI=await Qh()),!!this._liveShareAPI)return this._globalDisposables.push(this._liveShareAPI.onDidChangeSession(e=>this._onDidChangeSession(e.session),this)),this._liveShareAPI.session&&this._onDidChangeSession(this._liveShareAPI.session),this._liveShareAPI}async _onDidChangeSession(e){if(this._localDisposables.forEach(r=>r.dispose()),e.role===1){this._host=new zh(this._liveShareAPI,this._api),this._localDisposables.push(this._host),await this._host.initialize();return}e.role===2&&(this._guest=new $h(this._liveShareAPI),this._localDisposables.push(this._guest),await this._guest.initialize(),this._localDisposables.push(this._api.registerGitProvider(this._guest)))}dispose(){this._liveShareAPI=void 0,this._localDisposables.forEach(e=>e.dispose()),this._globalDisposables.forEach(e=>e.dispose())}}function Yh(t){return new Kh(t)}async function Zh(t,e){const r=await js.createProvider();if(r)return e.registerGitProvider(r),r}var Jh=Object.defineProperty,Cu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Jh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Xh{constructor(e){this.pullRequestManager=e,Cu(this,"onNotifiedEmitter",new v.EventEmitter),Cu(this,"onNotified",this.onNotifiedEmitter.event),e.folderManagers.forEach(r=>{r.onDidChangeAssignableUsers(i=>{this.notifySuggestedAccounts(i)})})}async requestAsync(e,r,i){let o=null;switch(e){case"initialize":o={description:"Pullrequest",capabilities:{supportsDispose:!1,supportsInviteLink:!1,supportsPresence:!1,supportsContactPresenceRequest:!1,supportsPublishPresence:!1}};const p=new Map;for(const N of this.pullRequestManager.folderManagers){const L=N.getAllAssignableUsers();if(!!L)for(const $ of L)p.has($.login)||p.set($.login,$)}p.size>0&&this.notifySuggestedAccounts(Array.from(p.values()));break;default:throw new Error(`type:${e} not supported`)}return o}async notifySuggestedAccounts(e){let r;try{r=await this.getCurrentUserLogin()}catch(i){}r&&e.findIndex(i=>i.login===r)!==-1&&this.notifySuggestedUsers(e.filter(i=>i.email).map(i=>({id:i.login,displayName:i.name?i.name:i.login,email:i.email})),!0)}async getCurrentUserLogin(){var e;if(this.pullRequestManager.folderManagers.length===0)return;const r=await((e=this.pullRequestManager.folderManagers[0])==null?void 0:e.getOrigin());if(r){const i=r.hub.currentUser;if(i)return i.login}}notify(e,r){this.onNotifiedEmitter.fire({type:e,body:r})}notifySuggestedUsers(e,r){this.notify("suggestedUsers",{contacts:e,exclusive:r})}}var ep=Object.defineProperty,Nu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class tp{constructor(){Nu(this,"_extensionsDisposable"),Nu(this,"_subscriptions",[]),this._extensionsDisposable=v.extensions.onDidChange(this.onExtensionsChanged,this),this.onExtensionsChanged()}dispose(){this._extensionsDisposable.dispose(),v.Disposable.from(...this._subscriptions).dispose()}register(e){this._subscriptions.push(e.registerActionRunner("createPullRequest",{partnerId:"ghpr",name:"GitHub Pull Requests and Issues",label:"Create Pull Request",run:function(r){r.branch.isRemote||v.commands.executeCommand("pr.create",{repoPath:r.repoPath,compareBranch:r.branch.name})}}))}async onExtensionsChanged(){var e;const r=(e=v.extensions.getExtension("eamodio.gitlens"))!=null?e:v.extensions.getExtension("eamodio.gitlens-insiders");if(r)if(this._extensionsDisposable.dispose(),r.isActive)this.register(await r.exports);else{let i=0;const o=setInterval(async()=>{r.isActive?(clearInterval(o),this.register(await r.exports)):(i++,i>60&&clearInterval(o))},1e3)}}}var rp=Object.defineProperty,ei=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?rp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Pu{constructor(e,r,i,o,p){this.issueModel=e,this.manager=r,this.stateManager=i,this.shouldPromptForBranch=p,ei(this,"repoChangeDisposable"),ei(this,"_branchName"),ei(this,"user"),ei(this,"repo"),ei(this,"_repoDefaults"),ei(this,"_onDidChangeCurrentIssueState",new v.EventEmitter),ei(this,"onDidChangeCurrentIssueState",this._onDidChangeCurrentIssueState.event),this.setRepo(o!=null?o:this.issueModel.githubRepository.remote)}setRepo(e){var r;for(let i=0;i<this.stateManager.gitAPI.repositories.length;i++){const o=this.stateManager.gitAPI.repositories[i];for(let p=0;p<o.state.remotes.length;p++){const N=o.state.remotes[p];if(N.name===(e==null?void 0:e.remoteName)&&((r=N.fetchUrl)==null?void 0:r.toLowerCase().search(`${e.owner.toLowerCase()}/${e.repositoryName.toLowerCase()}`))!==-1){this.repo=o;return}}}}get branchName(){return this._branchName}get repoDefaults(){return this._repoDefaults}get issue(){return this.issueModel}async startWorking(){var e;try{if(this._repoDefaults=await this.manager.getPullRequestDefaults(),await this.createIssueBranch()){await this.setCommitMessageAndGitEvent(),this._onDidChangeCurrentIssueState.fire();const r=this.manager.getCurrentUser(this.issueModel).login;return v.workspace.getConfiguration("githubIssues").get("assignWhenWorking")&&!((e=this.issueModel.assignees)==null?void 0:e.find(i=>i.login===r))&&(await this.manager.assignIssue(this.issueModel,r),await this.stateManager.refresh()),!0}}catch(r){v.window.showErrorMessage("There is no remote. Can't start working on an issue.")}return!1}dispose(){var e;(e=this.repoChangeDisposable)==null||e.dispose()}async stopWorking(){this.repo&&(this.repo.inputBox.value=""),this._repoDefaults&&await this.manager.repository.checkout(this._repoDefaults.base),this._onDidChangeCurrentIssueState.fire(),this.dispose()}getBasicBranchName(e){return`${e}/issue${this.issueModel.number}`}async branchExists(e){try{return!!await this.manager.repository.getBranch(e)}catch(r){}return!1}async createOrCheckoutBranch(e){try{return await this.branchExists(e)?await this.manager.repository.checkout(e):await this.manager.repository.createBranch(e,!0),!0}catch(r){return v.window.showErrorMessage(`Unable to checkout branch ${e}. There may be file conflicts that prevent this branch change. Git error: ${r.error}`),!1}}async getUser(){return this.user||(this.user=await this.issueModel.githubRepository.getAuthenticatedUser()),this.user}async ensureBranchTitleConfigMigrated(){var e;const r=v.workspace.getConfiguration(Nt),i=r.inspect(Yo);async function o(p,N){await r.update(xs,p,N),await r.update(Yo,void 0,N)}return(i==null?void 0:i.globalValue)&&await o(i.globalValue,v.ConfigurationTarget.Global),(i==null?void 0:i.workspaceValue)&&await o(i.workspaceValue,v.ConfigurationTarget.Workspace),(i==null?void 0:i.workspaceFolderValue)&&await o(i.workspaceFolderValue,v.ConfigurationTarget.WorkspaceFolder),(e=v.workspace.getConfiguration(Nt).get(xs))!=null?e:this.getBasicBranchName(await this.getUser())}validateBranchName(e){const r=/[^ \\@\~\^\?\*\[]+/,i=e.match(r);if(i&&i.length>0&&i[0]!==e)return"Branch name cannot contain a space or the following characters: \\@~^?*["}showBranchNameError(e){const r="Edit Setting";v.window.showErrorMessage(e,r).then(i=>{i===r&&v.commands.executeCommand("workbench.action.openSettings",`${Nt}.${xs}`)})}async createIssueBranch(){const e=this.shouldPromptForBranch?"prompt":v.workspace.getConfiguration(Nt).get(Zo);if(e==="off")return!0;const r=this.stateManager.getSavedIssueState(this.issueModel.number);if(this._branchName=this.shouldPromptForBranch?void 0:r.branch,!this._branchName){const i=await xn(await this.ensureBranchTitleConfigMigrated(),this.issue,void 0,await this.getUser());if(e==="on"){const o=this.validateBranchName(i);if(o)return this.showBranchNameError(o),!1;this._branchName=i}else this._branchName=await v.window.showInputBox({value:i,prompt:"Enter the label for the new branch."})}return this._branchName?(r.branch=this._branchName,await this.stateManager.setSavedIssueState(this.issueModel,r),await this.createOrCheckoutBranch(this._branchName)||(this._branchName=void 0),!0):!1}async getCommitMessage(){const e=v.workspace.getConfiguration(Nt).get(Lf);if(typeof e=="string")return xn(e,this.issueModel,this._repoDefaults)}async setCommitMessageAndGitEvent(){const e=await this.getCommitMessage();this.repo&&e&&(this.repo.inputBox.value=e)}}class Au extends v.CompletionItem{constructor(e){super(`${e.number}: ${e.title}`,v.CompletionItemKind.Issue);this.issue=e}}class ip{constructor(e,r,i){this.stateManager=e,this.repositoriesManager=r,this.context=i}async provideCompletionItems(e,r,i,o){var p,N,L,$;if(e.languageId!=="scminput"&&e.uri.scheme!=="comment"&&r.character>0&&o.triggerKind===v.CompletionTriggerKind.Invoke&&!e.getText(e.getWordRangeAtPosition(r)).match(/#[0-9]*$/))return[];if(r.character<=6&&e.languageId==="markdown"&&e.getText(new v.Range(r.with(void 0,0),r))===new Array(r.character+1).join("#"))return[];if(o.triggerKind===v.CompletionTriggerKind.TriggerCharacter&&v.workspace.getConfiguration(Nt).get("ignoreCompletionTrigger",[]).find(ke=>ke===e.languageId))return[];if(e.languageId!=="scminput"&&!await Ps(e,r))return[];let K=new v.Range(r,r);r.character-1>=0&&e.getText(new v.Range(r.translate(0,-1),r))==="#"&&(K=new v.Range(r.translate(0,-1),r)),await this.stateManager.tryInitializeAndWait();const re=new Map,ce=new Date;let de,we;if(e.languageId==="scminput"?we=ou(e.uri):e.uri.scheme==="comment"?we=v.window.visibleTextEditors.length>0?(p=v.workspace.getWorkspaceFolder(v.Uri.file(v.window.visibleTextEditors[0].document.uri.fsPath)))==null?void 0:p.uri:void 0:we=(N=v.workspace.getWorkspaceFolder(e.uri))==null?void 0:N.uri,!we)return[];try{de=await((L=this.repositoriesManager.getManagerForFile(we))==null?void 0:L.getPullRequestDefaults())}catch(ke){}const Re=this.stateManager.getIssueCollection(we);for(const ke of Re){const Ce=($=await ke[1])!=null?$:[];if(Ce.length!==0)if(Ce[0]instanceof Bt){let Pe=0;for(const Le of Ce)re.set(gi(Le),await this.completionItemFromIssue(de,Le,ce,K,e,Pe++))}else for(let Pe=0;Pe<Ce.length;Pe++){const Le=Ce[Pe];for(const He of Le.issues)re.set(gi(He),await this.completionItemFromIssue(de,He,ce,K,e,Pe,Le.milestone))}}return[...re.values()]}async completionItemFromIssue(e,r,i,o,p,N,L){var $;const K=new Au(r);if(p.languageId==="markdown")K.insertText=`[${gi(r,e)}](${r.html_url})`;else{const ce=v.workspace.getConfiguration(Nt).get("issueCompletionFormatScm");p.uri.path.match(/scm\/git\/scm\d\/input/)&&typeof ce=="string"?K.insertText=await xn(ce,r,e):K.insertText=`${gi(r,e)}`}K.documentation=r.body,K.range=o,K.detail=L?L.title:($=r.milestone)==null?void 0:$.title;let re=(i.getTime()-new Date(r.updatedAt).getTime()).toString();return re=new Array(20-re.length).join("0")+re,K.sortText=`${N} ${re}`,K.filterText=`${K.detail} # ${r.number} ${r.title} ${K.documentation}`,K}async resolveCompletionItem(e,r){return e instanceof Au&&(e.documentation=await Cs(e.issue,this.context,this.repositoriesManager),e.command={command:"issues.issueCompletion",title:"Issue Completion Chose,"}),e}}var np=Object.defineProperty,Vi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?np(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Fr="newIssue",sp="NewIssue.md",Cn="Assignees:",ji="Labels:";function zs(t){const e=JSON.parse(t.query);if(e.origin)return v.Uri.parse(e.origin)}class ap{constructor(){Vi(this,"content"),Vi(this,"createTime",0),Vi(this,"modifiedTime",0),Vi(this,"_onDidChangeFile",new v.EventEmitter),Vi(this,"onDidChangeFile",this._onDidChangeFile.event)}watch(e,r){const i=this.onDidChangeFile(o=>{o.length===0&&o[0].type===v.FileChangeType.Deleted&&i.dispose()});return i}stat(e){var r,i;return{type:v.FileType.File,ctime:this.createTime,mtime:this.modifiedTime,size:(i=(r=this.content)==null?void 0:r.length)!=null?i:0}}readDirectory(e){return[]}createDirectory(e){}readFile(e){var r;return(r=this.content)!=null?r:new Uint8Array(0)}writeFile(e,r,i={create:!1,overwrite:!1}){const o=this.content;this.content=r,o===void 0?(this.createTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:v.FileChangeType.Created}])):(this.modifiedTime=new Date().getTime(),this._onDidChangeFile.fire([{uri:e,type:v.FileChangeType.Changed}]))}delete(e,r){this.content=void 0,this.createTime=0,this.modifiedTime=0,this._onDidChangeFile.fire([{uri:e,type:v.FileChangeType.Deleted}])}rename(e,r,i){}}class op{constructor(e){this.manager=e}async provideCompletionItems(e,r,i,o){if(!e.lineAt(r.line).text.startsWith(ji))return[];const p=zs(e.uri);if(!p)return[];const N=this.manager.getManagerForFile(p);if(!N)return[];const L=await N.getPullRequestDefaults();return(await N.getLabels(void 0,L)).map(K=>{const re=new v.CompletionItem(K.name,v.CompletionItemKind.Color);return re.documentation=`#${K.color}`,re.commitCharacters=[" ",","],re})}}class up{constructor(e,r,i,o){this.manager=e,this.stateManager=r,this.context=i,this.telemetry=o}async provideHover(e,r,i){if(!await au(e,r))return;let o=e.getWordRangeAtPosition(r,Fi);if(o&&o.start.character>0){o=new v.Range(new v.Position(o.start.line,o.start.character-1),o.end);const N=e.getText(o).match(Fi),L=Ms(N),$=this.manager.getManagerForFile(e.uri);if(!$)return;if(L&&N&&L.issueNumber<=this.stateManager.maxIssueNumber($.repository.rootUri))return this.createHover($,N[0],L,o)}else return}async createHover(e,r,i,o){const p=await Uf(this.stateManager,e,r,i);if(!!p)return this.telemetry.sendTelemetryEvent("issues.issueHover"),new v.Hover(await Cs(p,this.context,this.manager,i.commentNumber),o)}}var lp=Object.defineProperty,Iu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?lp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class ti extends v.TreeItem{constructor(e,r,i){super(r,i);this.uri=e}get labelAsString(){var e;return typeof this.label=="string"?this.label:(e=this.label)==null?void 0:e.label}}class cp{constructor(e,r,i){this.stateManager=e,this.manager=r,this.context=i,Iu(this,"_onDidChangeTreeData",new v.EventEmitter),Iu(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),i.subscriptions.push(this.manager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeIssueData(()=>{this._onDidChangeTreeData.fire()})),i.subscriptions.push(this.stateManager.onDidChangeCurrentIssue(()=>{this._onDidChangeTreeData.fire()}))}getTreeItem(e){var r;let i;return e instanceof ti?i=e:e instanceof bi?i=new ti(e.repository.rootUri,f.basename(e.repository.rootUri.fsPath),v.TreeItemCollapsibleState.Expanded):e instanceof Bt?(i=new ti(void 0,`${e.number}: ${e.title}`,v.TreeItemCollapsibleState.None),i.iconPath=e.isOpen?new v.ThemeIcon("issues",new v.ThemeColor("issues.open")):new v.ThemeIcon("issue-closed",new v.ThemeColor("issues.closed")),((r=this.stateManager.currentIssue(e.uri))==null?void 0:r.issue.number)===e.number?(i.label=`\u2713 ${i.label}`,i.contextValue="currentissue"):this.stateManager.getSavedIssueState(e.number).branch?i.contextValue="continueissue":i.contextValue="issue",If(e)&&(i.contextValue="link"+i.contextValue)):i=new ti(e.uri,e.milestone.title,e.issues.length>0?v.TreeItemCollapsibleState.Expanded:v.TreeItemCollapsibleState.None),i}getChildren(e){return e===void 0&&this.manager.state!==er.RepositoriesLoaded?this.getStateChildren():this.getIssuesChildren(e)}async resolveTreeItem(e,r){return r instanceof Bt&&(e.tooltip=await Cs(r,this.context,this.manager)),e}getStateChildren(){return this.manager.state===er.NeedsAuthentication?[]:[new ti(void 0,"Loading...")]}getQueryItems(e){const r=this.stateManager.getIssueCollection(e.repository.rootUri);if(r.size===1)return Array.from(r.values())[0];const i=Array.from(r.keys()),o=i[0];return i.map(p=>{const N=new ti(e.repository.rootUri,p);return N.contextValue="query",N.collapsibleState=p===o?v.TreeItemCollapsibleState.Expanded:v.TreeItemCollapsibleState.Collapsed,N})}getIssuesChildren(e){var r;return e===void 0?this.manager.folderManagers.length===1?this.getQueryItems(this.manager.folderManagers[0]):this.manager.folderManagers.length>1?this.manager.folderManagers:[]:e instanceof bi?this.getQueryItems(e):e instanceof ti?e.uri?(r=this.stateManager.getIssueCollection(e.uri).get(e.labelAsString))!=null?r:[]:[]:e instanceof Bt?[]:e.issues.map(i=>{const o=Object.assign(i);return o.uri=e.uri,o})}}var dp=Object.defineProperty,fp=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?dp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class hp{constructor(e){fp(this,"expression"),e.subscriptions.push(v.workspace.onDidChangeConfiguration(()=>{this.updateTriggers()})),this.updateTriggers()}updateTriggers(){const e=v.workspace.getConfiguration(Nt).get("createIssueTriggers",[]);this.expression=e.length>0?new RegExp(e.join("|")):void 0}async provideCodeActions(e,r,i,o){if(this.expression===void 0||i.only&&i.only!==v.CodeActionKind.QuickFix)return[];const p=[];let N=r.start.line;do{const L=e.lineAt(N).text,$=L.substring(0,Of);if(!$.match(Fi)){const re=$.search(this.expression);if(re>=0){const ce=new v.CodeAction("Create GitHub Issue",v.CodeActionKind.QuickFix),de=$.substring(re).search(/\s/),we=re+(de>0?de:$.match(this.expression)[0].length);ce.command={title:"Create GitHub Issue",command:"issue.createIssueFromSelection",arguments:[{document:e,lineNumber:N,line:L,insertIndex:we,range:r}]},p.push(ce);break}}N++}while(r.end.line>=N);return p}}var pp=Object.defineProperty,rr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?pp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const mp=["Recovery"],vp="currentIssue",Ws="issues",Du="ignoreMilestones",Qs=[{label:"My Issues",query:"default"}];class zm extends null{constructor(){super(...arguments);rr(this,"uri")}}class gp{constructor(e,r,i){this.gitAPI=e,this.manager=r,this.context=i,rr(this,"resolvedIssues",new Map),rr(this,"_singleRepoStates",new Map),rr(this,"_onRefreshCacheNeeded",new v.EventEmitter),rr(this,"onRefreshCacheNeeded",this._onRefreshCacheNeeded.event),rr(this,"_onDidChangeIssueData",new v.EventEmitter),rr(this,"onDidChangeIssueData",this._onDidChangeIssueData.event),rr(this,"_queries",[]),rr(this,"_onDidChangeCurrentIssue",new v.EventEmitter),rr(this,"onDidChangeCurrentIssue",this._onDidChangeCurrentIssue.event),rr(this,"initializePromise"),rr(this,"statusBarItem"),rr(this,"isSettingIssue",!1),r.folderManagers.forEach(o=>{this.context.subscriptions.push(o.onDidChangeRepositories(()=>this.refresh()))})}getIssueCollection(e){var r;let i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.issueCollection;return i||(i=new Map,i)}getOrCreateSingleRepoState(e,r){let i=this._singleRepoStates.get(e.path);return i||(r||(r=this.manager.getManagerForFile(e)),i={issueCollection:new Map,maxIssueNumber:0,folderManager:r},this._singleRepoStates.set(e.path,i),i)}async tryInitializeAndWait(){return this.initializePromise||(this.initializePromise=new Promise(e=>{if(this.manager.state===er.RepositoriesLoaded)this.doInitialize(),e();else{const r=this.manager.onDidChangeState(()=>{this.manager.state===er.RepositoriesLoaded&&(this.doInitialize(),r.dispose(),e())});this.context.subscriptions.push(r)}})),this.initializePromise}registerRepositoryChangeEvent(){this.gitAPI.repositories.forEach(e=>{this.context.subscriptions.push(e.state.onDidChange(async()=>{var r;const i=this.getOrCreateSingleRepoState(e.rootUri),o=i.lastHead,p=i.lastBranch,N=e.state.HEAD?e.state.HEAD.commit:void 0;(e.state.HEAD?e.state.HEAD.commit:void 0)!==o&&await this.setIssueData(i.folderManager);const L=(r=e.state.HEAD)==null?void 0:r.name;(o!==N||p!==L)&&(!i.currentIssue||L!==i.currentIssue.branchName)&&(L?i.folderManager&&await this.setCurrentIssueFromBranch(i,L):await this.setCurrentIssue(i,void 0)),i.lastHead=e.state.HEAD?e.state.HEAD.commit:void 0,i.lastBranch=e.state.HEAD?e.state.HEAD.name:void 0}))})}refreshCacheNeeded(){this._onRefreshCacheNeeded.fire()}async refresh(){return this.setAllIssueData()}async doInitialize(){var e;this.cleanIssueState(),this._queries=v.workspace.getConfiguration(Nt).get(vi,Qs),this._queries.length===0&&(this._queries=Qs),this.context.subscriptions.push(v.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Nt}.${vi}`)?(this._queries=v.workspace.getConfiguration(Nt).get(vi,Qs),this._onRefreshCacheNeeded.fire()):r.affectsConfiguration(`${Nt}.${Du}`)&&this._onRefreshCacheNeeded.fire()})),await this.setAllIssueData(),this.registerRepositoryChangeEvent(),this.context.subscriptions.push(this.onRefreshCacheNeeded(async()=>{await this.refresh()}));for(const r of this.manager.folderManagers){const i=this.getOrCreateSingleRepoState(r.repository.rootUri,r);i.lastHead=r.repository.state.HEAD?r.repository.state.HEAD.commit:void 0,this._singleRepoStates.set(r.repository.rootUri.path,i);const o=(e=r.repository.state.HEAD)==null?void 0:e.name;!i.currentIssue&&o&&await this.setCurrentIssueFromBranch(i,o)}}cleanIssueState(){const e=this.context.workspaceState.get(Ws),r=e?JSON.parse(e):{issues:[],branches:[]},i=new Date().valueOf()-30*864e5;for(const o in r.issues)r.issues[o].stateModifiedTime<i&&(r.branches&&r.branches[o]&&delete r.branches[o],delete r.issues[o])}async getUsers(e){var r;await this.initializePromise;const i=await((r=this.manager.getManagerForFile(e))==null?void 0:r.getAssignableUsers()),o=new Map;for(const p in i)i[p].forEach(N=>{o.set(N.login,N)});return o}getUserMap(e){if(!this.initializePromise)return Promise.resolve(new Map);const r=this.getOrCreateSingleRepoState(e);return r.userMap||(r.userMap=this.getUsers(e)),r.userMap}async getCurrentUser(e){var r;return(r=this.manager.credentialStore.getCurrentUser(e))==null?void 0:r.login}async setAllIssueData(){return Promise.all(this.manager.folderManagers.map(e=>this.setIssueData(e)))}async setIssueData(e){var r,i;const o=this.getOrCreateSingleRepoState(e.repository.rootUri,e);o.issueCollection.clear();let p,N;for(const L of this._queries){let $;if(L.query===Bf)$=this.setMilestones(e);else{if(!p)try{p=await e.getPullRequestDefaults()}catch(K){}if(!N){const K=ci(e.repository).filter(re=>re.authProviderId===ht["github-enterprise"]);N=await this.getCurrentUser(K.length?ht["github-enterprise"]:ht.github)}$=this.setIssues(e,await xn(L.query,void 0,p,N))}o.issueCollection.set(L.label,$)}o.maxIssueNumber=await e.getMaxIssue(),o.lastHead=(r=e.repository.state.HEAD)==null?void 0:r.commit,o.lastBranch=(i=e.repository.state.HEAD)==null?void 0:i.name}setIssues(e,r){return new Promise(async i=>{const o=await e.getIssues({fetchNextPage:!1},r);this._onDidChangeIssueData.fire(),i(o.items.map(p=>{const N=p;return N.uri=e.repository.rootUri,N}))})}async setCurrentIssueFromBranch(e,r){if(v.workspace.getConfiguration(Nt).get(Zo)==="off")return;let o;try{o=await e.folderManager.getPullRequestDefaults()}catch(N){return}if(r===o.base){await this.setCurrentIssue(e,void 0);return}if(e.currentIssue&&e.currentIssue.branchName===r)return;const p=this.getSavedState();for(const N in p.branches)if(N===r){const L=await e.folderManager.resolveIssue(p.branches[N].owner,p.branches[N].repositoryName,p.branches[N].number);L&&await this.setCurrentIssue(e,new Pu(L,e.folderManager,this));return}}setMilestones(e){return new Promise(async r=>{const i=new Date,o=v.workspace.getConfiguration(Nt).get(Du,[]),p=await e.getMilestones({fetchNextPage:!1},o.indexOf(hu)<0);let N;const L=new Map,$=[];for(let K=0;K<p.items.length;K++){const re=p.items[K];re.uri=e.repository.rootUri;const ce=p.items[K].milestone;if(re.issues&&re.issues.length<=0||o.indexOf(ce.title)>=0)continue;$.push(re);let de=ce.dueOn?new Date(ce.dueOn):void 0;de||(de=new Date(this.removeDateExcludeStrings(ce.title)),isNaN(de.getTime())&&(de=new Date(ce.createdAt))),de<i&&(N===void 0||de>N)&&(N=de),L.set(ce.id?ce.id:ce.title,de)}$.sort((K,re)=>{const ce=L.get(K.milestone.id?K.milestone.id:K.milestone.title),de=L.get(re.milestone.id?re.milestone.id:re.milestone.title);return N&&ce>=N&&de>=N?ce<=de?-1:1:ce>=de?-1:1}),this._onDidChangeIssueData.fire(),r($)})}removeDateExcludeStrings(e){return mp.forEach(r=>e=e.replace(r,"")),e}currentIssue(e){var r;return(r=this._singleRepoStates.get(e.path))==null?void 0:r.currentIssue}currentIssues(){return Array.from(this._singleRepoStates.values()).filter(e=>e==null?void 0:e.currentIssue).map(e=>e.currentIssue)}maxIssueNumber(e){var r,i;return(i=(r=this._singleRepoStates.get(e.path))==null?void 0:r.maxIssueNumber)!=null?i:0}async setCurrentIssue(e,r){if(!(this.isSettingIssue&&r===void 0)){if(this.isSettingIssue=!0,e instanceof bi){const i=this._singleRepoStates.get(e.repository.rootUri.path);if(!i)return;e=i}try{if(e.currentIssue&&(r==null?void 0:r.issue.number)===e.currentIssue.issue.number)return;e.currentIssue&&await e.currentIssue.stopWorking(),r&&this.context.subscriptions.push(r.onDidChangeCurrentIssueState(()=>this.updateStatusBar())),this.context.workspaceState.update(vp,r==null?void 0:r.issue.number),(!r||await r.startWorking())&&(e.currentIssue=r,this.updateStatusBar()),this._onDidChangeCurrentIssue.fire()}catch(i){}finally{this.isSettingIssue=!1}}}updateStatusBar(){const e=this.currentIssues(),r=e.length>0;if(!r){this.statusBarItem&&(this.statusBarItem.hide(),this.statusBarItem.dispose(),this.statusBarItem=void 0);return}r&&!this.statusBarItem&&(this.statusBarItem=v.window.createStatusBarItem(v.StatusBarAlignment.Left,0));const i=this.statusBarItem;i.text=`$(issues) Issue ${e.map(o=>gi(o.issue,o.repoDefaults)).join(", ")}`,i.tooltip=e.map(o=>o.issue.title).join(", "),i.command="issue.statusBar",i.show()}getSavedState(){const e=this.context.workspaceState.get(Ws);return e?JSON.parse(e):{issues:Object.create(null),branches:Object.create(null)}}getSavedIssueState(e){var r;return(r=this.getSavedState().issues[`${e}`])!=null?r:{}}async setSavedIssueState(e,r){const i=this.getSavedState();return i.issues[`${e.number}`]={...r,stateModifiedTime:new Date().valueOf()},r.branch&&(i.branches||(i.branches=Object.create(null)),i.branches[r.branch]={number:e.number,owner:e.remote.owner,repositoryName:e.remote.repositoryName}),this.context.workspaceState.update(Ws,JSON.stringify(i))}}class bp{constructor(e,r,i){this.stateManager=e,this.manager=r}async provideCompletionItems(e,r,i,o){var p;if(e.languageId!=="scminput"&&e.uri.scheme!==Fr&&r.character>0&&o.triggerKind===v.CompletionTriggerKind.Invoke&&e.getText(new v.Range(r.with(void 0,r.character-1),r))!=="@")return[];if(o.triggerKind===v.CompletionTriggerKind.TriggerCharacter&&v.workspace.getConfiguration(Nt).get("ignoreUserCompletionTrigger",[]).find(K=>K===e.languageId))return[];if(e.languageId!=="scminput"&&!await Ps(e,r))return[];let N=new v.Range(r,r);r.character-1>=0&&e.getText(new v.Range(r.translate(0,-1),r))==="@"&&(N=new v.Range(r.translate(0,-1),r));const L=e.uri.scheme===Fr?(p=zs(e.uri))!=null?p:e.uri:e.languageId==="scminput"?ou(e.uri):e.uri;if(!L)return[];const $=[];return(await this.stateManager.getUserMap(L)).forEach(K=>{const re=new $f(K.login,v.CompletionItemKind.User);re.insertText=`@${K.login}`,re.login=K.login,re.uri=L,re.range=N,re.detail=K.name,re.filterText=`@ ${K.login} ${K.name}`,e.uri.scheme===Fr&&(re.commitCharacters=[" ",","]),$.push(re)}),$}async resolveCompletionItem(e,r){const i=this.manager.getManagerForFile(e.uri);if(!i)return e;const o=await i.getPullRequestDefaults(),p=await i.resolveUser(o.owner,o.repo,e.login);return p&&(e.documentation=Ts(o,p),e.command={command:"issues.userCompletion",title:"User Completion Chosen"}),e}}class yp{constructor(e,r){this.manager=e,this.telemetry=r}async provideHover(e,r,i){if(!await au(e,r))return;let o=e.getWordRangeAtPosition(r,Rs);if(o&&o.start.character>0){o=new v.Range(new v.Position(o.start.line,o.start.character),o.end);const N=e.getText(o).match(Rs);if(N)return this.createHover(e.uri,N[1],o)}else return}async createHover(e,r,i){try{const o=this.manager.getManagerForFile(e);if(!o)return;const p=await o.getPullRequestDefaults(),N=await o.resolveUser(p.owner,p.repo,r);return N&&N.name?(this.telemetry.sendTelemetryEvent("issues.userHover"),new v.Hover(Ts(p,N),i)):void 0}catch(o){return}}}var wp=Object.defineProperty,Ks=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?wp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const _p="issueCompletions.enabled",kp="userCompletions.enabled";class Sp{constructor(e,r,i,o,p){this.gitAPI=e,this.manager=r,this.reviewManagers=i,this.context=o,this.telemetry=p,Ks(this,"_stateManager"),Ks(this,"createIssueInfo"),Ks(this,"documentFilters",[{language:"php"},{language:"powershell"},{language:"jade"},{language:"python"},{language:"r"},{language:"razor"},{language:"ruby"},{language:"rust"},{language:"scss"},{language:"search-result"},{language:"shaderlab"},{language:"shellscript"},{language:"sql"},{language:"swift"},{language:"typescript"},{language:"vb"},{language:"xml"},{language:"yaml"},{language:"markdown"},{language:"bat"},{language:"clojure"},{language:"coffeescript"},{language:"jsonc"},{language:"c"},{language:"cpp"},{language:"csharp"},{language:"css"},{language:"dockerfile"},{language:"fsharp"},{language:"git-commit"},{language:"go"},{language:"groovy"},{language:"handlebars"},{language:"hlsl"},{language:"ini"},{language:"java"},{language:"javascriptreact"},{language:"javascript"},{language:"json"},{language:"less"},{language:"log"},{language:"lua"},{language:"makefile"},{language:"ignore"},{language:"properties"},{language:"objective-c"},{language:"perl"},{language:"perl6"},"*"]),this._stateManager=new gp(e,this.manager,this.context)}async initialize(){return this.context.subscriptions.push(v.workspace.registerFileSystemProvider(Fr,new ap)),this.registerCompletionProviders(),this.context.subscriptions.push(v.languages.registerCompletionItemProvider({scheme:Fr},new op(this.manager)," ",",")),this.context.subscriptions.push(v.window.createTreeView("issues:github",{showCollapseAll:!0,treeDataProvider:new cp(this._stateManager,this.manager,this.context)})),this.context.subscriptions.push(v.commands.registerCommand("issue.createIssueFromSelection",(e,r)=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromSelection"),this.createTodoIssue(e,r)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.createIssueFromClipboard",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromClipboard"),this.createTodoIssueClipboard()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.copyGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyGithubPermalink"),this.copyPermalink()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.copyMarkdownGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.copyMarkdownGithubPermalink"),this.copyMarkdownPermalink()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.openGithubPermalink",()=>(this.telemetry.sendTelemetryEvent("issue.openGithubPermalink"),this.openPermalink()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.openIssue",e=>(this.telemetry.sendTelemetryEvent("issue.openIssue"),this.openIssue(e)))),this.context.subscriptions.push(v.commands.registerCommand("issue.startWorking",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.startWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.startWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.continueWorking",e=>(this.telemetry.sendTelemetryEvent("issue.continueWorking"),this.startWorking(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.startWorkingBranchPrompt",e=>(this.telemetry.sendTelemetryEvent("issue.startWorkingBranchPrompt"),this.startWorkingBranchPrompt(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.stopWorking",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.stopWorkingBranchDescriptiveTitle",e=>(this.telemetry.sendTelemetryEvent("issue.stopWorking"),this.stopWorking(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.statusBar",()=>(this.telemetry.sendTelemetryEvent("issue.statusBar"),this.statusBar()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.copyIssueNumber",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueNumber"),this.copyIssueNumber(e)))),this.context.subscriptions.push(v.commands.registerCommand("issue.copyIssueUrl",e=>(this.telemetry.sendTelemetryEvent("issue.copyIssueUrl"),this.copyIssueUrl(e)))),this.context.subscriptions.push(v.commands.registerCommand("issue.refresh",()=>(this.telemetry.sendTelemetryEvent("issue.refresh"),this.refreshView()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.suggestRefresh",()=>(this.telemetry.sendTelemetryEvent("issue.suggestRefresh"),this.suggestRefresh()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.getCurrent",()=>(this.telemetry.sendTelemetryEvent("issue.getCurrent"),this.getCurrent()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.editQuery",e=>(this.telemetry.sendTelemetryEvent("issue.editQuery"),this.editQuery(e)),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.createIssue",()=>(this.telemetry.sendTelemetryEvent("issue.createIssue"),this.createIssue()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.createIssueFromFile",()=>(this.telemetry.sendTelemetryEvent("issue.createIssueFromFile"),this.createIssueFromFile()),this)),this.context.subscriptions.push(v.commands.registerCommand("issue.issueCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.issueCompletion")})),this.context.subscriptions.push(v.commands.registerCommand("issue.userCompletion",()=>{this.telemetry.sendTelemetryEvent("issue.userCompletion")})),this.context.subscriptions.push(v.commands.registerCommand("issue.signinAndRefreshList",async()=>this.manager.authenticate())),this.context.subscriptions.push(v.commands.registerCommand("issue.goToLinkedCode",async e=>Df(e,this.manager))),this._stateManager.tryInitializeAndWait().then(()=>{this.context.subscriptions.push(v.languages.registerHoverProvider("*",new up(this.manager,this._stateManager,this.context,this.telemetry))),this.context.subscriptions.push(v.languages.registerHoverProvider("*",new yp(this.manager,this.telemetry))),this.context.subscriptions.push(v.languages.registerCodeActionsProvider("*",new hp(this.context)))})}dispose(){}registerCompletionProviders(){const e=[{provider:ip,trigger:"#",disposable:void 0,configuration:_p},{provider:bp,trigger:"@",disposable:void 0,configuration:kp}];for(const r of e)v.workspace.getConfiguration(Nt).get(r.configuration,!0)&&this.context.subscriptions.push(r.disposable=v.languages.registerCompletionItemProvider(this.documentFilters,new r.provider(this._stateManager,this.manager,this.context),r.trigger));this.context.subscriptions.push(v.workspace.onDidChangeConfiguration(r=>{for(const i of e)if(r.affectsConfiguration(`${Nt}.${i.configuration}`)){const o=v.workspace.getConfiguration(Nt).get(i.configuration,!0);!o&&i.disposable?(i.disposable.dispose(),i.disposable=void 0):o&&!i.disposable&&this.context.subscriptions.push(i.disposable=v.languages.registerCompletionItemProvider(this.documentFilters,new i.provider(this._stateManager,this.manager,this.context),i.trigger));break}}))}async createIssue(){var e,r;let i=(e=v.window.activeTextEditor)==null?void 0:e.document.uri;if(i||(i=(r=await this.chooseRepo("Select the repo to create the issue in."))==null?void 0:r.repository.rootUri),i)return this.makeNewIssueFile(i)}async createIssueFromFile(){var e,r,i,o;let p;if(!v.window.activeTextEditor||v.window.activeTextEditor.document.uri.scheme!==Fr)return;p=v.window.activeTextEditor.document.getText();const N=p.indexOf(`\r
\r
`),L=p.indexOf(`

`);let $;if(N<0&&L<0)return;N<0?$=L:L<0?$=N:$=Math.min(N,L);const K=p.substring(0,$);let re;if(p=p.substring($+2).trim(),p.startsWith(Cn)){const Re=p.split(/\r\n|\n/,1);Re.length===1&&(re=Re[0].substring(Cn.length).split(",").map(ke=>(ke=ke.trim(),ke.startsWith("@")&&(ke=ke.substring(1)),ke)),p=p.substring(Re[0].length).trim())}let ce;if(p.startsWith(ji)){const Re=p.split(/\r\n|\n/,1);Re.length===1&&(ce=Re[0].substring(ji.length).split(",").map(ke=>ke.trim()).filter(ke=>ke),p=p.substring(Re[0].length).trim())}const de=p;if(!K||!de)return;const we=await this.doCreateIssue((e=this.createIssueInfo)==null?void 0:e.document,(r=this.createIssueInfo)==null?void 0:r.newIssue,K,de,re,ce,(i=this.createIssueInfo)==null?void 0:i.lineNumber,(o=this.createIssueInfo)==null?void 0:o.insertIndex,zs(v.window.activeTextEditor.document.uri));this.createIssueInfo=void 0,we&&await v.commands.executeCommand("workbench.action.closeActiveEditor")}async editQuery(e){const r=v.workspace.getConfiguration(Nt),i=r.inspect(vi);let o;if(i==null?void 0:i.workspaceValue)o="workbench.action.openWorkspaceSettingsFile";else{const N=r.get(vi);(i==null?void 0:i.defaultValue)&&JSON.stringify(i==null?void 0:i.defaultValue)===JSON.stringify(N)&&r.update(vi,i.defaultValue,v.ConfigurationTarget.Global),o="workbench.action.openSettingsJson"}await v.commands.executeCommand(o);const p=v.window.activeTextEditor;if(p){const L=p.document.getText().search(e.labelAsString);if(L>=0){const $=p.document.positionAt(L);p.revealRange(new v.Range($,$)),p.selection=new v.Selection($,$)}}}getCurrent(){const e=this._stateManager.currentIssues();if(e.length>0)return{owner:e[0].issue.remote.owner,repo:e[0].issue.remote.repositoryName,number:e[0].issue.number}}refreshView(){this._stateManager.refreshCacheNeeded()}async suggestRefresh(){return await v.commands.executeCommand("hideSuggestWidget"),await this._stateManager.refresh(),v.commands.executeCommand("editor.action.triggerSuggest")}openIssue(e){if(e instanceof Bt)return v.env.openExternal(v.Uri.parse(e.html_url))}async doStartWorking(e,r,i){if(!e){v.window.showErrorMessage(`There are no repositories open that match ${r.remote.url}`);return}const o=await e.findUpstreamForItem(r);o.needsFork&&await e.tryOfferToFork(r.githubRepository)===void 0||await this._stateManager.setCurrentIssue(e,new Pu(r,e,this._stateManager,o.remote,i))}async startWorking(e){e instanceof Bt&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e)}async startWorkingBranchPrompt(e){e instanceof Bt&&this.doStartWorking(this.manager.getManagerForIssueModel(e),e,!0)}async stopWorking(e){var r;const i=this.manager.getManagerForIssueModel(e);!i||e instanceof Bt&&((r=this._stateManager.currentIssue(i.repository.rootUri))==null?void 0:r.issue.number)===e.number&&await this._stateManager.setCurrentIssue(i,void 0)}async statusBarActions(e){const r=`$(globe) Open #${e.issue.number} ${e.issue.title}`,i=`$(git-pull-request) Create pull request for #${e.issue.number} (pushes branch)`;let o;try{o=await e.manager.getPullRequestDefaults()}catch($){}const p=`$(primitive-square) Stop working on #${e.issue.number}`,N=e.branchName&&o?[r,i,p]:[r,i,p];switch(await v.window.showQuickPick(N,{placeHolder:"Current issue options"})){case r:return this.openIssue(e.issue);case i:{const $=Zr.getReviewManagerForFolderManager(this.reviewManagers,e.manager);if($)return Xf(e.manager,$,this._stateManager);break}case p:return this._stateManager.setCurrentIssue(e.manager,void 0)}}async statusBar(){const e=this._stateManager.currentIssues();if(e.length===1)return this.statusBarActions(e[0]);{const r=e.map(o=>({label:`#${o.issue.number} from ${o.issue.githubRepository.remote.owner}/${o.issue.githubRepository.remote.repositoryName}`,currentIssue:o})),i=await v.window.showQuickPick(r);if(i)return this.statusBarActions(i.currentIssue)}}stringToUint8Array(e){return new TextEncoder().encode(e)}copyIssueNumber(e){if(e instanceof Bt)return v.env.clipboard.writeText(e.number.toString())}copyIssueUrl(e){if(e instanceof Bt)return v.env.clipboard.writeText(e.html_url)}async createTodoIssueClipboard(){return this.createTodoIssue(void 0,await v.env.clipboard.readText())}async createTodoIssue(e,r){let i,o,p,N,L,$;if(!e&&v.window.activeTextEditor)i=v.window.activeTextEditor.document,$=i.getText(v.window.activeTextEditor.selection);else if(e)i=e.document,p=e.insertIndex,N=e.lineNumber,o=e.line.substring(p,e.line.length).trim(),$=i.getText(e.range.isEmpty?i.lineAt(e.range.start.line).range:e.range);else return;const K=$.match(Rs);K&&K.length===2&&(await this._stateManager.getUserMap(i.uri)).has(K[1])&&(L=[K[1]]);let re;const ce=r||(e==null?void 0:e.document.isUntitled)?r:(await Ns(this.gitAPI,e)).permalink,de=v.window.createInputBox();de.value=o!=null?o:"",de.prompt="Set the issue title. Confirm to create the issue now or use the edit button to edit the issue title and description.",de.title="Create Issue",de.buttons=[{iconPath:new v.ThemeIcon("edit"),tooltip:"Edit Description"}],de.onDidAccept(async()=>{re=de.value,re&&(de.busy=!0,await this.doCreateIssue(i,e,re,ce,L,void 0,N,p),de.busy=!1),de.hide()}),de.onDidTriggerButton(async()=>{re=de.value,de.busy=!0,this.createIssueInfo={document:i,newIssue:e,lineNumber:N,insertIndex:p},this.makeNewIssueFile(i.uri,re,ce,L),de.busy=!1,de.hide()}),de.show()}async makeNewIssueFile(e,r,i,o){const p=`?{"origin":"${e.toString()}"}`,N=v.Uri.parse(`${Fr}:/${sp}${p}`);if(v.window.visibleTextEditors.filter(ke=>ke.document.uri.scheme===Fr).length>0)return;await v.workspace.fs.delete(N);const L=`${Cn} ${o&&o.length>0?o.map(ke=>"@"+ke).join(", ")+" ":""}`,$=`${ji} `,K=`${r!=null?r:"Issue Title"}

${L}
${$}

${i!=null?i:""}

<!-- Edit the body of your new issue then click the \u2713 "Create Issue" button in the top right of the editor. The first line will be the issue title. Assignees and Labels follow after a blank line. Leave an empty line before beginning the body of the issue. -->`;await v.workspace.fs.writeFile(N,this.stringToUint8Array(K));const re=v.window.createTextEditorDecorationType({after:{contentText:" Comma-separated usernames, either @username or just username.",fontStyle:"italic",color:new v.ThemeColor("issues.newIssueDecoration")}}),ce=v.window.createTextEditorDecorationType({after:{contentText:" Comma-separated labels.",fontStyle:"italic",color:new v.ThemeColor("issues.newIssueDecoration")}}),de=v.window.onDidChangeActiveTextEditor(ke=>{if((ke==null?void 0:ke.document.uri.scheme)===Fr){const Ce=ke.document.lineAt(2);Ce.text.startsWith(Cn)&&ke.setDecorations(re,[new v.Range(new v.Position(2,0),new v.Position(2,Ce.text.length))]);const Pe=ke.document.lineAt(3);Pe.text.startsWith(ji)&&ke.setDecorations(ce,[new v.Range(new v.Position(3,0),new v.Position(3,Pe.text.length))])}}),we=await v.window.showTextDocument(N),Re=v.workspace.onDidCloseTextDocument(ke=>{ke===we.document&&(de.dispose(),Re.dispose())})}async verifyLabels(e,r){var i;if(!r.labels)return!0;const o=(await e.getLabels(void 0,r)).map(L=>L.name),p=[],N=[];if((i=r.labels)==null||i.forEach(L=>{typeof L!="string"&&(L=L.name),o.includes(L)?N.push(L):p.push(L)}),p.length>0){const L="Yes",$="No";switch(await v.window.showInformationMessage(`The following labels don't exist in this repository: ${p.join(", ")}. 
Do you want to create these labels?`,{modal:!0},L,$)){case L:return!0;case $:return r.labels=N,!0;default:return!1}}return!0}async chooseRepo(e){const r=[];for(const o of this.manager.folderManagers)try{const p=await o.getPullRequestDefaults();r.push({label:`${p.owner}/${p.repo}`,repo:o})}catch(p){}if(r.length===0)return;if(r.length===1)return r[0].repo;const i=await v.window.showQuickPick(r,{placeHolder:e});return i==null?void 0:i.repo}async doCreateIssue(e,r,i,o,p,N,L,$,K){let re,ce;if(e?ce=this.manager.getManagerForFile(e.uri):K?ce=this.manager.getManagerForFile(K):ce=await this.chooseRepo("Choose where to create the issue."),!ce)return!1;try{re=await ce.getPullRequestDefaults()}catch(ke){return v.window.showErrorMessage("There is no remote. Can't create an issue."),!1}const de=o||(r==null?void 0:r.document.isUntitled)?o:(await Ns(this.gitAPI,r)).permalink,we={owner:re.owner,repo:re.repo,title:i,body:de,assignees:p,labels:N};if(!await this.verifyLabels(ce,we))return!1;const Re=await ce.createIssue(we);if(Re){if(e!==void 0&&$!==void 0&&L!==void 0){const ke=new v.WorkspaceEdit,Ce=v.workspace.getConfiguration(Nt).get("createInsertFormat","number")==="number"?`#${Re.number}`:Re.html_url;ke.insert(e.uri,new v.Position(L,$),` ${Ce}`),await v.workspace.applyEdit(ke)}else{const ke="Copy URL",Ce="Open Issue";v.window.showInformationMessage("Issue created",ke,Ce).then(async Pe=>{switch(Pe){case ke:await v.env.clipboard.writeText(Re.html_url);break;case Ce:await v.env.openExternal(v.Uri.parse(Re.html_url));break}})}return this._stateManager.refreshCacheNeeded(),!0}return!1}async getPermalinkWithError(){const e=await Ns(this.gitAPI);return e.error&&v.window.showWarningMessage(`Unable to create a GitHub permalink for the selection. ${e.error}`),e.permalink}async copyPermalink(){const e=await this.getPermalinkWithError();if(e)return v.env.clipboard.writeText(e)}getMarkdownLinkText(){if(!v.window.activeTextEditor)return;let e=v.window.activeTextEditor.selection;e.start.line!==e.end.line&&(e=new v.Range(e.start,new v.Position(e.start.line+1,0)));const r=v.window.activeTextEditor.document.getText(e);if(r)return r;if(e=v.window.activeTextEditor.document.getWordRangeAtPosition(e.start),e)return v.window.activeTextEditor.document.getText(e)}async copyMarkdownPermalink(){const e=await this.getPermalinkWithError(),r=this.getMarkdownLinkText();if(e&&r)return v.env.clipboard.writeText(`[${r.trim()}](${e})`)}async openPermalink(){const e=await this.getPermalinkWithError();if(e)return v.env.openExternal(v.Uri.parse(e))}}var Ep=Object.defineProperty,Rp=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ep(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class xp{constructor(){Rp(this,"_disposables"),this._disposables=[],this._disposables.push(v.window.registerFileDecorationProvider(this))}provideFileDecoration(e,r){if(e.scheme!=="filechange"&&e.scheme!=="github")return;const i=Z(e);if(i&&i.status!==void 0)return{propagate:!1,badge:this.letter(i.status)};const o=xe(e);if(o&&o.status!==void 0)return{propagate:!1,badge:this.letter(o.status)}}letter(e){switch(e){case Me.MODIFY:return"M";case Me.ADD:return"A";case Me.DELETE:return"D";case Me.RENAME:return"R";case Me.UNKNOWN:return"U";case Me.UNMERGED:return"C"}return""}dispose(){this._disposables.forEach(e=>e.dispose())}}var Mp=Object.defineProperty,Nn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Mp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Tp extends Vt{constructor(e,r,i,o,p){super();this.parent=e,this.pullRequestManager=r,this.pullRequest=i,this.commit=o,this.comments=p,Nn(this,"sha"),Nn(this,"collapsibleState"),Nn(this,"iconPath"),Nn(this,"contextValue"),this.label=o.commit.message,this.sha=o.sha,this.collapsibleState=v.TreeItemCollapsibleState.Collapsed;let N;try{o.author&&o.author.avatar_url&&(N=v.Uri.parse(`${o.author.avatar_url}&s=${64}`))}catch(L){}this.iconPath=N,this.contextValue="commit"}getTreeItem(){return this}async getChildren(){const r=(await this.pullRequest.getCommitChangedFiles(this.commit)).map(i=>{const o=this.comments.filter($=>$.path===i.filename&&$.originalCommitId===this.commit.sha),p=i.filename,N=v.Uri.parse(f.join(`commit~${this.commit.sha.substr(0,8)}`,p)),L=new wi(this,this.pullRequestManager,this.pullRequest,Ve(i.status),p,void 0,ne(N,p,void 0,this.commit.sha,!0,{base:!1},this.pullRequestManager.repository.rootUri),ne(N,p,void 0,this.commit.sha,!0,{base:!0},this.pullRequestManager.repository.rootUri),[],o,this.commit.sha);return L.useViewChangesCommand(),L});return Promise.resolve(r)}}var Cp=Object.defineProperty,zi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Cp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Np extends Vt{constructor(e,r,i,o){super();zi(this,"label","Commits"),zi(this,"collapsibleState"),zi(this,"_folderRepoManager"),zi(this,"_pr"),zi(this,"_comments"),this.parent=e,this._pr=i,this._folderRepoManager=r,this._comments=o,this.collapsibleState=v.TreeItemCollapsibleState.Collapsed}getTreeItem(){return this}async getChildren(){try{const r=(await this._pr.getCommits()).map(i=>new Tp(this,this._folderRepoManager,this._pr,i,this._comments));return Promise.resolve(r)}catch(e){return Promise.resolve([])}}}var Pp=Object.defineProperty,Ys=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Pp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Ap extends Vt{constructor(e,r){super();this.parent=e,this._fileChanges=r,Ys(this,"label","Files"),Ys(this,"collapsibleState"),Ys(this,"directories",[]),this.collapsibleState=v.TreeItemCollapsibleState.Expanded;const i=new Xr(this,"");this._fileChanges.forEach(o=>i.addFile(o)),i.finalize(),i.label===""?this.directories=i.children:this.directories=[i]}getTreeItem(){return this}async getChildren(){let e;return v.workspace.getConfiguration("githubPullRequests").get("fileListLayout")==="tree"?e=this.directories:e=this._fileChanges,Promise.resolve(e)}}var Ip=Object.defineProperty,Pn=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Ip(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Dp extends Jr{constructor(e,r,i,o,p){super(e,r.title,r.userAvatarUri,r);this.parent=e,this._pullRequest=r,this._pullRequestManager=i,this._comments=o,this._localFileChanges=p,Pn(this,"_filesCategoryNode"),Pn(this,"_commitsCategoryNode"),Pn(this,"collapsibleState",v.TreeItemCollapsibleState.Expanded),Pn(this,"_disposables",[]),this.label=this._pullRequest.title,this._disposables.push(v.window.onDidChangeActiveTextEditor(N=>{const L=N==null?void 0:N.document.uri.toString();this.revealActiveEditorInTree(L)})),this._disposables.push(this.parent.view.onDidChangeVisibility(N=>{var L;const $=(L=v.window.activeTextEditor)==null?void 0:L.document.uri.toString();this.revealActiveEditorInTree($)}))}revealActiveEditorInTree(e){if(this.parent.view.visible&&e){const r=this._localFileChanges.find(i=>i.filePath.toString()===e);r&&this.reveal(r,{select:!0})}}async getChildren(){return(!this._filesCategoryNode||!this._commitsCategoryNode)&&(this._filesCategoryNode=new Ap(this.parent,this._localFileChanges),this._commitsCategoryNode=new Np(this.parent,this._pullRequestManager,this._pullRequest,this._comments)),[this._filesCategoryNode,this._commitsCategoryNode]}getTreeItem(){return this}dispose(){this._disposables.forEach(e=>e.dispose()),this._disposables=[]}}var Fp=Object.defineProperty,Wi=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Fp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Fu extends v.Disposable{constructor(e){super(()=>this.dispose());this._context=e,Wi(this,"_onDidChangeTreeData",new v.EventEmitter),Wi(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Wi(this,"_disposables",[]),Wi(this,"_pullRequestManagerMap",new Map),Wi(this,"_view"),this._view=v.window.createTreeView("prStatus:github",{treeDataProvider:this,showCollapseAll:!0}),this._context.subscriptions.push(this._view),this._disposables.push(v.workspace.onDidChangeConfiguration(async r=>{if(r.affectsConfiguration(`${Dr}.fileListLayout`)){this._onDidChangeTreeData.fire();const i=v.workspace.getConfiguration(`${Dr}`).get("fileListLayout");await v.commands.executeCommand("setContext","fileListLayout:flat",i==="flat")}else r.affectsConfiguration("git.openDiffOnClick")&&this._onDidChangeTreeData.fire()}))}get view(){return this._view}refresh(){this._onDidChangeTreeData.fire()}updateViewTitle(){let e;if(this._pullRequestManagerMap.size===1){const r=this._pullRequestManagerMap.values().next();r.done||(e=r.value.pullRequestModel.number)}this._view.title=e?`Changes in Pull Request #${e}`:"Changes in Pull Request"}async addPrToView(e,r,i,o,p){const N=new Dp(this,r,e,o,i);this._pullRequestManagerMap.set(e,N),this.updateViewTitle(),await v.commands.executeCommand("setContext","github:inReviewMode",!0),this._onDidChangeTreeData.fire(),p&&this._view.reveal(N)}async removePrFromView(e){this._pullRequestManagerMap.delete(e),this.updateViewTitle(),this._pullRequestManagerMap.size===0&&this.hide(),this._onDidChangeTreeData.fire()}async hide(){await v.commands.executeCommand("setContext","github:inReviewMode",!1)}getTreeItem(e){return e.getTreeItem()}getParent(e){return e.getParent()}async reveal(e,r){this._view.reveal(e,r)}async getChildren(e){if(e)return await e.getChildren();{const r=[];if(this._pullRequestManagerMap.size>=1)for(const i of this._pullRequestManagerMap.values())r.push(i);return r}}getDescriptionNode(e){return this._pullRequestManagerMap.get(e)}async resolveTreeItem(e,r){return r instanceof wi&&await r.resolve(),r}dispose(){this._disposables.forEach(e=>e.dispose())}}var Op=Object.defineProperty,Hr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Op(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r),Or;(function(t){t[t.Empty=0]="Empty",t[t.More=1]="More",t[t.TryOtherRemotes=2]="TryOtherRemotes",t[t.Login=3]="Login",t[t.NoRemotes=4]="NoRemotes",t[t.NoGitRepositories=5]="NoGitRepositories",t[t.NoOpenFolder=6]="NoOpenFolder",t[t.NoMatchingRemotes=7]="NoMatchingRemotes",t[t.ConfigureRemotes=8]="ConfigureRemotes",t[t.Initializing=9]="Initializing"})(Or||(Or={}));class Mr extends Vt{constructor(e,r,i){super();switch(Hr(this,"collapsibleState"),Hr(this,"iconPath"),Hr(this,"type"),Hr(this,"command"),this.parent=e,this.type=r,this.collapsibleState=v.TreeItemCollapsibleState.None,r){case 0:this.label="0 pull requests in this category";break;case 1:this.label="Load more",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 2:this.label="Continue fetching from other remotes",this.command={title:"Load more",command:"pr.loadMore",arguments:[i]};break;case 3:this.label="Sign in",this.command={title:"Sign in",command:"pr.signinAndRefreshList",arguments:[]};break;case 4:this.label="No GitHub repositories found.";break;case 5:this.label="No git repositories found.";break;case 6:this.label="You have not yet opened a folder.";break;case 7:this.label="No remotes match the current setting.";break;case 8:this.label="Configure remotes...",this.command={title:"Configure remotes",command:"pr.configureRemotes",arguments:[]};break;case 9:this.label="Loading...";break;default:break}}getTreeItem(){return this}}class Zs extends Vt{constructor(e,r,i,o,p,N){super();switch(this.parent=e,this._folderRepoManager=r,this._telemetry=i,this._type=o,this._categoryQuery=N,Hr(this,"collapsibleState"),Hr(this,"prs"),Hr(this,"fetchNextPage",!1),Hr(this,"repositoryPageInformation",new Map),this.prs=[],this.collapsibleState=this._type===gt.All?v.TreeItemCollapsibleState.Expanded:v.TreeItemCollapsibleState.Collapsed,o){case gt.All:this.label="All Open";break;case gt.Query:this.label=p;break;case gt.LocalPullRequest:this.label="Local Pull Request Branches";break;default:break}}async getChildren(){this.childrenDisposables&&this.childrenDisposables.length&&(this.childrenDisposables.forEach(o=>o.dispose()),this.childrenDisposables=[]);let e=!1,r=!1,i=!1;if(this._type===gt.LocalPullRequest)try{this.prs=await this._folderRepoManager.getLocalPullRequests(),this._telemetry.sendTelemetryEvent("pr.expand.local")}catch(o){v.window.showErrorMessage(`Fetching local pull requests failed: ${U(o)}`),i=o instanceof hn}else if(this.fetchNextPage){try{const o=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!0},this._categoryQuery);this.prs=this.prs.concat(o.items),e=o.hasMorePages,r=o.hasUnsearchedRepositories}catch(o){v.window.showErrorMessage(`Fetching pull requests failed: ${U(o)}`),i=o instanceof hn}this.fetchNextPage=!1}else try{const o=await this._folderRepoManager.getPullRequests(this._type,{fetchNextPage:!1},this._categoryQuery);switch(this.prs=o.items,e=o.hasMorePages,r=o.hasUnsearchedRepositories,this._type){case gt.All:this._telemetry.sendTelemetryEvent("pr.expand.all");break;case gt.Query:this._telemetry.sendTelemetryEvent("pr.expand.query");break}}catch(o){v.window.showErrorMessage(`Fetching pull requests failed: ${U(o)}`),i=o instanceof hn}if(this.prs&&this.prs.length){const o=this.prs.map(p=>new Si(this,this._folderRepoManager,p,this._type===gt.LocalPullRequest));return e?o.push(new Mr(this,1,this)):r&&o.push(new Mr(this,2,this)),this.childrenDisposables=o,o}else{const o=i?3:0,p=[new Mr(this,o)];return this.childrenDisposables=p,p}}getTreeItem(){return this}}var Bp=Object.defineProperty,Ou=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Bp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);const Bu="queries";class Qi extends Vt{constructor(e,r,i,o){super();this.folderManager=i,this.telemetry=o,Ou(this,"collapsibleState"),Ou(this,"iconPath"),this.parent=e,this.collapsibleState=v.TreeItemCollapsibleState.Expanded,this.label=f.basename(r.fsPath)}static getQueries(e){return v.workspace.getConfiguration(Dr,e.repository.rootUri).get(Bu)||[]}getTreeItem(){return this}async getChildren(){return Qi.getCategoryTreeNodes(this.folderManager,this.telemetry,this)}static getCategoryTreeNodes(e,r,i){const o=Qi.getQueries(e).map(p=>new Zs(i,e,r,gt.Query,p.label,p.query));return[new Zs(i,e,r,gt.LocalPullRequest),...o,new Zs(i,e,r,gt.All)]}}var Lp=Object.defineProperty,Gr=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Lp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class Lu{constructor(e){this._telemetry=e,Gr(this,"_onDidChangeTreeData",new v.EventEmitter),Gr(this,"onDidChangeTreeData",this._onDidChangeTreeData.event),Gr(this,"_onDidChange",new v.EventEmitter),Gr(this,"_disposables"),Gr(this,"_childrenDisposables"),Gr(this,"_view"),Gr(this,"_reposManager"),Gr(this,"_initialized",!1),this._disposables=[],this._disposables.push(v.workspace.registerTextDocumentContentProvider("pr",Eu())),this._disposables.push(v.window.registerFileDecorationProvider(vu)),this._disposables.push(v.window.registerFileDecorationProvider(Fs)),this._disposables.push(v.commands.registerCommand("pr.refreshList",r=>{this._onDidChangeTreeData.fire()})),this._disposables.push(v.commands.registerCommand("pr.loadMore",r=>{r.fetchNextPage=!0,this._onDidChangeTreeData.fire(r)})),this._view=v.window.createTreeView("pr:github",{treeDataProvider:this,showCollapseAll:!0}),this._disposables.push(this._view),this._childrenDisposables=[],this._disposables.push(v.commands.registerCommand("pr.configurePRViewlet",async()=>{var r;const i=((r=this._reposManager)==null?void 0:r.state)===er.RepositoriesLoaded;switch(await v.window.showQuickPick(["Configure Remotes...","Configure Queries...",...i?["Sign out of GitHub..."]:[]])){case"Configure Queries...":return v.commands.executeCommand("workbench.action.openSettings",`@ext:${ge} queries`);case"Configure Remotes...":return v.commands.executeCommand("workbench.action.openSettings",`@ext:${ge} remotes`);case"Sign out of GitHub...":return v.commands.executeCommand("auth.signout");default:return}})),this._disposables.push(v.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration(`${Dr}.fileListLayout`)&&this._onDidChangeTreeData.fire()}))}get onDidChange(){return this._onDidChange.event}get view(){return this._view}async reveal(e,r){return this._view.reveal(e,r)}initialize(e){if(this._initialized)throw new Error("Tree has already been initialized!");this._initialized=!0,this._reposManager=e,this._disposables.push(this._reposManager.onDidChangeState(()=>{this._onDidChangeTreeData.fire()})),this._disposables.push(...this._reposManager.folderManagers.map(r=>r.onDidChangeRepositories(()=>{this._onDidChangeTreeData.fire()}))),this.initializeCategories(),this.refresh()}async initializeCategories(){this._disposables.push(v.workspace.onDidChangeConfiguration(async e=>{e.affectsConfiguration(`${Dr}.${Bu}`)&&this.refresh()}))}refresh(e){return e?this._onDidChangeTreeData.fire(e):this._onDidChangeTreeData.fire()}getTreeItem(e){return e.getTreeItem()}async resolveTreeItem(e,r){return r instanceof Mn&&await r.resolve(),r}needsRemotes(){var e;return((e=this._reposManager)==null?void 0:e.state)===er.NeedsAuthentication?Promise.resolve([]):v.workspace.getConfiguration(Dr).get(Is)?Promise.resolve([new Mr(this,Or.NoMatchingRemotes),new Mr(this,Or.ConfigureRemotes)]):Promise.resolve([new Mr(this,Or.NoRemotes)])}async getChildren(e){if(!this._reposManager)return v.workspace.workspaceFolders?Promise.resolve([new Mr(this,Or.NoGitRepositories)]):Promise.resolve([new Mr(this,Or.NoOpenFolder)]);if(this._reposManager.state===er.Initializing)return Promise.resolve([new Mr(this,Or.Initializing)]);if(this._reposManager.folderManagers.filter(r=>r.getGitHubRemotes().length>0).length===0)return this.needsRemotes();if(!e){this._childrenDisposables&&this._childrenDisposables.length&&this._childrenDisposables.forEach(i=>i.dispose());let r;return this._reposManager.folderManagers.length===1?r=Qi.getCategoryTreeNodes(this._reposManager.folderManagers[0],this._telemetry,this):r=this._reposManager.folderManagers.map(i=>new Qi(this,i.repository.rootUri,i,this._telemetry)),this._childrenDisposables=r,Promise.resolve(r)}return this._reposManager.folderManagers.filter(r=>r.repository.state.remotes.length>0).length===0?Promise.resolve([new Mr(this,Or.Empty)]):e.getChildren()}async getParent(e){return e.getParent()}dispose(){this._disposables.forEach(e=>e.dispose())}}var Up=Object.defineProperty,Uu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?Up(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class qp{constructor(e){this.gitAPI=e,Uu(this,"_onDidChange",new v.EventEmitter),Uu(this,"_fallback")}get onDidChange(){return this._onDidChange.event}async provideTextDocumentContent(e,r){if(!this._fallback)return"";const{path:i,commit:o,rootPath:p}=Ne(e);if(!i||!o)return"";const N=qo(this.gitAPI,v.Uri.file(p));if(!N)return v.window.showErrorMessage(`We couldn't find an open repository for ${o} locally.`),"";const L=f.join(N.rootUri.fsPath,i).replace(/\\/g,"/");let $;try{if($=await N.show(o,L),!$)throw new Error}catch(K){if($=await this._fallback(e),!$)try{await N.getCommit(o)}catch(re){v.window.showErrorMessage(`We couldn't find commit ${o} locally. You may want to sync the branch with remote. Sometimes commits can disappear after a force-push`)}}return $||""}registerTextDocumentContentFallback(e){this._fallback=e}}var $p=Object.defineProperty,qu=(t,e,r)=>(typeof e!="symbol"&&(e+=""),e in t?$p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r);class $u{constructor(e,r,i,o,p,N,L){this._context=e,this._reposManager=r,this._reviewManagers=i,this._prsTreeDataProvider=o,this._prFileChangesProvider=p,this._telemetry=N,qu(this,"_disposables"),this._disposables=[];const $=new qp(L);$.registerTextDocumentContentFallback(this.provideTextDocumentContent.bind(this)),this._disposables.push(v.workspace.registerTextDocumentContentProvider("review",$)),this.registerListeners(),this._disposables.push(this._prsTreeDataProvider)}registerListeners(){this._disposables.push(v.workspace.onDidChangeConfiguration(async e=>{if(e.affectsConfiguration("githubPullRequests.showInSCM")){if(this._prFileChangesProvider){this._prFileChangesProvider.dispose(),this._prFileChangesProvider=new Fu(this._context);for(const r of this._reviewManagers)r.updateState()}this._prsTreeDataProvider.dispose(),this._prsTreeDataProvider=new Lu(this._telemetry),this._prsTreeDataProvider.initialize(this._reposManager),this._disposables.push(this._prsTreeDataProvider)}}))}async provideTextDocumentContent(e){for(const r of this._reviewManagers)if(e.fsPath.startsWith(r.repository.rootUri.fsPath))return r.provideTextDocumentContent(e);return""}dispose(){this._disposables.forEach(e=>{e.dispose()})}}qu($u,"ID","Reviews");const Hp="AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217";let Ut;const Hu="prompts",Gu="createPROnPublish";async function Vu(t,e,r,i,o,p){t.subscriptions.push(a),a.appendLine("Git repository found, initializing review manager and pr tree view."),v.authentication.onDidChangeSessions(async ke=>{ke.provider.id==="github"&&(await $.clearCredentialCache(),re&&re.forEach(Ce=>Ce.updateState()))}),t.subscriptions.push(e.onDidPublish(async ke=>{if(!ke.branch||po(Hu,Gu)===!1)return;const Ce=re.find(Ue=>Ue.repository.rootUri.toString()===ke.repository.rootUri.toString());if(Ce==null?void 0:Ce.isCreatingPullRequest)return;const Pe="Create Pull Request...",Le="Don't Show Again",He=await v.window.showInformationMessage(`Would you like to create a Pull Request for branch '${ke.branch}'?`,Pe,Le);He===Pe?v.commands.executeCommand("pr.create"):He===Le&&mo(Hu,Gu,!1)})),t.subscriptions.push(v.window.registerUriHandler(Ee)),t.subscriptions.push(new xp);const N=v.workspace.workspaceFolders;N&&(i=i.sort((ke,Ce)=>{let Pe=N.length,Le=N.length;for(let He=0;He<N.length&&(N[He].uri.toString()===ke.rootUri.toString()?Pe=He:N[He].uri.toString()===Ce.rootUri.toString()&&(Le=He),!(Pe!==N.length&&Le!==N.length));He++);return Pe-Le}));const L=i.map(ke=>new bi(t,ke,Ut,e,r));t.subscriptions.push(...L);const $=new Mu(L,r,Ut);t.subscriptions.push($),p.then(ke=>{ke&&ke.registerContactServiceProvider("github-pr",new Xh($))});const K=new Fu(t);t.subscriptions.push(K);const re=L.map(ke=>new Zr(t,ke.repository,ke,Ut,K)),ce=new $u(t,$,re,o,K,Ut,e);t.subscriptions.push(ce),e.onDidChangeState(()=>{a.appendLine(`Git initialization state changed: state=${e.state}}`),re.forEach(ke=>ke.updateState())}),e.onDidOpenRepository(ke=>{const Ce=ke.state.onDidChange(()=>{const Pe=new bi(t,ke,Ut,e,r);$.insertFolderManager(Pe);const Le=new Zr(t,Pe.repository,Pe,Ut,K);re.push(Le),o.refresh(),Ce.dispose()})}),e.onDidCloseRepository(ke=>{$.removeRepo(ke);const Ce=re.findIndex(Pe=>Pe.repository.rootUri.toString()===ke.rootUri.toString());if(Ce){const Pe=re[Ce];re.splice(Ce),Pe.dispose()}o.refresh()}),o.initialize($),Ah(t,$,re,Ut,r,o);const de=v.workspace.getConfiguration("githubPullRequests").get("fileListLayout");await v.commands.executeCommand("setContext","fileListLayout:flat",de==="flat");const we=new Sp(e,$,re,t,Ut);t.subscriptions.push(we),await we.initialize(),t.subscriptions.push(new tp),await v.commands.executeCommand("setContext","github:initialized",!0);const Re=await Bh(t,Ut);await Re.initializePromise,await Re.isCachedFlightEnabled("githubaa"),Ut.sendTelemetryEvent("startup")}async function Gp(t){if(ge==="GitHub.vscode-pull-request-github-insiders"&&v.extensions.getExtension("github.vscode-pull-request-github")!==void 0)throw new Error("GitHub Pull Requests and Issues Nightly cannot be used while GitHub Pull Requests and Issues is also installed. Please ensure that only one version of the extension is installed.");v.commands.registerCommand("github.api.preloadPullRequest",async()=>{await v.commands.executeCommand("setContext",at,!0),await v.commands.executeCommand("github:activePullRequest:welcome.focus")}),kr.initialize(t);const e=new fe,r=v.extensions.getExtension(ge).packageJSON.version;return Ut=new Dh(new W.Z(ge,r,Hp)),t.subscriptions.push(Ut),Vp(t,e),e}async function Vp(t,e){Od(t);const r=new qd(Ut);t.subscriptions.push(r),await r.initialize(ht.github),Di()&&await r.initialize(ht["github-enterprise"]);const i=await Zh(r,e);i&&t.subscriptions.push(i);const o=Yh(e);t.subscriptions.push(o);const p=o.initialize();t.subscriptions.push(e);const N=new Lu(Ut);t.subscriptions.push(N),a.appendLine("Looking for git repository");const L=e.repositories;a.appendLine(`Found ${L.length} repositories during activation`),L.length>0?await Vu(t,e,r,L,N,p):te(e.onDidOpenRepository)(async $=>{a.appendLine(`Repository ${$.rootUri} opened`),await Vu(t,e,r,[$],N,p)})}async function jp(){Ut&&Ut.dispose()}})(),module.exports=An})();
